{"version":3,"sources":["node_modules/promise-polyfill/dist/polyfill.js","node_modules/jquery/dist/jquery.js","node_modules/socket.io-client/dist/socket.io.js","public/vendor/jquery/timeago/jquery.timeago.js","public/vendor/jquery/js/jquery.form.min.js","public/vendor/visibility/visibility.min.js","node_modules/bootstrap/dist/js/bootstrap.js","public/vendor/jquery/bootstrap-tagsinput/bootstrap-tagsinput.min.js","public/vendor/jquery/textcomplete/jquery.textcomplete.js","public/vendor/requirejs/require.js","public/src/require-config.js","public/vendor/bootbox/bootbox.js","public/vendor/bootbox/wrapper.js","public/vendor/tinycon/tinycon.js","public/vendor/xregexp/xregexp.js","public/vendor/xregexp/unicode/unicode-base.js","node_modules/benchpressjs/build/benchpress.js","public/src/utils.js","public/src/sockets.js","public/src/app.js","public/src/ajaxify.js","public/src/overrides.js","public/src/widgets.js","public/src/client/footer.js","public/src/client/chats.js","public/src/client/infinitescroll.js","public/src/client/pagination.js","public/src/client/recent.js","public/src/client/unread.js","public/src/client/topic.js","public/src/client/topic/events.js","public/src/client/topic/merge.js","public/src/client/topic/fork.js","public/src/client/topic/move.js","public/src/client/topic/posts.js","public/src/client/topic/images.js","public/src/client/topic/postTools.js","public/src/client/topic/threadTools.js","public/src/client/categories.js","public/src/client/category.js","public/src/client/category/tools.js","public/src/modules/translator.js","public/src/modules/notifications.js","public/src/modules/chat.js","public/src/modules/components.js","public/src/modules/sort.js","public/src/modules/navigator.js","public/src/modules/topicSelect.js","public/src/modules/categorySelector.js","public/src/modules/share.js","public/src/modules/search.js","public/src/modules/alerts.js","public/src/modules/taskbar.js","public/src/modules/helpers.js","public/src/modules/flags.js","public/src/modules/storage.js","node_modules/nodebb-rewards-essentials/static/lib/main.js","node_modules/nodebb-plugin-composer-default/static/lib/client.js","node_modules/screenfull/dist/screenfull.js","node_modules/nodebb-theme-persona/lib/persona.js","node_modules/nodebb-theme-persona/lib/modules/nprogress.js","node_modules/nodebb-theme-persona/lib/modules/autohidingnavbar.min.js","node_modules/nodebb-theme-persona/lib/modules/quickreply.js","node_modules/nodebb-plugin-markdown/public/js/client.js","node_modules/nodebb-plugin-mentions/static/autofill.js","node_modules/nodebb-plugin-emoji/build/public/lib/emoji.js","node_modules/nodebb-plugin-emoji/public/emoji-setup.js"],"names":["global","factory","exports","module","define","amd","this","setTimeoutFunc","setTimeout","noop","bind","fn","thisArg","apply","arguments","Promise","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","push","_immediateFn","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","then","finale","length","_unhandledRejectionFn","i","len","Handler","done","value","reason","ex","prototype","prom","constructor","callback","all","arr","args","Array","slice","call","remaining","res","val","race","values","setImmediate","err","console","warn","globalNS","window","Error","document","w","noGlobal","getProto","Object","getPrototypeOf","concat","indexOf","class2type","toString","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","support","isFunction","obj","nodeType","isWindow","preservedScriptAttributes","type","src","noModule","DOMEval","code","doc","node","script","createElement","text","head","appendChild","parentNode","removeChild","toType","version","jQuery","selector","context","init","rtrim","jquery","toArray","get","num","pushStack","elems","merge","prevObject","each","map","elem","first","eq","last","j","end","sort","splice","extend","options","name","copy","copyIsArray","clone","target","deep","isPlainObject","isArray","expando","Math","random","replace","isReady","error","msg","proto","Ctor","isEmptyObject","globalEval","isArrayLike","trim","makeArray","results","inArray","second","grep","invert","callbackInverse","matches","callbackExpect","arg","guid","Symbol","iterator","split","toLowerCase","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","a","b","pop","push_native","list","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","_","escaped","escapedWhitespace","high","String","fromCharCode","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","unloadHandler","disabledAncestor","addCombinator","disabled","dir","next","childNodes","els","seed","m","nid","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","id","getElementsByTagName","getElementsByClassName","qsa","test","nodeName","getAttribute","setAttribute","toSelector","join","testContext","querySelectorAll","qsaError","removeAttribute","keys","cache","key","cacheLength","shift","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","documentElement","hasCompare","subWindow","defaultView","top","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","tmp","innerHTML","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","specified","escape","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative",">"," ","+","~","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","start","parent","useCache","lastChild","uniqueID","pseudo","setFilters","idx","matched","not","matcher","unmatched","has","innerText","lang","elemLang","hash","location","root","focus","activeElement","hasFocus","href","tabIndex","enabled","checked","selected","selectedIndex","empty","header","button","even","odd","lt","gt","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","token","compiled","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","n","rneedsContext","rsingleTag","winnow","qualifier","rootjQuery","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","prev","targets","l","closest","index","prevAll","add","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","reverse","rnothtmlwhite","createOptions","object","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","disable","lock","fireWith","Identity","v","Thrower","adoptValue","noValue","method","fail","Deferred","func","tuples","state","always","catch","pipe","fns","newDefer","tuple","returned","progress","notify","onProgress","maxDepth","depth","special","that","mightThrow","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","stateString","when","singleValue","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","message","readyException","readyList","readyWait","wait","completed","removeEventListener","readyState","doScroll","access","chainable","emptyGet","raw","bulk","rmsPrefix","rdashAlpha","fcamelCase","letter","toUpperCase","camelCase","string","acceptData","owner","Data","uid","defineProperty","configurable","set","data","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","JSON","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","pnum","source","rcssNum","cssExpand","isHiddenWithinTree","style","display","css","swap","old","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","body","showHide","show","hide","toggle","rcheckableType","rtagName","rscriptType","wrapMap","option","thead","col","tr","td","_default","optgroup","tbody","tfoot","colgroup","caption","th","getAll","setGlobalEval","refElements","rhtml","buildFragment","scripts","selection","ignored","wrap","fragment","createDocumentFragment","nodes","createTextNode","htmlPrefilter","div","checkClone","cloneNode","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","safeActiveElement","on","types","one","origFn","event","off","handleObjIn","eventHandle","events","t","handleObj","handlers","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","fix","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","preventDefault","stopPropagation","postDispatch","matchedHandlers","matchedSelectors","addProp","hook","Event","enumerable","originalEvent","writable","load","noBubble","trigger","blur","click","beforeunload","returnValue","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","stopImmediatePropagation","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","char","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rxhtmlTag","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","pdataCur","udataOld","udataCur","fixInput","domManip","collection","hasScripts","iNoClone","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","getStyles","opener","getComputedStyle","rboxStyle","computeStyleTests","container","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","width","position","scrollboxSizeVal","offsetWidth","measure","round","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelBoxStyles","pixelPosition","reliableMarginLeft","scrollboxSize","curCSS","computed","minWidth","maxWidth","getPropertyValue","addGetHookIf","conditionFn","hookFn","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","cssPrefixes","emptyStyle","vendorPropName","capName","finalPropName","cssProps","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","valueIsBorderBox","cssHooks","opacity","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","lineHeight","order","orphans","widows","zIndex","zoom","origName","isCustomProp","setProperty","isFinite","getClientRects","getBoundingClientRect","left","margin","padding","border","prefix","suffix","expand","expanded","parts","Tween","easing","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","height","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","properties","stopped","prefilters","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","complete","timer","*","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","tabindex","parseInt","for","class","stripAndCollapse","getClass","classesToArray","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","isTrigger","parentWindow","simulate","triggerHandler","attaches","nonce","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","responseFields","dataFilter","throws","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","json","* text","text html","text json","text xml","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","status","abort","statusText","finalText","crossDomain","host","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","0","1223","xhrSupported","cors","errorCallback","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","text script","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","","defaultExtra","funcName","hover","fnOver","fnOut","unbind","delegate","undelegate","proxy","holdReady","hold","parseJSON","isNumeric","isNaN","_jQuery","_$","$","noConflict","io","r","o","loaded","c","u","h","path","f","nsps","forceNew","multiplex","query","socket","managers","connect","Manager","Socket","charAt","port","substring","authority","ipv6uri","WebkitAppearance","firebug","exception","table","navigator","userAgent","$1","useColors","humanize","color","log","Function","storage","removeItem","debug","env","DEBUG","localStorage","formatArgs","save","chrome","local","colors","formatters","stringify","enable","y","d","fun","array","nextTick","title","browser","argv","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","abs","curr","coerce","names","skips","substr","floor","BINARY_EVENT","BINARY_ACK","attachments","nsp","deconstructPacket","packet","buffers","removeBlobs","reconstructor","Number","reconPack","ERROR","CONNECT","DISCONNECT","EVENT","ACK","Encoder","Decoder","encode","base64","takeBinaryData","destroy","finishedReconstruction","reconstructPacket","_callbacks","hasListeners","Buffer","isBuffer","ArrayBuffer","Blob","File","toJSON","_placeholder","FileReader","readAsArrayBuffer","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","min","jitter","uri","connecting","lastPing","encoding","packetBuffer","parser","encoder","decoder","autoConnect","emitAll","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","onopen","cleanup","close","onping","onpong","ondata","ondecoded","write","processPacketQueue","disconnect","onclose","onreconnect","hostname","secure","agent","decode","upgrade","forceJSONP","forceBase64","enablesXDR","timestampParam","timestampRequests","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","extraHeaders","localAddress","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","priorWebsocketSuccess","Transport","createTransport","EIO","sid","requestTimeout","protocols","setTransport","onDrain","onPacket","onError","onClose","probe","supportsBinary","upgrading","pause","flush","onOpen","onHandshake","setPing","filterUpgrades","onHeartbeat","ping","sendPacket","compress","xdomain","xscheme","polling","websocket","XDomainRequest","xd","xs","isBinary","create","requests","Request","request","doWrite","sendXhr","doPoll","onData","pollXhr","setDisableHeaderCheck","withCredentials","hasXDR","onLoad","requestsCount","onSuccess","doOpen","poll","decodePayload","doClose","encodePayload","b64","description","decodePacket","packets","encodeBase64Packet","Uint8Array","byteLength","buffer","encodePacket","g","k","strict","pong","readAsDataURL","btoa","decodeBase64Packet","encodePayloadAsBlob","encodePayloadAsArrayBuffer","decodePayloadAsBinary","reduce","forEach","size","webpackPolyfill","deprecate","paths","byteOffset","getBlob","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","decodeURIComponent","___eio","form","iframe","iframeId","area","action","usingBrowserWebSocket","WebSocket","MozWebSocket","ws","supports","addEventListeners","onmessage","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","flags","onpacket","onconnect","onevent","onack","ondisconnect","ack","emitBuffered","ms","factor","pow","require","timeago","timestamp","inWords","datetime","$t","refreshMillis","allowPast","allowFuture","localeTitle","cutoff","autoDispose","strings","prefixAgo","prefixFromNow","suffixAgo","suffixFromNow","inPast","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","wordSeparator","numbers","distanceMillis","$l","substitute","stringOrFunction","number","words","separator","iso8601","isTime","tagName","functions","refresh_el","refresh","$s","_timeagoInterval","setInterval","update","date","toLocaleString","updateFromDOM","dispose","clearInterval","prepareData","distance","element","getTime","Zepto","ajaxSubmit","clk","clk_x","clk_y","offsetLeft","offsetTop","opera","postError","fileapi","files","formdata","FormData","attr2","extraData","uploadProgress","upload","total","lengthComputable","formData","contentWindow","A","x","skipEncodingOverride","enctype","z","iframeTarget","q","aborted","F","E","iframeSrc","detachEvent","XMLDocument","G","responseXML","content-type","textarea","H","D","J","execCommand","B","C","forceSync","ActiveXObject","loadXML","I","eval","veto","beforeSerialize","formToArray","semantic","beforeSubmit","resetForm","clearForm","includeHidden","replaceTarget","closeKeepAlive","ajaxForm","delegation","ajaxFormUnbind","fieldValue","required","formSerialize","fieldSerialize","clearFields","clearInputs","onVisible","isSupported","change","_listen","afterPrerendering","_doc","webkitHidden","visibilityState","webkitVisibilityState","_change","_init","Visibility","every","_time","_timers","_run","_stop","_timed","_wasHidden","_stopRun","transitionEnd","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","emulateTransitionEnd","called","$el","bsTransitionEnd","dismiss","Alert","VERSION","TRANSITION_DURATION","$this","$parent","removeElement","Plugin","alert","Constructor","Button","$element","DEFAULTS","isLoading","loadingText","setState","resetText","changed","$input","$btn","Carousel","$indicators","paused","sliding","$active","$items","keyboard","keydown","cycle","getItemIndex","item","getItemForDirection","direction","activeIndex","willWrap","itemIndex","slide","$next","isCycling","slideEvent","$nextIndicator","slidEvent","carousel","clickHandler","$target","slideIndex","$carousel","Collapse","$trigger","transitioning","getParent","addAriaAndCollapsedClass","hasWidth","activesData","actives","startEvent","scrollSize","getTargetFromTrigger","isOpen","collapse","backdrop","Dropdown","clearMenus","isActive","desc","dropdown","Modal","$body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","BACKDROP_TRANSITION_DURATION","_relatedTarget","checkScrollbar","setScrollbar","resize","adjustDialog","enforceFocus","hideModal","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","doAnimate","callbackRemove","modalIsOverflowing","scrollHeight","clientHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","clientWidth","measureScrollbar","bodyPad","scrollDiv","modal","showEvent","Tooltip","hoverState","inState","placement","template","viewport","getOptions","$viewport","triggers","eventIn","eventOut","enter","leave","_options","fixTitle","getDefaults","getDelegateOptions","defaults","tip","isInStateTrue","inDom","$tip","tipId","getUID","setContent","autoToken","autoPlace","getPosition","actualWidth","actualHeight","orgPlacement","viewportDim","bottom","calculatedOffset","getCalculatedOffset","applyPlacement","prevHoverState","marginTop","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","arrow","getTitle","$e","isBody","elRect","isSvg","SVGElement","elOffset","scroll","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","$arrow","toggleEnabled","tooltip","Popover","getContent","popover","ScrollSpy","$scrollElement","offsets","activeTarget","getScrollHeight","offsetMethod","offsetBase","$href","maxScroll","activate","clear","scrollspy","$spy","Tab","$ul","$previous","hideEvent","tab","Affix","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","offsetBottom","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","affix","affixType","isInit","itemsArray","isSelect","multiple","hasAttribute","objectItems","itemValue","placeholderText","inputSize","$container","build","createRange","moveStart","selectionStart","tagClass","focusClass","itemText","itemTitle","freeInput","addOnBlur","maxTags","maxChars","confirmKeys","delimiter","delimiterRegex","cancelConfirmKeysOnEmpty","onTagExists","trimValue","allowDuplicates","triggerChange","pushVal","items","maxInputLength","cancel","findInputWrapper","typeahead","removeAll","updater","sorter","highlighter","typeaheadjs","valueKey","focusout","tagsinput","textcomplete","strategies","completer","_oid","Completer","register","Strategy","queuedArgsToReplay","replayOrFree","replayArgs","isString","uniqueId","views","isContentEditable","contentEditable","initialize","adapter","CKEDITOR","editor","event2","editable","ckeditor_instance","dropdownClassName","maxCount","$iframe","frames","iframeIndex","frameElement","Adapter","viewName","selectionEnd","deactivate","skipUnchangedTerm","getTextFromHeadToCaret","searchQuery","_extractSearchQuery","term","_term","_search","eventName","strategy","_clearAtNext","matchRegexp","free","search","stillSearching","shown","setPosition","getCaretPosition","render","_zip","$window","include","zippedData","datum","idProperty","dropdownViews","keepTextCompleteDropdown","commands","SKIP_DEFAULT","KEY_UP","KEY_DOWN","KEY_ENTER","KEY_PAGEUP","KEY_PAGEDOWN","KEY_ESCAPE","$inputEl","listPosition","_i","_bindEvents","footer","contentsHtml","_buildContents","unzippedData","_renderHeader","_renderFooter","_renderContents","_fitToBottom","_fitToRight","_activateIndexedItem","_setScroll","noResultsMessage","_renderNoResultsMessage","_applyPlacement","_index","_$header","_$footer","_$noResultsMessage","isUp","isDown","isEnter","modifiers","completeOnSpace","isPageup","isPagedown","isEscape","_onClick","_onMouseover","_onKeydown","command","onKeydown","_defaultKeydown","_up","_down","_enter","_pageup","_pagedown","_getActiveElement","innerHeight","outerHeight","$activeEl","itemTop","itemHeight","visibleHeight","visibleTop","windowScrollBottom","tolerance","lastOffset","maxLeft","memoize","memo","strategiesArray","strategyObj","debounce","later","_onKeyup","_getCaretRelativePosition","_skipSearch","clickEvent","Textarea","pre","post","newSubstr","regExp","getCaretCoordinates","_calculateLineHeight","fontFamily","fontSize","sentinelChar","IETextarea","range","createTextRange","moveEnd","ContentEditable","getSelection","getRangeAt","cloneRange","selectNodeContents","startContainer","startOffset","deleteContents","preWrapper","postWrapper","childNode","lastOfPre","insertNode","setStartAfter","removeAllRanges","addRange","$node","iframePosition","CKEditor","domEvent","isBrowser","isFirefox","mozInnerScreenX","querySelector","currentStyle","whiteSpace","wordWrap","span","coordinates","backgroundColor","requirejs","ga","ka","K","Q","L","X","la","Y","ha","ia","requireType","requireModules","originalError","ma","nodeIdCompat","U","pkgs","contextName","undef","makeRequire","skipMap","normalize","nameToUrl","T","parentMap","unnormalized","originalName","isDefine","Module","defineEmitComplete","V","defQueueMap","Z","depMaps","depMatched","defineDep","waitSeconds","aa","inited","fetched","ja","ba","O","srcElement","onScriptLoad","onScriptError","P","da","R","baseUrl","bundles","shim","config","ea","W","fa","usingExports","depExports","pluginMaps","depCount","errback","ignore","fetch","enableBuildCallback","deps","callPlugin","enabling","defining","defined","execCb","requireMap","onResourceLoad","normalizedMap","defineEmitted","M","fromText","S","completeLoad","undefed","registry","urlFetched","defQueue","makeModuleMap","configure","urlArgs","exportsFn","makeShimExports","packages","main","na","__requireJsBuild","toUrl","lastIndexOf","enforceDefine","jsExtRegExp","oa","N","pa","qa","ra","importScripts","platform","createNode","xhtml","createElementNS","scriptType","onNodeCreated","skipDataMain","relative_path","forum","admin","vendor","plugins","bootbox","templates","dialog","closeButton","inputs","email","locale","_t","locales","en","processCallback","preserveDialog","getKeyLength","sanitize","label","mapArguments","argn","mergeArguments","mergeDialogOptions","labels","baseOptions","createLabels","validateButtons","allowedButtons","ok","onEscape","confirm","prompt","shouldShow","inputOptions","inputType","checkedItems","group","placeholder","maxlength","innerDialog","buttonStr","callbacks","callbackKey","setDefaults","hideAll","OK","CANCEL","CONFIRM","addLocale","removeLocale","setLocale","translator","Translator","attrsToTranslate","$elem","outerHTML","translateInPlace","translateKey","translations","getLanguage","Tinycon","currentFavicon","originalFavicon","faviconImage","canvas","devicePixelRatio","font","background","fallback","crossOrigin","abbreviate","ua","ie","webkit","safari","mozilla","getFaviconTag","links","removeFaviconTag","exists","getCurrentFavicon","getCanvas","setFaviconTag","link","rel","drawFavicon","getContext","updateTitle","clearRect","drawImage","drawBubble","refreshFavicon","originalTitle","abbreviateNumber","radius","fillStyle","strokeStyle","lineWidth","beginPath","moveTo","quadraticCurveTo","lineTo","closePath","fill","stroke","textAlign","textBaseline","fillText","toDataURL","metricPrefixes","precision","toFixed","setOptions","custom","colour","setImage","setBubble","XRegExp","__proto__","captureNames","isRegExp","addProto","natives","astral","default","sticky","hasNamedCapture","SyntaxError","scope","regex","matchLength","output","reparse","captures","addToken","optionalFlags","lastIndex","globalize","install","isInstalled","matchChain","backref","ReferenceError","replaceEach","uninstall","union","unicode","pad4","str","dec","hex","chr","esc","invertBmp","lastEnd","cacheInvertedBmp","slug","bmp","buildAstral","isNegated","combined","isBmpLast","cacheAstral","ERR_DOUBLE_NEG","ERR_UNKNOWN_NAME","ERR_UNKNOWN_REF","ERR_ASTRAL_ONLY","ERR_ASTRAL_IN_CLASS","isAstralMode","inverseOf","addUnicodeData","ERR_NO_NAME","ERR_NO_DATA","alias","runtime","guard","iter","helper","helpers","helperName","out","templateFunction","try","_try","Benchpress","registerHelper","escapeCharMap","&","<","\"","'","`","=","replaceChar","escapeChars","globals","setGlobal","assign","addGlobals","loader","block","blocks","registerLoader","winston","walk","profile","operation","elapsedTimeSince","hrtime","utils","freeze","HTMLEntities","amp","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","OElig;","oelig;","Scaron;","scaron;","Yuml;","fnof;","circ;","tilde;","Alpha;","Beta;","Gamma;","Delta;","Epsilon;","Zeta;","Eta;","Theta;","Iota;","Kappa;","Lambda;","Mu;","Nu;","Xi;","Omicron;","Pi;","Rho;","Sigma;","Tau;","Upsilon;","Phi;","Chi;","Psi;","Omega;","alpha;","beta;","gamma;","delta;","epsilon;","zeta;","eta;","theta;","iota;","kappa;","lambda;","mu;","nu;","xi;","omicron;","pi;","rho;","sigmaf;","sigma;","tau;","upsilon;","phi;","chi;","psi;","omega;","thetasym;","upsih;","piv;","ensp;","emsp;","thinsp;","zwnj;","zwj;","lrm;","rlm;","ndash;","mdash;","lsquo;","rsquo;","sbquo;","ldquo;","rdquo;","bdquo;","dagger;","Dagger;","bull;","hellip;","permil;","prime;","Prime;","lsaquo;","rsaquo;","oline;","frasl;","euro;","image;","weierp;","real;","trade;","alefsym;","larr;","uarr;","rarr;","darr;","harr;","crarr;","lArr;","uArr;","rArr;","dArr;","hArr;","forall;","part;","exist;","empty;","nabla;","isin;","notin;","ni;","prod;","sum;","minus;","lowast;","radic;","prop;","infin;","ang;","and;","or;","cap;","cup;","int;","there4;","sim;","cong;","asymp;","ne;","equiv;","le;","ge;","sub;","sup;","nsub;","sube;","supe;","oplus;","otimes;","perp;","sdot;","lceil;","rceil;","lfloor;","rfloor;","lang;","rang;","loz;","spades;","clubs;","hearts;","diams;","generateUUID","decodeHTMLEntities","ee","stripHTMLTags","tags","escapeRegexChars","invalidUnicodeChars","invalidLatinChars","trimRegex","collapseWhitespace","collapseDash","trimTrailingDash","trimLeadingDash","isLatin","languageKeyRegex","slugify","preserveCase","toLocaleLowerCase","cleanUpTag","maxLength","removePunctuation","isEmailValid","isUserNameValid","isPasswordValid","isNumber","hasLanguageKey","userLangToTimeagoCode","userLang","mapping","en-GB","en-US","fa-IR","pt-BR","nb","fileExtension","extensionMimeTypeMap","cmx","cod","gif","ico","ief","jfif","jpe","jpeg","jpg","png","pbm","pgm","pnm","ppm","ras","rgb","svg","tif","tiff","xbm","xpm","xwd","fileMimeType","extensionToMimeType","extension","isRelativeUrl","firstChar","makeNumbersHumanReadable","makeNumberHumanReadable","addCommasToNumbers","addCommas","toISOString","stripTags","escapeHTML","isAndroidBrowser","nua","isTouchDevice","findBootstrapEnvironment","envs","isMobile","some","targetEnv","getHoursArray","currentHour","getHours","ii","getDaysArray","from","amount","currentDay","tmpDate","getMonth","getDate","isElementInViewport","skipToType","urlToLocation","decodeURI","newProps","isInternalURI","targetLocation","referenceLocation","pathname","immediate","callNow","startsWith","endsWith","app","isConnected","ioParams","maxReconnectionAttempts","socketioTransports","websocketAddress","onConnect","onReconnecting","onDisconnect","user","handleInvalidSession","upstreamHost","onEventBanned","showMessages","reconnectEl","reconnectAlert","reJoinCurrentRoom","url_parts","room","ajaxify","theirid","currentRoom","enterRoom","isFocused","widgets","cacheBuster","showWelcomeMessage","loggedin","registerMessage","loadProgressiveStylesheet","overrides","overrideTimeago","updateHistory","parseData","handleStatusChange","searchEnabled","handleSearch","newTopic","components","logout","alternatingTitle","createHeaderTooltips","showEmailConfirmWarning","showCookieWarning","alert_id","clickfn","reload","isAdmin","currentPage","taskbar","pagination","_sessionRefresh","x-csrf-token","csrf_token","payload","alerts","removeAlert","alertSuccess","alertError","translate","translated","previousRoom","leaveCurrentRoom","highlightNavigationLink","createUserTooltips","createStatusTooltips","replaceSelfLinks","userslug","processPage","isCold","messages","login","format","showAlert","openChat","roomId","chat","loadAndCenter","chatModal","center","focusInput","modalExists","getModal","roomData","users","createModal","newChat","touid","createChat","chats","go","isDnD","titleObj","titles","refreshTitle","titleLayout","browserTitle","unescape","toggleNavbar","navbarEl","searchButton","searchFields","searchInput","dismissSearch","loggedIn","allowGuestSearching","prepareSearch","getSearchPreferences","updateUserStatus","cid","loadJQueryUI","autocomplete","scriptEl","requireEmailConfirmation","isEmailConfirmSent","parseAndTranslate","blockName","translatedHTML","linkEl","cookies","cookieEnabled","getItem","warningEl","dismissEl","setItem","rootUrl","apiXHR","ajaxifyTimer","retry","previousBodyClass","_translator","_Benchpress","ev","returnPath","history","replaceState","quiet","reconnectAction","handleRedirects","previousUrl","tpl_url","bodyClass","loadData","onAjaxError","renderTemplate","removeRelativePath","isClientToAdmin","RELATIVE_PATH","isAdminToClient","uploadsOrApi","pushState","textStatus","responseJSON","external","translatedTemplate","loadScript","tpl","dataEl","inAdmin","outstanding","Boolean","X-Return-To","loadTemplate","ajaxifyAnchors","hrefEmpty","contentEl","_self","internalLink","openOutgoingLinksInNewTab","useOutgoingLinksPage","safeUrls","outgoingLinksWhitelist","_unsaved","navigate","getCursorPosition","Sel","SelLength","selectRange","setSelectionRange","putCursorAtEnd","translateHtml","translateText","translateVal","translateAttr","_clearMenus","timeagoFn","timeagoCutoff","iso","locations","widgetsAtLocation","widget","widgetAreas","Notifications","Chat","prepareDOM","updateUnreadTopicCount","updateUnreadChatCount","initUnreadTopics","unreadTopics","onNewPost","posts","topic","tid","increaseUnreadCount","markTopicsUnread","unreadTopicCount","isNewTopic","isMain","unreadNewTopicCount","isFollowed","unreadWatchedTopicCount","updateUnreadCounters","unreadChatCount","updateNotifCount","unreadNotificationCount","mousetrap","recentChats","Chats","initialised","newMessage","addSocketListeners","addGlobalEventListeners","createAutoComplete","resizeMainWindow","addHotkeys","scrollToBottom","addSendHandlers","addPopoutHandler","addActionHandlers","addMemberHandler","addRenameHandler","addLeaveHandler","addScrollHandler","addCharactersLeftHandler","loading","parseMessage","currentScrollTop","previousHeight","updateRemainingLength","messageId","inputEl","prepEdit","delete","restore","activeContact","switchChat","lastMid","buttonEl","refreshParticipantsList","errorEl","chatLib","listEl","roomName","newName","sendEl","sendMessage","roomid","credentials","setActive","appendChatMessage","roomEl","recentEl","rooms","lastUser","fromUser","usernames","unread","onChatMessageEdit","titleEl","viewportHeight","fromTop","previousScrollTop","loadingMore","onScroll","bsEnv","mobileComposerOpen","wh","scrollPercent","loadMore","hookData","removeExtra","removeCount","pageNum","loadPage","page","pageCount","infinitescroll","Recent","newTopicCount","newPostCount","removeListeners","watchForNewPosts","handleCategorySelection","usePagination","loadMoreTopics","topics","onNewTopic","selectedCids","selectedFilter","category","updateAlertText","mainPid","pid","getSelectedCids","cids","selectChildren","parentCid","categoryEl","topicsPerPage","onTopicsLoaded","nextStart","templateName","showSelect","recent","topicSelect","Unread","tids","getSelectedTids","doneRemovingTids","getCategoryTids","removeTids","threadTools","postTools","images","replies","Topic","currentUrl","replaceURLTimeout","topicDOM","handleSort","loadMorePosts","addBlockQuoteHandler","addParentHandler","postcount","toTop","toBottom","navigatorCallback","calculateIndex","handleBookmark","updateTopicTitle","handleTopicSearch","topicSearchEnabled","postCount","topicPostSort","scrollBottom","bookmark","postIndex","scrollToPostIndex","bookmarkThreshold","scrollToIndex","closefn","blockQuote","collapsed","toPid","toPost","elementCount","scrollActive","loadImages","newUrl","updateUserBookmark","bookmarkKey","currentBookmark","Events","event:user_status_change","onUserStatusChange","event:voted","updatePostVotesAndUserReputation","event:bookmarked","updateBookmarkCount","event:topic_deleted","setDeleteState","event:topic_restored","event:topic_purged","onTopicPurged","event:topic_locked","setLockedState","event:topic_unlocked","event:topic_pinned","setPinnedState","event:topic_unpinned","event:topic_moved","onTopicMoved","event:post_edited","onPostEdited","event:post_purged","onPostPurged","event:post_deleted","togglePostDeleteState","event:post_restored","posts.bookmark","togglePostBookmark","posts.unbookmark","posts.upvote","togglePostVote","posts.downvote","posts.unvote","event:new_notification","onNewNotification","event:new_post","votes","reputationElements","reputation","bookmarks","editedPostEl","editorEl","topicTitle","navbarTitle","breadCrumb","wrapImagesInLinks","unloadImages","editData","editedISO","edited","tagsUpdated","postData","showBottomPostBar","updatePostCount","postEl","isDeleted","privileges","isAdminOrMod","isBookmarked","upvote","downvote","Merge","mergeBtn","selectedTids","onMergeTopicsClicked","closeModal","onTopicClicked","showTopicsSelected","mergeTopics","topicData","checkButtonEnable","btn","postSelect","Fork","forkModal","forkCommit","onForkThreadClicked","onAjaxifyStart","closeForkModal","checkForkButtonEnable","showPostsSelected","createTopicFromPosts","pids","fromTid","fadeOutAndRemove","categorySelector","Move","selectedCategory","currentCid","onComplete","moveAll","onCategoriesLoaded","categories","parseModal","onCategorySelected","onCommitClicked","commitEl","moveTopics","Posts","timestampISO","modifyPostsByPrivileges","updatePostCounts","onNewPostPagination","onNewPostInfiniteScroll","selfPost","display_edit_tools","display_delete_tools","display_moderator_tools","display_move_tools","display_post_menu","postSharing","deleted","cmp","scrollToPost","scrollToPostIfSelf","postsPerPage","isPostVisible","createNewPosts","scrollToMyPost","updatePagination","paginationData","isPreviousPostAdded","repliesSelector","removeAlreadyAddedPosts","newPosts","allSamePids","_infiniteScrollTimeout","afterEl","indicatorEl","addBlockquoteEllipses","hidePostToolsForDeletedPosts","mainPost","placeHolder","blockquotes","Images","_imageLoaderTimeout","delayImageLoading","adjusting","adjustQueue","oldHeight","newHeight","adjustPosition","imageRect","alt","suffixRegex","srcExt","altFilename","altExt","share","movePost","diffs","PostTools","staleReplyAnyway","renderMenu","addPostHandlers","addShareHandlers","titleRaw","addVoteHandler","dropdownMenu","clipboard","postCountEl","setCount","postContainer","onQuoteClicked","onReplyClicked","bookmarkPost","toggleVote","showVotes","showFlagModal","postEditDuration","checkDuration","postDeleteDuration","togglePostDelete","postTimestamp","languageKey","numDays","numHours","numMinutes","numSeconds","purgePost","openMovePostModal","ip","selectedNode","getSelectedNode","showStaleWarning","getUserSlug","topicName","selectedPid","quote","selectedText","postContents","containsNode","bounds","compareBoundaryPoints","Range","START_TO_START","setStart","END_TO_END","setEnd","endContainer","endOffset","room_id","postAction","staleThreshold","topicStaleDays","lastposttime","warning","reply","fork","move","deletePosts","movePosts","ThreadTools","topicContainer","topicCommand","changeWatching","setFollowState","threadEl","isLocked","hideReply","isDelete","isPinned","pinned","menu","renderNewPost","numRecentReplies","recentPosts","categoryTools","Category","enableInfiniteLoadingOrPagination","clickedIndex","handleScrollToTopicIndex","handleIgnoreWatch","topicIndex","scrollToElement","topIndex","bottomIndex","bookmarkIndex","scrollToTopic","highlightTopic","loadTopicsAfter","highlight","topic_count","categoryTopicSort","removeAlreadyAddedTopics","CategoryTools","updateDropdownOptions","handlePinnedTopicSort","categoryCommand","onCommandComplete","onDeletePurgeComplete","closeDropDown","unselectAll","isAnyDeleted","isAny","isTopicDeleted","areAllDeleted","areAll","isAnyPinned","isTopicPinned","isAnyLocked","isTopicLocked","getTopicEl","sortable","pinnedTopics","loadClient","language","languages","loadServer","modules","moduleFactories","validText","validTextRegex","invalidTextRegex","cursor","lastBreak","toTranslate","inToken","brk","level","char0","char1","textBeforeColonFound","colonFound","textAfterColonFound","commaAfterNameFound","currentSlice","backup","translation","getTranslation","argsToTranslate","translatedArgs","descendantTextNodes","textNodes","attrNodes","attrText","ref","translatedAttrs","defaultLang","meta","registerModule","removePatterns","sub","adaptor","addTranslation","getTranslations","toggleTimeagoShorthand","timeagoShort","languageCode","sounds","unreadNotifs","notifContainer","notifTrigger","notifList","loadNotifications","notifEl","scrollToPostIndexIfOnPage","markAllRead","liEl","notifData","bodyShort","play","notifs","read","notifications","notifIcon","updateFavicon","ChatsMessages","scrollStop","chatsToggleEl","chatsListEl","loadChatsDropdown","isSelf","updateActive","toggleNew","mid","silent","newTitle","teaser","bringModalToTop","topZ","thisZ","uuid","dragged","resizable","handles","minHeight","ui","originalSize","calculateChatListHeight","draggable","gotoChats","minimize","icon","discard","disableMobileBehaviour","hideAfter","outerWidth","enableMobileBehaviour","modalEl","messagesEl","core","topic/teaser","post/content","post/header","post/anchor","post/vote-count","post/bookmark-count","user/postcount","user/reputation","category/topic","categories/category","chat/message","chat/message/body","chat/recent/room","field","gotoOnSave","threadSort","currentSetting","newSetting","navigatorUpdateTimeoutId","onKeyDown","delayedUpdate","scrollUp","scrollDown","generateUrl","handleKeys","updateTextAndProgressBar","windowHeight","documentHeight","middleOfViewport","previousDistance","MAX_VALUE","distanceToMiddle","atTop","nearBottom","anchorEl","anchorRect","relIndex","getRelativeIndex","fraction","inTopic","inCategory","scrollToTopicIndex","scrollMethod","postHeight","navbarHeight","animateScroll","scrollToRect","highlightPost","TopicSelect","lastSelected","topicsContainer","onSelect","isSelected","toggleSelect","clickedTid","isClickedSelected","getIndex","selectIndexRange","_el","selectCategory","getSelectedCategory","allCategories","openShare","urlToPost","postLink","getPostUrl","addHandler","clickedElement","nav","Search","topicSearch","createQueryString","cleanedTerm","queryTopic","searchIn","in","postedBy","by","matchWords","searchChildren","hasTags","repliesFilter","timeRange","timeFilter","sortBy","sortDirection","showAs","checkPagePresence","topicSearchEl","updateAlert","createNew","alertTpl","startTimeout","timeoutId","tasklist","minimizeAll","btnEl","createTaskbar","tasks","taskBtn","taskbarEl","data-module","data-uuid","displayMenuItem","buildMetaTag","buildLinkTag","generateCategoryBackground","generateChildrenCategories","generateTopicClass","displayUserSearch","membershipBtn","spawnPrivilegeStates","localeToHTML","renderTopicImage","renderDigestAvatar","userAgentIcons","__escape","identity","navigation","guestOnly","globalMod","isGlobalMod","adminOnly","route","privateUserInfo","privateTagListing","property","sizes","bgColor","backgroundImage","imageClass","child","isSection","allowGuestUserSearching","groupObj","isMember","displayName","isPending","isInvited","disableJoinRequests","member","states","priv","topicObj","thumb","picture","icons","Flag","flagModal","flagCommit","flagReason","reportText","createFlag","checkFlagButtonEnable","tplData","Storage","_store","_keys","isMock","sessionStorage","available","composer","drafts","save_id","saveObj","getDraft","updateVisibility","newReply","editPost","composeRouteEnabled","topicUUID","findByTid","addQuote","enhance","isCommonjs","keyboardAllowed","Element","valLength","fnMap","screenfull","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","defineProperties","fullscreenElement","fullscreenEnabled","setupNProgress","setupTaskbar","setupEditedByIcon","setupMobileMenu","setupQuickReply","configureNavbarHiding","autoHidingNavbar","showOnBottom","NProgress","setupHoverCards","setupFavouriteButtonOnProfile","createChatIcon","updateChatCount","chatObj","activateEditedTooltips","Pulling","chatMenuVisible","disableChat","swapped","navSlideout","panel","side","chatsSlideout","closeOnClick","onBeforeOpen","classList","loadChats","setupSetting","generateUserCard","avatar","isFollowing","card","setupFavouriteMorph","setupCardRemoval","removeCard","drop","quickreply","Settings","minimum","positionUsing","trickle","trickleRate","trickleSpeed","showSpinner","barSelector","spinnerSelector","started","isStarted","clamp","bar","ease","getPositioningCSS","barPositionCSS","work","force","inc","$promise","fromStart","isRendered","perc","toBarPerc","spinner","transform","bodyStyle","vendorPrefix","barCSS","margin-left","pending","getVendorProp","vendorName","getStyleProp","applyCss","oldList","newList","_defaults","_name","navbarOffset","animationDuration","showOnUpscroll","disableAutohide","hideOffset","navbar","setDisableAutohide","setShowOnUpscroll","setShowOnBottom","setHideOffset","setAnimationDuration","QuickReply","replyMsg","replyData","Markdown","textareaEl","capturePaste","prepareFormattingTools","enhanceCheckbox","checkboxEls","_this","targetEl","line","getLine","regexp","clipboardData","fixed","replacement","lines","formatting","controls","addButtonDispatch","getBlockData","atEnd","updateTextareaSelection","insertIntoTextarea","bold","wrapDelta","wrapSelectionInTextareaWith","italic","list_item","strikethrough_text","link_text","link_url","picture_text","picture_url","markdown","hljs","highlightBlock","groupList","localUserList","loadDomUsers","loadGroupList","subset","userdata","mention","post_uuid","DOMusers","groupNames","buster","buildEmoji","emoji","whole","deferClass","pack","character","initialized","resolve_1","reject_1","resolve_2","reject_2","resolve_3","reject_3","_a","fuzzy","leven","tableData","aliases","keywords","fuzzyFind","fuzzySearch","score","weight","weighted","aliasMatch","keywordMatch","aPrefixed","bPrefixed","resolve_4","reject_4","toggleForInsert","charCodeCache","aLen","bLen","bCharCode","tmp2","fuzzysearch","needle","haystack","hlen","nlen","outer","nch"],"mappings":"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","file":"nodebb.min.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = function(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!globalNS.Promise) {\n  globalNS.Promise = Promise;\n}\n\n})));\n","/*!\n * jQuery JavaScript Library v3.3.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2018-01-20T17:24Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, doc, node ) {\n\t\tdoc = doc || document;\n\n\t\tvar i,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\t\t\t\tif ( node[ i ] ) {\n\t\t\t\t\tscript[ i ] = node[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.3.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\n\t\t/* eslint-disable no-unused-vars */\n\t\t// See https://github.com/eslint/eslint/issues/6125\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tDOMEval( code );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.3\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-08-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && (\"form\" in elem || \"label\" in elem);\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tdisabledAncestor( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n        if ( nodeName( elem, \"iframe\" ) ) {\n            return elem.contentDocument;\n        }\n\n        // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n        // Treat the template element as a regular one in browsers that\n        // don't support it.\n        if ( nodeName( elem, \"template\" ) ) {\n            elem = elem.content || elem;\n        }\n\n        return jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tjQuery.contains( elem.ownerDocument, elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\nvar documentElement = document.documentElement;\n\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 only\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), doc, node );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = div.offsetWidth === 36 || \"absolute\";\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a property mapped along what jQuery.cssProps suggests or to\n// a vendor prefixed property.\nfunction finalPropName( name ) {\n\tvar ret = jQuery.cssProps[ name ];\n\tif ( !ret ) {\n\t\tret = jQuery.cssProps[ name ] = vendorPropName( name ) || name;\n\t}\n\treturn ret;\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\t\t) );\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\t\tval = curCSS( elem, dimension, styles ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox;\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\t// Check for style in case a browser which returns unreliable values\n\t// for getComputedStyle silently falls back to the reliable elem.style\n\tvalueIsBorderBox = valueIsBorderBox &&\n\t\t( support.boxSizingReliable() || val === elem.style[ dimension ] );\n\n\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t// This happens for inline elements with no explicit setting (gh-3571)\n\t// Support: Android <=4.1 - 4.3 only\n\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\tif ( val === \"auto\" ||\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) {\n\n\t\tval = elem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ];\n\n\t\t// offsetWidth/offsetHeight provide border-box values\n\t\tvalueIsBorderBox = true;\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\t\t\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra && boxModelAdjustment(\n\t\t\t\t\telem,\n\t\t\t\t\tdimension,\n\t\t\t\t\textra,\n\t\t\t\t\tisBorderBox,\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && support.scrollboxSize() === styles.position ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = Date.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){\"use strict\";function r(t,e){\"object\"===(\"undefined\"==typeof t?\"undefined\":o(t))&&(e=t,t=void 0),e=e||{};var n,r=i(t),s=r.source,u=r.id,h=r.path,f=p[u]&&h in p[u].nsps,l=e.forceNew||e[\"force new connection\"]||!1===e.multiplex||f;return l?(c(\"ignoring socket cache for %s\",s),n=a(s,e)):(p[u]||(c(\"new io instance for %s\",s),p[u]=a(s,e)),n=p[u]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=n(1),s=n(7),a=n(13),c=n(3)(\"socket.io-client\");t.exports=e=r;var p=e.managers={};e.protocol=s.protocol,e.connect=r,e.Manager=n(13),e.Socket=n(37)},function(t,e,n){(function(e){\"use strict\";function r(t,n){var r=t;n=n||e.location,null==t&&(t=n.protocol+\"//\"+n.host),\"string\"==typeof t&&(\"/\"===t.charAt(0)&&(t=\"/\"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\\/\\//.test(t)||(i(\"protocol-less url %s\",t),t=\"undefined\"!=typeof n?n.protocol+\"//\"+t:\"https://\"+t),i(\"parse %s\",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=\"80\":/^(http|ws)s$/.test(r.protocol)&&(r.port=\"443\")),r.path=r.path||\"/\";var s=r.host.indexOf(\":\")!==-1,a=s?\"[\"+r.host+\"]\":r.host;return r.id=r.protocol+\"://\"+a+\":\"+r.port,r.href=r.protocol+\"://\"+a+(n&&n.port===r.port?\"\":\":\"+r.port),r}var o=n(2),i=n(3)(\"socket.io-client:url\");t.exports=r}).call(e,function(){return this}())},function(t,e){var n=/^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,r=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];t.exports=function(t){var e=t,o=t.indexOf(\"[\"),i=t.indexOf(\"]\");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,\";\")+t.substring(i,t.length));for(var s=n.exec(t||\"\"),a={},c=14;c--;)a[r[c]]=s[c]||\"\";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,\":\"),a.authority=a.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),a.ipv6uri=!0),a}},function(t,e,n){(function(r){function o(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type)||(\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/))}function i(t){var n=this.useColors;if(t[0]=(n?\"%c\":\"\")+this.namespace+(n?\" %c\":\" \")+t[0]+(n?\"%c \":\" \")+\"+\"+e.humanize(this.diff),n){var r=\"color: \"+this.color;t.splice(1,0,r,\"color: inherit\");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){\"%%\"!==t&&(o++,\"%c\"===t&&(i=o))}),t.splice(i,0,r)}}function s(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem(\"debug\"):e.storage.debug=t}catch(n){}}function c(){var t;try{t=e.storage.debug}catch(n){}return!t&&\"undefined\"!=typeof r&&\"env\"in r&&(t=r.env.DEBUG),t}function p(){try{return window.localStorage}catch(t){}}e=t.exports=n(5),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:p(),e.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}},e.enable(c())}).call(e,n(4))},function(t,e){function n(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):m=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++m<e;)l&&l[m].run();m=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function p(){}var u,h,f=t.exports={};!function(){try{u=\"function\"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h=\"function\"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var l,d=[],y=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title=\"browser\",f.browser=!0,f.env={},f.argv=[],f.version=\"\",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(t){return[]},f.binding=function(t){throw new Error(\"process.binding is not supported\")},f.cwd=function(){return\"/\"},f.chdir=function(t){throw new Error(\"process.chdir is not supported\")},f.umask=function(){return 0}},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(p||r);t.diff=o,t.prev=p,t.curr=r,p=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),\"string\"!=typeof i[0]&&i.unshift(\"%O\");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if(\"%%\"===n)return n;a++;var o=e.formatters[r];if(\"function\"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),e.formatArgs.call(t,i);var c=n.log||e.log||console.log.bind(console);c.apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),\"function\"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=(\"string\"==typeof t?t:\"\").split(/[\\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\\*/g,\".*?\"),\"-\"===t[0]?e.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):e.names.push(new RegExp(\"^\"+t+\"$\")))}function s(){e.enable(\"\")}function a(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o[\"default\"]=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=n(6),e.names=[],e.skips=[],e.formatters={};var p},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||\"ms\").toLowerCase();switch(r){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return n*u;case\"days\":case\"day\":case\"d\":return n*p;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return n*c;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return n*a;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return n*s;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return n;default:return}}}}function r(t){return t>=p?Math.round(t/p)+\"d\":t>=c?Math.round(t/c)+\"h\":t>=a?Math.round(t/a)+\"m\":t>=s?Math.round(t/s)+\"s\":t+\"ms\"}function o(t){return i(t,p,\"day\")||i(t,c,\"hour\")||i(t,a,\"minute\")||i(t,s,\"second\")||t+\" ms\"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+\" \"+n:Math.ceil(t/e)+\" \"+n+\"s\"}var s=1e3,a=60*s,c=60*a,p=24*c,u=365.25*p;t.exports=function(t,e){e=e||{};var i=typeof t;if(\"string\"===i&&t.length>0)return n(t);if(\"number\"===i&&isNaN(t)===!1)return e[\"long\"]?o(t):r(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))}},function(t,e,n){function r(){}function o(t){var n=\"\"+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+\"-\"),t.nsp&&\"/\"!==t.nsp&&(n+=t.nsp+\",\"),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),h(\"encoded %j as %s\",t,n),n}function i(t,e){function n(t){var n=d.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}d.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return u();if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o=\"\";\"-\"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||\"-\"!==t.charAt(n))throw new Error(\"Illegal attachments\");r.attachments=Number(o)}if(\"/\"===t.charAt(n+1))for(r.nsp=\"\";++n;){var i=t.charAt(n);if(\",\"===i)break;if(r.nsp+=i,n===t.length)break}else r.nsp=\"/\";var s=t.charAt(n+1);if(\"\"!==s&&Number(s)==s){for(r.id=\"\";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),h(\"decoded %s as %j\",t,r),r}function c(t,e){try{t.data=JSON.parse(e)}catch(n){return u()}return t}function p(t){this.reconPack=t,this.buffers=[]}function u(){return{type:e.ERROR,data:\"parser error\"}}var h=n(3)(\"socket.io-parser\"),f=n(8),l=n(9),d=n(11),y=n(12);e.protocol=4,e.types=[\"CONNECT\",\"DISCONNECT\",\"EVENT\",\"ACK\",\"ERROR\",\"BINARY_EVENT\",\"BINARY_ACK\"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=s,r.prototype.encode=function(t,n){if(t.type!==e.EVENT&&t.type!==e.ACK||!l(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),h(\"encoding packet %j\",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)i(t,n);else{var r=o(t);n([r])}},f(s.prototype),s.prototype.add=function(t){var n;if(\"string\"==typeof t)n=a(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit(\"decoded\",n)):this.emit(\"decoded\",n);else{if(!y(t)&&!t.base64)throw new Error(\"Unknown type: \"+t);if(!this.reconstructor)throw new Error(\"got binary data when not reconstructing a packet\");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,this.emit(\"decoded\",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+t]=this._callbacks[\"$\"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[\"$\"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[\"$\"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(e){function r(t){if(!t||\"object\"!=typeof t)return!1;if(o(t)){for(var n=0,i=t.length;n<i;n++)if(r(t[n]))return!0;return!1}if(\"function\"==typeof e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||\"function\"==typeof e.ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&\"function\"==typeof t.toJSON&&1===arguments.length)return r(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&r(t[c]))return!0;return!1}var o=n(10),i=Object.prototype.toString,s=\"function\"==typeof e.Blob||\"[object BlobConstructor]\"===i.call(e.Blob),a=\"function\"==typeof e.File||\"[object FileConstructor]\"===i.call(e.File);t.exports=r}).call(e,function(){return this}())},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==n.call(t)}},function(t,e,n){(function(t){function r(t,e){if(!t)return t;if(s(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=r(t[a],e);return o}if(\"object\"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=r(t[c],e);return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var n=0;n<t.length;n++)t[n]=o(t[n],e);else if(\"object\"==typeof t)for(var r in t)t[r]=o(t[r],e);return t}var i=n(10),s=n(12),a=Object.prototype.toString,c=\"function\"==typeof t.Blob||\"[object BlobConstructor]\"===a.call(t.Blob),p=\"function\"==typeof t.File||\"[object FileConstructor]\"===a.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=r(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,a,u){if(!t)return t;if(c&&t instanceof Blob||p&&t instanceof File){r++;var h=new FileReader;h.onload=function(){u?u[a]=this.result:o=this.result,--r||e(o)},h.readAsArrayBuffer(t)}else if(i(t))for(var f=0;f<t.length;f++)n(t[f],f,t);else if(\"object\"==typeof t&&!s(t))for(var l in t)n(t[l],l,t)}var r=0,o=t;n(o),r||e(o)}}).call(e,function(){return this}())},function(t,e){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(e,function(){return this}())},function(t,e,n){\"use strict\";function r(t,e){if(!(this instanceof r))return new r(t,e);t&&\"object\"===(\"undefined\"==typeof t?\"undefined\":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||\"/socket.io\",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState=\"closed\",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=n(14),s=n(37),a=n(8),c=n(7),p=n(39),u=n(40),h=n(3)(\"socket.io-client:manager\"),f=n(36),l=n(41),d=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return(\"/\"===t?\"\":t+\"#\")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,e){if(h(\"readyState %s\",this.readyState),~this.readyState.indexOf(\"open\"))return this;h(\"opening %s\",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState=\"opening\",this.skipReconnect=!1;var o=p(n,\"open\",function(){r.onopen(),t&&t()}),s=p(n,\"error\",function(e){if(h(\"connect_error\"),r.cleanup(),r.readyState=\"closed\",r.emitAll(\"connect_error\",e),t){var n=new Error(\"Connection error\");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;h(\"connect attempt will timeout after %d\",a);var c=setTimeout(function(){h(\"connect attempt timed out after %d\",a),o.destroy(),n.close(),n.emit(\"error\",\"timeout\"),r.emitAll(\"connect_timeout\",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},r.prototype.onopen=function(){h(\"open\"),this.cleanup(),this.readyState=\"open\",this.emit(\"open\");var t=this.engine;this.subs.push(p(t,\"data\",u(this,\"ondata\"))),this.subs.push(p(t,\"ping\",u(this,\"onping\"))),this.subs.push(p(t,\"pong\",u(this,\"onpong\"))),this.subs.push(p(t,\"error\",u(this,\"onerror\"))),this.subs.push(p(t,\"close\",u(this,\"onclose\"))),this.subs.push(p(this.decoder,\"decoded\",u(this,\"ondecoded\")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll(\"ping\")},r.prototype.onpong=function(){this.emitAll(\"pong\",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit(\"packet\",t)},r.prototype.onerror=function(t){h(\"error\",t),this.emitAll(\"error\",t)},r.prototype.socket=function(t,e){function n(){~f(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[t];if(!r){r=new s(this,t,e),this.nsps[t]=r;var o=this;r.on(\"connecting\",n),r.on(\"connect\",function(){r.id=o.generateId(t)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){h(\"writing packet %j\",t);var e=this;t.query&&0===t.type&&(t.nsp+=\"?\"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){h(\"cleanup\");for(var t=this.subs.length,e=0;e<t;e++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){h(\"disconnect\"),this.skipReconnect=!0,this.reconnecting=!1,\"opening\"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.engine&&this.engine.close()},r.prototype.onclose=function(t){h(\"onclose\"),this.cleanup(),this.backoff.reset(),this.readyState=\"closed\",this.emit(\"close\",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h(\"reconnect failed\"),this.backoff.reset(),this.emitAll(\"reconnect_failed\"),this.reconnecting=!1;else{var e=this.backoff.duration();h(\"will wait %dms before reconnect attempt\",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(h(\"attempting reconnect\"),t.emitAll(\"reconnect_attempt\",t.backoff.attempts),t.emitAll(\"reconnecting\",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(h(\"reconnect attempt error\"),t.reconnecting=!1,t.reconnect(),t.emitAll(\"reconnect_error\",e.data)):(h(\"reconnect success\"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll(\"reconnect\",t)}},function(t,e,n){t.exports=n(15),t.exports.parser=n(22)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);n=n||{},t&&\"object\"==typeof t&&(n=t,t=null),t?(t=u(t),n.hostname=t.host,n.secure=\"https\"===t.protocol||\"wss\"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&\"https:\"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?\"443\":\"80\"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:\"localhost\"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},\"string\"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||\"/engine.io\").replace(/\\/$/,\"\")+\"/\",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||\"t\",this.timestampRequests=n.timestampRequests,this.transports=n.transports||[\"polling\",\"websocket\"],this.transportOptions=n.transportOptions||{},this.readyState=\"\",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var o=\"object\"==typeof e&&e;o.global===o&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=n(16),s=n(8),a=n(3)(\"engine.io-client:socket\"),c=n(36),p=n(22),u=n(2),h=n(30);t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=n(21),r.transports=n(16),r.parser=n(22),r.prototype.createTransport=function(t){a('creating transport \"%s\"',t);var e=o(this.query);e.EIO=p.protocol,e.transport=t;var n=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var r=new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0});return r},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf(\"websocket\")!==-1)t=\"websocket\";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit(\"error\",\"No transports available\")},0)}t=this.transports[0]}this.readyState=\"opening\";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){a(\"setting transport %s\",t.name);var e=this;this.transport&&(a(\"clearing existing transport %s\",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on(\"drain\",function(){e.onDrain()}).on(\"packet\",function(t){e.onPacket(t)}).on(\"error\",function(t){e.onError(t)}).on(\"close\",function(){e.onClose(\"transport close\")})},r.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(a('probe transport \"%s\" opened',t),u.send([{type:\"ping\",data:\"probe\"}]),u.once(\"packet\",function(e){if(!h)if(\"pong\"===e.type&&\"probe\"===e.data){if(a('probe transport \"%s\" pong',t),f.upgrading=!0,f.emit(\"upgrading\",u),!u)return;r.priorWebsocketSuccess=\"websocket\"===u.name,a('pausing current transport \"%s\"',f.transport.name),f.transport.pause(function(){h||\"closed\"!==f.readyState&&(a(\"changing transport and sending upgrade packet\"),p(),f.setTransport(u),u.send([{type:\"upgrade\"}]),f.emit(\"upgrade\",u),u=null,f.upgrading=!1,f.flush())})}else{a('probe transport \"%s\" failed',t);var n=new Error(\"probe error\");n.transport=u.name,f.emit(\"upgradeError\",n)}}))}function n(){h||(h=!0,p(),u.close(),u=null)}function o(e){var r=new Error(\"probe error: \"+e);r.transport=u.name,n(),a('probe transport \"%s\" failed because of error: %s',t,e),f.emit(\"upgradeError\",r)}function i(){o(\"transport closed\")}function s(){o(\"socket closed\")}function c(t){u&&t.name!==u.name&&(a('\"%s\" works - aborting \"%s\"',t.name,u.name),n())}function p(){u.removeListener(\"open\",e),u.removeListener(\"error\",o),u.removeListener(\"close\",i),f.removeListener(\"close\",s),f.removeListener(\"upgrading\",c)}a('probing transport \"%s\"',t);var u=this.createTransport(t,{probe:1}),h=!1,f=this;r.priorWebsocketSuccess=!1,u.once(\"open\",e),u.once(\"error\",o),u.once(\"close\",i),this.once(\"close\",s),this.once(\"upgrading\",c),u.open()},r.prototype.onOpen=function(){if(a(\"socket open\"),this.readyState=\"open\",r.priorWebsocketSuccess=\"websocket\"===this.transport.name,this.emit(\"open\"),this.flush(),\"open\"===this.readyState&&this.upgrade&&this.transport.pause){a(\"starting upgrade probes\");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState)switch(a('socket receive: type \"%s\", data \"%s\"',t.type,t.data),this.emit(\"packet\",t),this.emit(\"heartbeat\"),t.type){case\"open\":this.onHandshake(JSON.parse(t.data));break;case\"pong\":this.setPing(),this.emit(\"pong\");break;case\"error\":var e=new Error(\"server error\");e.code=t.data,this.onError(e);break;case\"message\":this.emit(\"data\",t.data),this.emit(\"message\",t.data)}else a('packet received with socket readyState \"%s\"',this.readyState)},r.prototype.onHandshake=function(t){this.emit(\"handshake\",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),\"closed\"!==this.readyState&&(this.setPing(),this.removeListener(\"heartbeat\",this.onHeartbeat),this.on(\"heartbeat\",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){\"closed\"!==e.readyState&&e.onClose(\"ping timeout\")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a(\"writing ping packet - expecting pong within %sms\",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket(\"ping\",function(){t.emit(\"ping\")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit(\"drain\"):this.flush()},r.prototype.flush=function(){\"closed\"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a(\"flushing %d packets in socket\",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit(\"flush\"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket(\"message\",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if(\"function\"==typeof e&&(r=e,e=void 0),\"function\"==typeof n&&(r=n,n=null),\"closing\"!==this.readyState&&\"closed\"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit(\"packetCreate\",o),this.writeBuffer.push(o),r&&this.once(\"flush\",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose(\"forced close\"),a(\"socket closing - telling transport to close\"),r.transport.close()}function e(){r.removeListener(\"upgrade\",e),r.removeListener(\"upgradeError\",e),t()}function n(){r.once(\"upgrade\",e),r.once(\"upgradeError\",e)}if(\"opening\"===this.readyState||\"open\"===this.readyState){this.readyState=\"closing\";var r=this;this.writeBuffer.length?this.once(\"drain\",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){a(\"socket error %j\",t),r.priorWebsocketSuccess=!1,this.emit(\"error\",t),this.onClose(\"transport error\",t)},r.prototype.onClose=function(t,e){if(\"opening\"===this.readyState||\"open\"===this.readyState||\"closing\"===this.readyState){a('socket close with reason: \"%s\"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),this.readyState=\"closed\",this.id=null,this.emit(\"close\",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e){var n,r=!1,a=!1,c=!1!==e.jsonp;if(t.location){var p=\"https:\"===location.protocol,u=location.port;u||(u=p?443:80),r=e.hostname!==location.hostname||u!==e.port,a=e.secure!==p}if(e.xdomain=r,e.xscheme=a,n=new o(e),\"open\"in n&&!e.forceJSONP)return new i(e);if(!c)throw new Error(\"JSONP disabled\");return new s(e)}var o=n(17),i=n(19),s=n(33),a=n(34);e.polling=r,e.websocket=a}).call(e,function(){return this}())},function(t,e,n){(function(e){var r=n(18);t.exports=function(t){var n=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if(\"undefined\"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(s){}try{if(\"undefined\"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(s){}if(!n)try{return new(e[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\");\n}catch(s){}}}).call(e,function(){return this}())},function(t,e){try{t.exports=\"undefined\"!=typeof XMLHttpRequest&&\"withCredentials\"in new XMLHttpRequest}catch(n){t.exports=!1}},function(t,e,n){(function(e){function r(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n=\"https:\"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function i(t){this.method=t.method||\"GET\",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=n(17),c=n(20),p=n(8),u=n(31),h=n(3)(\"engine.io-client:polling-xhr\");t.exports=o,t.exports.Request=i,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var n=\"string\"!=typeof t&&void 0!==t,r=this.request({method:\"POST\",data:t,isBinary:n}),o=this;r.on(\"success\",e),r.on(\"error\",function(t){o.onError(\"xhr post error\",t)}),this.sendXhr=r},o.prototype.doPoll=function(){h(\"xhr poll\");var t=this.request(),e=this;t.on(\"data\",function(t){e.onData(t)}),t.on(\"error\",function(t){e.onError(\"xhr poll error\",t)}),this.pollXhr=t},p(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(t),r=this;try{h(\"xhr open %s: %s\",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(s){}if(\"POST\"===this.method)try{this.isBinary?n.setRequestHeader(\"Content-type\",\"application/octet-stream\"):n.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch(s){}try{n.setRequestHeader(\"Accept\",\"*/*\")}catch(s){}\"withCredentials\"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var t;try{t=n.getResponseHeader(\"Content-Type\")}catch(e){}\"application/octet-stream\"===t&&(n.responseType=\"arraybuffer\")}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},h(\"xhr data %s\",this.data),n.send(this.data)}catch(s){return void setTimeout(function(){r.onError(s)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit(\"success\"),this.cleanup()},i.prototype.onData=function(t){this.emit(\"data\",t),this.onSuccess()},i.prototype.onError=function(t){this.emit(\"error\",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(\"undefined\"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(n){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader(\"Content-Type\")}catch(n){}t=\"application/octet-stream\"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return\"undefined\"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent(\"onunload\",s):e.addEventListener&&e.addEventListener(\"beforeunload\",s,!1))}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=n(21),i=n(30),s=n(22),a=n(31),c=n(32),p=n(3)(\"engine.io-client:polling\");t.exports=r;var u=function(){var t=n(17),e=new t({xdomain:!1});return null!=e.responseType}();a(r,o),r.prototype.name=\"polling\",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){p(\"paused\"),n.readyState=\"paused\",t()}var n=this;if(this.readyState=\"pausing\",this.polling||!this.writable){var r=0;this.polling&&(p(\"we are currently polling - waiting to pause\"),r++,this.once(\"pollComplete\",function(){p(\"pre-pause polling complete\"),--r||e()})),this.writable||(p(\"we are currently writing - waiting to pause\"),r++,this.once(\"drain\",function(){p(\"pre-pause writing complete\"),--r||e()}))}else e()},r.prototype.poll=function(){p(\"polling\"),this.polling=!0,this.doPoll(),this.emit(\"poll\")},r.prototype.onData=function(t){var e=this;p(\"polling got data %s\",t);var n=function(t,n,r){return\"opening\"===e.readyState&&e.onOpen(),\"close\"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),\"closed\"!==this.readyState&&(this.polling=!1,this.emit(\"pollComplete\"),\"open\"===this.readyState?this.poll():p('ignoring poll - transport state \"%s\"',this.readyState))},r.prototype.doClose=function(){function t(){p(\"writing close packet\"),e.write([{type:\"close\"}])}var e=this;\"open\"===this.readyState?(p(\"transport open - closing\"),t()):(p(\"transport not open - deferring close\"),this.once(\"open\",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit(\"drain\")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?\"https\":\"http\",n=\"\";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&(\"https\"===e&&443!==Number(this.port)||\"http\"===e&&80!==Number(this.port))&&(n=\":\"+this.port),t.length&&(t=\"?\"+t);var r=this.hostname.indexOf(\":\")!==-1;return e+\"://\"+(r?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+t}},function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState=\"\",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=n(22),i=n(8);t.exports=r,i(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type=\"TransportError\",n.description=e,this.emit(\"error\",n),this},r.prototype.open=function(){return\"closed\"!==this.readyState&&\"\"!==this.readyState||(this.readyState=\"opening\",this.doOpen()),this},r.prototype.close=function(){return\"opening\"!==this.readyState&&\"open\"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if(\"open\"!==this.readyState)throw new Error(\"Transport not open\");this.write(t)},r.prototype.onOpen=function(){this.readyState=\"open\",this.writable=!0,this.emit(\"open\")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit(\"packet\",t)},r.prototype.onClose=function(){this.readyState=\"closed\",this.emit(\"close\")}},function(t,e,n){(function(t){function r(t,n){var r=\"b\"+e.packets[t.type]+t.data.data;return n(r)}function o(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,n,!0,r)},o.readAsArrayBuffer(t.data)}function s(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(g)return i(t,n,r);var o=new Uint8Array(1);o[0]=v[t.type];var s=new k([o.buffer,t.data]);return r(s)}function a(t){try{t=d.decode(t,{strict:!1})}catch(e){return!1}return t}function c(t,e,n){for(var r=new Array(t.length),o=l(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},s=0;s<t.length;s++)i(s,t[s],o)}var p,u=n(23),h=n(9),f=n(24),l=n(25),d=n(26);t&&t.ArrayBuffer&&(p=n(28));var y=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),m=\"undefined\"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=y||m;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(v),w={type:\"error\",data:\"parser error\"},k=n(29);e.encodePacket=function(e,n,i,a){\"function\"==typeof n&&(a=n,n=!1),\"function\"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,n,a);if(k&&c instanceof t.Blob)return s(e,n,a);if(c&&c.base64)return r(e,a);var p=v[e.type];return void 0!==e.data&&(p+=i?d.encode(String(e.data),{strict:!1}):String(e.data)),a(\"\"+p)},e.encodeBase64Packet=function(n,r){var o=\"b\"+e.packets[n.type];if(k&&n.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(\",\")[1];r(o+t)},i.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(a){for(var c=new Uint8Array(n.data),p=new Array(c.length),u=0;u<c.length;u++)p[u]=c[u];s=String.fromCharCode.apply(null,p)}return o+=t.btoa(s),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return w;if(\"string\"==typeof t){if(\"b\"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return k&&\"blob\"===n&&(s=new k([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var n=b[t.charAt(0)];if(!p)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=p.decode(t.substr(1));return\"blob\"===e&&k&&(r=new k([r])),{type:n,data:r}},e.encodePayload=function(t,n,r){function o(t){return t.length+\":\"+t}function i(t,r){e.encodePacket(t,!!s&&n,!1,function(t){r(null,o(t))})}\"function\"==typeof n&&(r=n,n=null);var s=h(t);return n&&s?k&&!g?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void c(t,i,function(t,e){return r(e.join(\"\"))}):r(\"0:\")},e.decodePayload=function(t,n,r){if(\"string\"!=typeof t)return e.decodePayloadAsBinary(t,n,r);\"function\"==typeof n&&(r=n,n=null);var o;if(\"\"===t)return r(w,0,1);for(var i,s,a=\"\",c=0,p=t.length;c<p;c++){var u=t.charAt(c);if(\":\"===u){if(\"\"===a||a!=(i=Number(a)))return r(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return r(w,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),w.type===o.type&&w.data===o.data)return r(w,0,1);var h=r(o,c+i,p);if(!1===h)return}c+=i,a=\"\"}else a+=u}return\"\"!==a?r(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}return t.length?void c(t,r,function(t,e){var r=e.reduce(function(t,e){var n;return n=\"string\"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e=\"string\"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}e?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),n(o.buffer)}):n(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,\"string\"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,k){var c=new k([e.buffer,a.buffer,t]);n(null,c)}})}c(t,r,function(t,e){return n(new k(e))})},e.decodePayloadAsBinary=function(t,n,r){\"function\"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c=\"\",p=1;255!==s[p];p++){if(c.length>310)return r(w,0,1);c+=s[p]}o=f(o,2+c.length),c=parseInt(c);var u=f(o,0,c);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(h){var l=new Uint8Array(u);u=\"\";for(var p=0;p<l.length;p++)u+=String.fromCharCode(l[p])}i.push(u),o=f(o,c)}var d=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,d)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function n(t,e,n){function o(t,r){if(o.count<=0)throw new Error(\"after called too many times\");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}var i=!1;return n=n||r,o.count=t,0===t?e():o}function r(){}t.exports=n},function(t,e,n){var r;(function(t,o){!function(i){function s(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function a(t){for(var e,n=t.length,r=-1,o=\"\";++r<n;)e=t[r],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error(\"Lone surrogate U+\"+t.toString(16).toUpperCase()+\" is not a scalar value\");return!1}return!0}function p(t,e){return w(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return w(t);var n=\"\";return 0==(4294965248&t)?n=w(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=w(t>>12&15|224),n+=p(t,6)):0==(4292870144&t)&&(n=w(t>>18&7|240),n+=p(t,12),n+=p(t,6)),n+=w(63&t|128)}function h(t,e){e=e||{};for(var n,r=!1!==e.strict,o=s(t),i=o.length,a=-1,c=\"\";++a<i;)n=o[a],c+=u(n,r);return c}function f(){if(b>=v)throw Error(\"Invalid byte index\");var t=255&g[b];if(b++,128==(192&t))return 63&t;throw Error(\"Invalid continuation byte\")}function l(t){var e,n,r,o,i;if(b>v)throw Error(\"Invalid byte index\");if(b==v)return!1;if(e=255&g[b],b++,0==(128&e))return e;if(192==(224&e)){if(n=f(),i=(31&e)<<6|n,i>=128)return i;throw Error(\"Invalid continuation byte\")}if(224==(240&e)){if(n=f(),r=f(),i=(15&e)<<12|n<<6|r,i>=2048)return c(i,t)?i:65533;throw Error(\"Invalid continuation byte\")}if(240==(248&e)&&(n=f(),r=f(),o=f(),i=(7&e)<<18|n<<12|r<<6|o,i>=65536&&i<=1114111))return i;throw Error(\"Invalid UTF-8 detected\")}function d(t,e){e=e||{};var n=!1!==e.strict;g=s(t),v=g.length,b=0;for(var r,o=[];(r=l(n))!==!1;)o.push(r);return a(o)}var y=\"object\"==typeof e&&e,m=(\"object\"==typeof t&&t&&t.exports==y&&t,\"object\"==typeof o&&o);m.global!==m&&m.window!==m||(i=m);var g,v,b,w=String.fromCharCode,k={version:\"2.1.2\",encode:h,decode:d};r=function(){return k}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(27)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(){\"use strict\";for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i=\"\";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+\"=\":o%3===1&&(i=i.substring(0,i.length-2)+\"==\"),i},e.decode=function(t){var e,r,o,i,s,a=.75*t.length,c=t.length,p=0;\"=\"===t[t.length-1]&&(a--,\"=\"===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[p++]=r<<2|o>>4,h[p++]=(15&o)<<4|i>>2,h[p++]=(3&i)<<6|63&s;return u}}()},function(t,e){(function(e){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new i;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob([\"hi\"]);return 2===t.size}catch(e){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?r:void 0}()}).call(e,function(){return this}())},function(t,e){e.encode=function(t){var e=\"\";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+=\"&\"),e+=encodeURIComponent(n)+\"=\"+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split(\"&\"),r=0,o=n.length;r<o;r++){var i=n[r].split(\"=\");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){\"use strict\";function n(t){var e=\"\";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function r(t){var e=0;for(u=0;u<t.length;u++)e=e*a+c[t.charAt(u)];return e}function o(){var t=n(+new Date);return t!==i?(p=0,i=t):t+\".\"+n(p++)}for(var i,s=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_\".split(\"\"),a=64,c={},p=0,u=0;u<a;u++)c[s[u]]=u;o.encode=n,o.decode=r,t.exports=o},function(t,e,n){(function(e){function r(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var n=this;a.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener(\"beforeunload\",function(){n.script&&(n.script.onerror=r)},!1)}var i=n(20),s=n(31);t.exports=o;var a,c=/\\n/g,p=/\\\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement(\"script\");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError(\"jsonp poll error\",e)};var n=document.getElementsByTagName(\"script\")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e;var r=\"undefined\"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement(\"iframe\");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError(\"jsonp polling iframe removal error\",t)}try{var e='<iframe src=\"javascript:0\" name=\"'+o.iframeId+'\">';i=document.createElement(e)}catch(t){i=document.createElement(\"iframe\"),i.name=o.iframeId,i.src=\"javascript:0\"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement(\"form\"),a=document.createElement(\"textarea\"),u=this.iframeId=\"eio_iframe_\"+this.index;s.className=\"socketio\",s.style.position=\"absolute\",s.style.top=\"-1000px\",s.style.left=\"-1000px\",s.target=u,s.method=\"POST\",s.setAttribute(\"accept-charset\",\"utf-8\"),a.name=\"d\",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(p,\"\\\\\\n\"),this.area.value=t.replace(c,\"\\\\n\");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){\"complete\"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=h&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(l=o),i.call(this,t)}var o,i=n(21),s=n(22),a=n(30),c=n(31),p=n(32),u=n(3)(\"engine.io-client:websocket\"),h=e.WebSocket||e.MozWebSocket;if(\"undefined\"==typeof window)try{o=n(35)}catch(f){}var l=h;l||\"undefined\"!=typeof window||(l=o),t.exports=r,c(r,i),r.prototype.name=\"websocket\",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new l(t,e):new l(t):new l(t,e,n)}catch(r){return this.emit(\"error\",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=\"nodebuffer\"):this.ws.binaryType=\"arraybuffer\",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError(\"websocket error\",e)}},r.prototype.write=function(t){function n(){r.emit(\"flush\"),setTimeout(function(){r.writable=!0,r.emit(\"drain\")},0)}var r=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),r.perMessageDeflate){var a=\"string\"==typeof i?e.Buffer.byteLength(i):i.length;a<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,s)}catch(c){u(\"websocket closed before onclose event\")}--o||n()})}(t[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){\"undefined\"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?\"wss\":\"ws\",n=\"\";this.port&&(\"wss\"===e&&443!==Number(this.port)||\"ws\"===e&&80!==Number(this.port))&&(n=\":\"+this.port),this.timestampRequests&&(t[this.timestampParam]=p()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t=\"?\"+t);var r=this.hostname.indexOf(\":\")!==-1;return e+\"://\"+(r?\"[\"+this.hostname+\"]\":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!l||\"__initialize\"in l&&this.name===r.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){\"use strict\";function r(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i=n(7),s=n(8),a=n(38),c=n(39),p=n(40),u=n(3)(\"socket.io-client:socket\"),h=n(30);t.exports=e=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,\"open\",p(this,\"onopen\")),c(t,\"packet\",p(this,\"onpacket\")),c(t,\"close\",p(this,\"onclose\"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),\"open\"===this.io.readyState&&this.onopen(),this.emit(\"connecting\"),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift(\"message\"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return l.apply(this,arguments),this;var e=a(arguments),n={type:i.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,\"function\"==typeof e[e.length-1]&&(u(\"emitting packet with ack id %d\",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){if(u(\"transport is open - connecting\"),\"/\"!==this.nsp)if(this.query){var t=\"object\"===o(this.query)?h.encode(this.query):this.query;u(\"sending connect packet with query %s\",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(t){u(\"close (%s)\",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit(\"disconnect\",t)},r.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit(\"error\",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];u(\"emitting event %j\",e),null!=t.id&&(u(\"attaching ack callback to event\"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u(\"sending ack %j\",r),e.packet({type:i.ACK,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];\"function\"==typeof e?(u(\"calling ack %s with %j\",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u(\"bad ack %s\",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit(\"connect\"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u(\"server disconnect (%s)\",this.nsp),this.destroy(),this.onclose(\"io server disconnect\")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u(\"performing disconnect (%s)\",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this},r.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function n(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}t.exports=n},function(t,e){\"use strict\";function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},function(t,e){var n=[].slice;t.exports=function(t,e){if(\"string\"==typeof e&&(e=t[e]),\"function\"!=typeof e)throw new Error(\"bind() requires a function\");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])});\n//# sourceMappingURL=socket.io.js.map","/**\r\n * Timeago is a jQuery plugin that makes it easy to support automatically\r\n * updating fuzzy timestamps (e.g. \"4 minutes ago\" or \"about 1 day ago\").\r\n *\r\n * @name timeago\r\n * @version 1.5.3\r\n * @requires jQuery v1.2.3+\r\n * @author Ryan McGeary\r\n * @license MIT License - http://www.opensource.org/licenses/mit-license.php\r\n *\r\n * For usage and examples, visit:\r\n * http://timeago.yarp.com/\r\n *\r\n * Copyright (c) 2008-2015, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)\r\n */\r\n\r\n(function (factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\r\n    factory(require('jquery'));\r\n  } else {\r\n    // Browser globals\r\n    factory(jQuery);\r\n  }\r\n}(function ($) {\r\n  $.timeago = function(timestamp) {\r\n    if (timestamp instanceof Date) {\r\n      return inWords(timestamp);\r\n    } else if (typeof timestamp === \"string\") {\r\n      return inWords($.timeago.parse(timestamp));\r\n    } else if (typeof timestamp === \"number\") {\r\n      return inWords(new Date(timestamp));\r\n    } else {\r\n      return inWords($.timeago.datetime(timestamp));\r\n    }\r\n  };\r\n  var $t = $.timeago;\r\n\r\n  $.extend($.timeago, {\r\n    settings: {\r\n      refreshMillis: 60000,\r\n      allowPast: true,\r\n      allowFuture: false,\r\n      localeTitle: false,\r\n      cutoff: 0,\r\n      autoDispose: true,\r\n      strings: {\r\n        prefixAgo: null,\r\n        prefixFromNow: null,\r\n        suffixAgo: \"ago\",\r\n        suffixFromNow: \"from now\",\r\n        inPast: 'any moment now',\r\n        seconds: \"less than a minute\",\r\n        minute: \"about a minute\",\r\n        minutes: \"%d minutes\",\r\n        hour: \"about an hour\",\r\n        hours: \"about %d hours\",\r\n        day: \"a day\",\r\n        days: \"%d days\",\r\n        month: \"about a month\",\r\n        months: \"%d months\",\r\n        year: \"about a year\",\r\n        years: \"%d years\",\r\n        wordSeparator: \" \",\r\n        numbers: []\r\n      }\r\n    },\r\n\r\n    inWords: function(distanceMillis) {\r\n      if (!this.settings.allowPast && ! this.settings.allowFuture) {\r\n          throw 'timeago allowPast and allowFuture settings can not both be set to false.';\r\n      }\r\n\r\n      var $l = this.settings.strings;\r\n      var prefix = $l.prefixAgo;\r\n      var suffix = $l.suffixAgo;\r\n      if (this.settings.allowFuture) {\r\n        if (distanceMillis < 0) {\r\n          prefix = $l.prefixFromNow;\r\n          suffix = $l.suffixFromNow;\r\n        }\r\n      }\r\n\r\n      if (!this.settings.allowPast && distanceMillis >= 0) {\r\n        return this.settings.strings.inPast;\r\n      }\r\n\r\n      var seconds = Math.abs(distanceMillis) / 1000;\r\n      var minutes = seconds / 60;\r\n      var hours = minutes / 60;\r\n      var days = hours / 24;\r\n      var years = days / 365;\r\n\r\n      function substitute(stringOrFunction, number) {\r\n        var string = $.isFunction(stringOrFunction) ? stringOrFunction(number, distanceMillis) : stringOrFunction;\r\n        var value = ($l.numbers && $l.numbers[number]) || number;\r\n        return string.replace(/%d/i, value);\r\n      }\r\n\r\n      var words = seconds < 45 && substitute($l.seconds, Math.round(seconds)) ||\r\n        seconds < 90 && substitute($l.minute, 1) ||\r\n        minutes < 45 && substitute($l.minutes, Math.round(minutes)) ||\r\n        minutes < 90 && substitute($l.hour, 1) ||\r\n        hours < 24 && substitute($l.hours, Math.round(hours)) ||\r\n        hours < 42 && substitute($l.day, 1) ||\r\n        days < 30 && substitute($l.days, Math.round(days)) ||\r\n        days < 45 && substitute($l.month, 1) ||\r\n        days < 365 && substitute($l.months, Math.round(days / 30)) ||\r\n        years < 1.5 && substitute($l.year, 1) ||\r\n        substitute($l.years, Math.round(years));\r\n\r\n      var separator = $l.wordSeparator || \"\";\r\n      if ($l.wordSeparator === undefined) { separator = \" \"; }\r\n      return $.trim([prefix, words, suffix].join(separator));\r\n    },\r\n\r\n    parse: function(iso8601) {\r\n      var s = $.trim(iso8601);\r\n      s = s.replace(/\\.\\d+/,\"\"); // remove milliseconds\r\n      s = s.replace(/-/,\"/\").replace(/-/,\"/\");\r\n      s = s.replace(/T/,\" \").replace(/Z/,\" UTC\");\r\n      s = s.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/,\" $1$2\"); // -04:00 -> -0400\r\n      s = s.replace(/([\\+\\-]\\d\\d)$/,\" $100\"); // +09 -> +0900\r\n      return new Date(s);\r\n    },\r\n    datetime: function(elem) {\r\n      var iso8601 = $t.isTime(elem) ? $(elem).attr(\"datetime\") : $(elem).attr(\"title\");\r\n      return $t.parse(iso8601);\r\n    },\r\n    isTime: function(elem) {\r\n      // jQuery's `is()` doesn't play well with HTML5 in IE\r\n      return $(elem).get(0).tagName.toLowerCase() === \"time\"; // $(elem).is(\"time\");\r\n    }\r\n  });\r\n\r\n  // functions that can be called via $(el).timeago('action')\r\n  // init is default when no action is given\r\n  // functions are called with context of a single element\r\n  var functions = {\r\n    init: function() {\r\n      var refresh_el = $.proxy(refresh, this);\r\n      refresh_el();\r\n      var $s = $t.settings;\r\n      if ($s.refreshMillis > 0) {\r\n        this._timeagoInterval = setInterval(refresh_el, $s.refreshMillis);\r\n      }\r\n    },\r\n    update: function(timestamp) {\r\n      var date = (timestamp instanceof Date) ? timestamp : $t.parse(timestamp);\r\n      $(this).data('timeago', { datetime: date });\r\n      if ($t.settings.localeTitle) $(this).attr(\"title\", date.toLocaleString());\r\n      refresh.apply(this);\r\n    },\r\n    updateFromDOM: function() {\r\n      $(this).data('timeago', { datetime: $t.parse( $t.isTime(this) ? $(this).attr(\"datetime\") : $(this).attr(\"title\") ) });\r\n      refresh.apply(this);\r\n    },\r\n    dispose: function () {\r\n      if (this._timeagoInterval) {\r\n        window.clearInterval(this._timeagoInterval);\r\n        this._timeagoInterval = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  $.fn.timeago = function(action, options) {\r\n    var fn = action ? functions[action] : functions.init;\r\n    if (!fn) {\r\n      throw new Error(\"Unknown function name '\"+ action +\"' for timeago\");\r\n    }\r\n    // each over objects here and call the requested function\r\n    this.each(function() {\r\n      fn.call(this, options);\r\n    });\r\n    return this;\r\n  };\r\n\r\n  function refresh() {\r\n    var $s = $t.settings;\r\n\r\n    //check if it's still visible\r\n    if ($s.autoDispose && !$.contains(document.documentElement,this)) {\r\n      //stop if it has been removed\r\n      $(this).timeago(\"dispose\");\r\n      return this;\r\n    }\r\n\r\n    var data = prepareData(this);\r\n\r\n    if (!isNaN(data.datetime)) {\r\n      if ( $s.cutoff == 0 || Math.abs(distance(data.datetime)) < $s.cutoff) {\r\n        $(this).text(inWords(data.datetime));\r\n      } else {\r\n        if ($(this).attr('title').length > 0) {\r\n            $(this).text($(this).attr('title'));\r\n        }\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function prepareData(element) {\r\n    element = $(element);\r\n    if (!element.data(\"timeago\")) {\r\n      element.data(\"timeago\", { datetime: $t.datetime(element) });\r\n      var text = $.trim(element.text());\r\n      if ($t.settings.localeTitle) {\r\n        element.attr(\"title\", element.data('timeago').datetime.toLocaleString());\r\n      } else if (text.length > 0 && !($t.isTime(element) && element.attr(\"title\"))) {\r\n        element.attr(\"title\", text);\r\n      }\r\n    }\r\n    return element.data(\"timeago\");\r\n  }\r\n\r\n  function inWords(date) {\r\n    return $t.inWords(distance(date));\r\n  }\r\n\r\n  function distance(date) {\r\n    return (new Date().getTime() - date.getTime());\r\n  }\r\n\r\n  // fix for IE6 suckage\r\n  document.createElement(\"abbr\");\r\n  document.createElement(\"time\");\r\n}));\r\n","/*\r\n* jQuery Form Plugin; v20140218\r\n* http://jquery.malsup.com/form/\r\n* Copyright (c) 2014 M. Alsup; Dual licensed: MIT/GPL\r\n* https://github.com/malsup/form#copyright-and-license\r\n*/\r\n;!function(a){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(\"undefined\"!=typeof jQuery?jQuery:window.Zepto)}(function(a){\"use strict\";function b(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,d=a(c);if(!d.is(\"[type=submit],[type=image]\")){var e=d.closest(\"[type=submit]\");if(0===e.length)return;c=e[0]}var f=this;if(f.clk=c,\"image\"==c.type)if(void 0!==b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if(\"function\"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function d(){if(a.fn.ajaxSubmit.debug){var b=\"[jquery.form] \"+Array.prototype.join.call(arguments,\"\");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var e={};e.fileapi=void 0!==a(\"<input type='file'/>\").get(0).files,e.formdata=void 0!==window.FormData;var f=!!a.fn.prop;a.fn.attr2=function(){if(!f)return this.attr.apply(this,arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||\"string\"==typeof a?a:this.attr.apply(this,arguments)},a.fn.ajaxSubmit=function(b){function c(c){var d,e,f=a.param(c,b.traditional).split(\"&\"),g=f.length,h=[];for(d=0;g>d;d++)f[d]=f[d].replace(/\\+/g,\" \"),e=f[d].split(\"=\"),h.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return h}function g(d){for(var e=new FormData,f=0;f<d.length;f++)e.append(d[f].name,d[f].value);if(b.extraData){var g=c(b.extraData);for(f=0;f<g.length;f++)g[f]&&e.append(g[f][0],g[f][1])}b.data=null;var h=a.extend(!0,{},a.ajaxSettings,b,{contentType:!1,processData:!1,cache:!1,type:i||\"POST\"});b.uploadProgress&&(h.xhr=function(){var c=a.ajaxSettings.xhr();return c.upload&&c.upload.addEventListener(\"progress\",function(a){var c=0,d=a.loaded||a.position,e=a.total;a.lengthComputable&&(c=Math.ceil(d/e*100)),b.uploadProgress(a,d,e,c)},!1),c}),h.data=null;var j=h.beforeSend;return h.beforeSend=function(a,c){c.data=b.formData?b.formData:e,j&&j.call(this,a,c)},a.ajax(h)}function h(c){function e(a){var b=null;try{a.contentWindow&&(b=a.contentWindow.document)}catch(c){d(\"cannot get iframe.contentWindow document: \"+c)}if(b)return b;try{b=a.contentDocument?a.contentDocument:a.document}catch(c){d(\"cannot get iframe.contentDocument: \"+c),b=a.document}return b}function g(){function b(){try{var a=e(r).readyState;d(\"state = \"+a),a&&\"uninitialized\"==a.toLowerCase()&&setTimeout(b,50)}catch(c){d(\"Server abort: \",c,\" (\",c.name,\")\"),h(A),w&&clearTimeout(w),w=void 0}}var c=l.attr2(\"target\"),f=l.attr2(\"action\"),g=\"multipart/form-data\",j=l.attr(\"enctype\")||l.attr(\"encoding\")||g;x.setAttribute(\"target\",o),(!i||/post/i.test(i))&&x.setAttribute(\"method\",\"POST\"),f!=m.url&&x.setAttribute(\"action\",m.url),m.skipEncodingOverride||i&&!/post/i.test(i)||l.attr({encoding:\"multipart/form-data\",enctype:\"multipart/form-data\"}),m.timeout&&(w=setTimeout(function(){v=!0,h(z)},m.timeout));var k=[];try{if(m.extraData)for(var n in m.extraData)m.extraData.hasOwnProperty(n)&&(a.isPlainObject(m.extraData[n])&&m.extraData[n].hasOwnProperty(\"name\")&&m.extraData[n].hasOwnProperty(\"value\")?k.push(a('<input type=\"hidden\" name=\"'+m.extraData[n].name+'\">').val(m.extraData[n].value).appendTo(x)[0]):k.push(a('<input type=\"hidden\" name=\"'+n+'\">').val(m.extraData[n]).appendTo(x)[0]));m.iframeTarget||q.appendTo(\"body\"),r.attachEvent?r.attachEvent(\"onload\",h):r.addEventListener(\"load\",h,!1),setTimeout(b,15);try{x.submit()}catch(p){var s=document.createElement(\"form\").submit;s.apply(x)}}finally{x.setAttribute(\"action\",f),x.setAttribute(\"enctype\",j),c?x.setAttribute(\"target\",c):l.removeAttr(\"target\"),a(k).remove()}}function h(b){if(!s.aborted&&!F){if(E=e(r),E||(d(\"cannot access response document\"),b=A),b===z&&s)return s.abort(\"timeout\"),y.reject(s,\"timeout\"),void 0;if(b==A&&s)return s.abort(\"server abort\"),y.reject(s,\"error\",\"server abort\"),void 0;if(E&&E.location.href!=m.iframeSrc||v){r.detachEvent?r.detachEvent(\"onload\",h):r.removeEventListener(\"load\",h,!1);var c,f=\"success\";try{if(v)throw\"timeout\";var g=\"xml\"==m.dataType||E.XMLDocument||a.isXMLDoc(E);if(d(\"isXml=\"+g),!g&&window.opera&&(null===E.body||!E.body.innerHTML)&&--G)return d(\"requeing onLoad callback, DOM not available\"),setTimeout(h,250),void 0;var i=E.body?E.body:E.documentElement;s.responseText=i?i.innerHTML:null,s.responseXML=E.XMLDocument?E.XMLDocument:E,g&&(m.dataType=\"xml\"),s.getResponseHeader=function(a){var b={\"content-type\":m.dataType};return b[a.toLowerCase()]},i&&(s.status=Number(i.getAttribute(\"status\"))||s.status,s.statusText=i.getAttribute(\"statusText\")||s.statusText);var j=(m.dataType||\"\").toLowerCase(),k=/(json|script|text)/.test(j);if(k||m.textarea){var l=E.getElementsByTagName(\"textarea\")[0];if(l)s.responseText=l.value,s.status=Number(l.getAttribute(\"status\"))||s.status,s.statusText=l.getAttribute(\"statusText\")||s.statusText;else if(k){var o=E.getElementsByTagName(\"pre\")[0],p=E.getElementsByTagName(\"body\")[0];o?s.responseText=o.textContent?o.textContent:o.innerText:p&&(s.responseText=p.textContent?p.textContent:p.innerText)}}else\"xml\"==j&&!s.responseXML&&s.responseText&&(s.responseXML=H(s.responseText));try{D=J(s,j,m)}catch(t){f=\"parsererror\",s.error=c=t||f}}catch(t){d(\"error caught: \",t),f=\"error\",s.error=c=t||f}s.aborted&&(d(\"upload aborted\"),f=null),s.status&&(f=s.status>=200&&s.status<300||304===s.status?\"success\":\"error\"),\"success\"===f?(m.success&&m.success.call(m.context,D,\"success\",s),y.resolve(s.responseText,\"success\",s),n&&a.event.trigger(\"ajaxSuccess\",[s,m])):f&&(void 0===c&&(c=s.statusText),m.error&&m.error.call(m.context,s,f,c),y.reject(s,\"error\",c),n&&a.event.trigger(\"ajaxError\",[s,m,c])),n&&a.event.trigger(\"ajaxComplete\",[s,m]),n&&!--a.active&&a.event.trigger(\"ajaxStop\"),m.complete&&m.complete.call(m.context,s,f),F=!0,m.timeout&&clearTimeout(w),setTimeout(function(){m.iframeTarget?q.attr(\"src\",m.iframeSrc):q.remove(),s.responseXML=null},100)}}}var j,k,m,n,o,q,r,s,t,u,v,w,x=l[0],y=a.Deferred();if(y.abort=function(a){s.abort(a)},c)for(k=0;k<p.length;k++)j=a(p[k]),f?j.prop(\"disabled\",!1):j.removeAttr(\"disabled\");if(m=a.extend(!0,{},a.ajaxSettings,b),m.context=m.context||m,o=\"jqFormIO\"+(new Date).getTime(),m.iframeTarget?(q=a(m.iframeTarget),u=q.attr2(\"name\"),u?o=u:q.attr2(\"name\",o)):(q=a('<iframe name=\"'+o+'\" src=\"'+m.iframeSrc+'\" />'),q.css({position:\"absolute\",top:\"-1000px\",left:\"-1000px\"})),r=q[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:\"n/a\",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(b){var c=\"timeout\"===b?\"timeout\":\"aborted\";d(\"aborting upload... \"+c),this.aborted=1;try{r.contentWindow.document.execCommand&&r.contentWindow.document.execCommand(\"Stop\")}catch(e){}q.attr(\"src\",m.iframeSrc),s.error=c,m.error&&m.error.call(m.context,s,c,b),n&&a.event.trigger(\"ajaxError\",[s,m,c]),m.complete&&m.complete.call(m.context,s,c)}},n=m.global,n&&0===a.active++&&a.event.trigger(\"ajaxStart\"),n&&a.event.trigger(\"ajaxSend\",[s,m]),m.beforeSend&&m.beforeSend.call(m.context,s,m)===!1)return m.global&&a.active--,y.reject(),y;if(s.aborted)return y.reject(),y;t=x.clk,t&&(u=t.name,u&&!t.disabled&&(m.extraData=m.extraData||{},m.extraData[u]=t.value,\"image\"==t.type&&(m.extraData[u+\".x\"]=x.clk_x,m.extraData[u+\".y\"]=x.clk_y)));var z=1,A=2,B=a(\"meta[name=csrf-token]\").attr(\"content\"),C=a(\"meta[name=csrf-param]\").attr(\"content\");C&&B&&(m.extraData=m.extraData||{},m.extraData[C]=B),m.forceSync?g():setTimeout(g,10);var D,E,F,G=50,H=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject(\"Microsoft.XMLDOM\"),b.async=\"false\",b.loadXML(a)):b=(new DOMParser).parseFromString(a,\"text/xml\"),b&&b.documentElement&&\"parsererror\"!=b.documentElement.nodeName?b:null},I=a.parseJSON||function(a){return window.eval(\"(\"+a+\")\")},J=function(b,c,d){var e=b.getResponseHeader(\"content-type\")||\"\",f=\"xml\"===c||!c&&e.indexOf(\"xml\")>=0,g=f?b.responseXML:b.responseText;return f&&\"parsererror\"===g.documentElement.nodeName&&a.error&&a.error(\"parsererror\"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),\"string\"==typeof g&&(\"json\"===c||!c&&e.indexOf(\"json\")>=0?g=I(g):(\"script\"===c||!c&&e.indexOf(\"javascript\")>=0)&&a.globalEval(g)),g};return y}if(!this.length)return d(\"ajaxSubmit: skipping submit process - no element selected\"),this;var i,j,k,l=this;\"function\"==typeof b?b={success:b}:void 0===b&&(b={}),i=b.type||this.attr2(\"method\"),j=b.url||this.attr2(\"action\"),k=\"string\"==typeof j?a.trim(j):\"\",k=k||window.location.href||\"\",k&&(k=(k.match(/^([^#]+)/)||[])[1]),b=a.extend(!0,{url:k,success:a.ajaxSettings.success,type:i||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||\"\")?\"javascript:false\":\"about:blank\"},b);var m={};if(this.trigger(\"form-pre-serialize\",[this,b,m]),m.veto)return d(\"ajaxSubmit: submit vetoed via form-pre-serialize trigger\"),this;if(b.beforeSerialize&&b.beforeSerialize(this,b)===!1)return d(\"ajaxSubmit: submit aborted via beforeSerialize callback\"),this;var n=b.traditional;void 0===n&&(n=a.ajaxSettings.traditional);var o,p=[],q=this.formToArray(b.semantic,p);if(b.data&&(b.extraData=b.data,o=a.param(b.data,n)),b.beforeSubmit&&b.beforeSubmit(q,this,b)===!1)return d(\"ajaxSubmit: submit aborted via beforeSubmit callback\"),this;if(this.trigger(\"form-submit-validate\",[q,this,b,m]),m.veto)return d(\"ajaxSubmit: submit vetoed via form-submit-validate trigger\"),this;var r=a.param(q,n);o&&(r=r?r+\"&\"+o:o),\"GET\"==b.type.toUpperCase()?(b.url+=(b.url.indexOf(\"?\")>=0?\"&\":\"?\")+r,b.data=null):b.data=r;var s=[];if(b.resetForm&&s.push(function(){l.resetForm()}),b.clearForm&&s.push(function(){l.clearForm(b.includeHidden)}),!b.dataType&&b.target){var t=b.success||function(){};s.push(function(c){var d=b.replaceTarget?\"replaceWith\":\"html\";a(b.target)[d](c).each(t,arguments)})}else b.success&&s.push(b.success);if(b.success=function(a,c,d){for(var e=b.context||this,f=0,g=s.length;g>f;f++)s[f].apply(e,[a,c,d||l,l])},b.error){var u=b.error;b.error=function(a,c,d){var e=b.context||this;u.apply(e,[a,c,d,l])}}if(b.complete){var v=b.complete;b.complete=function(a,c){var d=b.context||this;v.apply(d,[a,c,l])}}var w=a(\"input[type=file]:enabled\",this).filter(function(){return\"\"!==a(this).val()}),x=w.length>0,y=\"multipart/form-data\",z=l.attr(\"enctype\")==y||l.attr(\"encoding\")==y,A=e.fileapi&&e.formdata;d(\"fileAPI :\"+A);var B,C=(x||z)&&!A;b.iframe!==!1&&(b.iframe||C)?b.closeKeepAlive?a.get(b.closeKeepAlive,function(){B=h(q)}):B=h(q):B=(x||z)&&A?g(q):a.ajax(b),l.removeData(\"jqxhr\").data(\"jqxhr\",B);for(var D=0;D<p.length;D++)p[D]=null;return this.trigger(\"form-submit-notify\",[this,b]),this},a.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&a.isFunction(a.fn.on),!e.delegation&&0===this.length){var f={s:this.selector,c:this.context};return!a.isReady&&f.s?(d(\"DOM not ready, queuing ajaxForm\"),a(function(){a(f.s,f.c).ajaxForm(e)}),this):(d(\"terminating; zero elements found by selector\"+(a.isReady?\"\":\" (DOM not ready)\")),this)}return e.delegation?(a(document).off(\"submit.form-plugin\",this.selector,b).off(\"click.form-plugin\",this.selector,c).on(\"submit.form-plugin\",this.selector,e,b).on(\"click.form-plugin\",this.selector,e,c),this):this.ajaxFormUnbind().bind(\"submit.form-plugin\",e,b).bind(\"click.form-plugin\",e,c)},a.fn.ajaxFormUnbind=function(){return this.unbind(\"submit.form-plugin click.form-plugin\")},a.fn.formToArray=function(b,c){var d=[];if(0===this.length)return d;var f,g=this[0],h=this.attr(\"id\"),i=b?g.getElementsByTagName(\"*\"):g.elements;if(i&&!/MSIE 8/.test(navigator.userAgent)&&(i=a(i).get()),h&&(f=a(\":input[form=\"+h+\"]\").get(),f.length&&(i=(i||[]).concat(f))),!i||!i.length)return d;var j,k,l,m,n,o,p;for(j=0,o=i.length;o>j;j++)if(n=i[j],l=n.name,l&&!n.disabled)if(b&&g.clk&&\"image\"==n.type)g.clk==n&&(d.push({name:l,value:a(n).val(),type:n.type}),d.push({name:l+\".x\",value:g.clk_x},{name:l+\".y\",value:g.clk_y}));else if(m=a.fieldValue(n,!0),m&&m.constructor==Array)for(c&&c.push(n),k=0,p=m.length;p>k;k++)d.push({name:l,value:m[k]});else if(e.fileapi&&\"file\"==n.type){c&&c.push(n);var q=n.files;if(q.length)for(k=0;k<q.length;k++)d.push({name:l,value:q[k],type:n.type});else d.push({name:l,value:\"\",type:n.type})}else null!==m&&\"undefined\"!=typeof m&&(c&&c.push(n),d.push({name:l,value:m,type:n.type,required:n.required}));if(!b&&g.clk){var r=a(g.clk),s=r[0];l=s.name,l&&!s.disabled&&\"image\"==s.type&&(d.push({name:l,value:r.val()}),d.push({name:l+\".x\",value:g.clk_x},{name:l+\".y\",value:g.clk_y}))}return d},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;g>f;f++)c.push({name:d,value:e[f]});else null!==e&&\"undefined\"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;e>d;d++){var f=this[d],g=a.fieldValue(f,b);null===g||\"undefined\"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||\"reset\"==e||\"button\"==e||(\"checkbox\"==e||\"radio\"==e)&&!b.checked||(\"submit\"==e||\"image\"==e)&&b.form&&b.form.clk!=b||\"select\"==f&&-1==b.selectedIndex))return null;if(\"select\"==f){var g=b.selectedIndex;if(0>g)return null;for(var h=[],i=b.options,j=\"select-one\"==e,k=j?g+1:i.length,l=j?g:0;k>l;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(b){return this.each(function(){a(\"input,select,textarea\",this).clearFields(b)})},a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var d=this.type,e=this.tagName.toLowerCase();c.test(d)||\"textarea\"==e?this.value=\"\":\"checkbox\"==d||\"radio\"==d?this.checked=!1:\"select\"==e?this.selectedIndex=-1:\"file\"==d?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(\"\"):b&&(b===!0&&/hidden/.test(d)||\"string\"==typeof b&&a(this).is(b))&&(this.value=\"\")})},a.fn.resetForm=function(){return this.each(function(){(\"function\"==typeof this.reset||\"object\"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if(\"checkbox\"==c||\"radio\"==c)this.checked=b;else if(\"option\"==this.tagName.toLowerCase()){var d=a(this).parent(\"select\");b&&d[0]&&\"select-one\"==d[0].type&&d.find(\"option\").selected(!1),this.selected=b}})},a.fn.ajaxSubmit.debug=!1});","!function(e){\"use strict\";var i=-1,t={onVisible:function(e){var i=t.isSupported();if(!i||!t.hidden())return e(),i;var n=t.change(function(){t.hidden()||(t.unbind(n),e())});return n},change:function(e){if(!t.isSupported())return!1;i+=1;var n=i;return t._callbacks[n]=e,t._listen(),n},unbind:function(e){delete t._callbacks[e]},afterPrerendering:function(e){var i=t.isSupported(),n=\"prerender\";if(!i||n!=t.state())return e(),i;var r=t.change(function(i,d){n!=d&&(t.unbind(r),e())});return r},hidden:function(){return!(!t._doc.hidden&&!t._doc.webkitHidden)},state:function(){return t._doc.visibilityState||t._doc.webkitVisibilityState||\"visible\"},isSupported:function(){return!(!t._doc.visibilityState&&!t._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var i=t.state();for(var n in t._callbacks)t._callbacks[n].call(t._doc,e,i)},_listen:function(){if(!t._init){var e=\"visibilitychange\";t._doc.webkitVisibilityState&&(e=\"webkit\"+e);var i=function(){t._change.apply(t,arguments)};t._doc.addEventListener?t._doc.addEventListener(e,i):t._doc.attachEvent(e,i),t._init=!0}}};\"undefined\"!=typeof module&&module.exports?module.exports=t:e.Visibility=t}(this),function(e){\"use strict\";var i=-1,t=function(t){return t.every=function(e,n,r){t._time(),r||(r=n,n=null),i+=1;var d=i;return t._timers[d]={visible:e,hidden:n,callback:r},t._run(d,!1),t.isSupported()&&t._listen(),d},t.stop=function(e){return t._timers[e]?(t._stop(e),delete t._timers[e],!0):!1},t._timers={},t._time=function(){t._timed||(t._timed=!0,t._wasHidden=t.hidden(),t.change(function(){t._stopRun(),t._wasHidden=t.hidden()}))},t._run=function(i,n){var r,d=t._timers[i];if(t.hidden()){if(null===d.hidden)return;r=d.hidden}else r=d.visible;var a=function(){d.last=new Date,d.callback.call(e)};if(n){var o=new Date,u=o-d.last;r>u?d.delay=setTimeout(function(){a(),d.id=setInterval(a,r)},r-u):(a(),d.id=setInterval(a,r))}else d.id=setInterval(a,r)},t._stop=function(e){var i=t._timers[e];clearInterval(i.id),clearTimeout(i.delay),delete i.id,delete i.delay},t._stopRun=function(){var e=t.hidden(),i=t._wasHidden;if(e&&!i||!e&&i)for(var n in t._timers)t._stop(n),t._run(n,!e)},t};\"undefined\"!=typeof module&&module.exports?module.exports=t(require(\"./visibility.core\")):t(e.Visibility)}(window);","/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under the MIT license\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n\n+function ($) {\n  'use strict';\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1) || (version[0] > 3)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.7\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.3.7\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.7'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector === '#' ? [] : selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.3.7\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.7'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state += 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d).prop(d, true)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d).prop(d, false)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked')) changed = false\n        $parent.find('.active').removeClass('active')\n        this.$element.addClass('active')\n      } else if ($input.prop('type') == 'checkbox') {\n        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false\n        this.$element.toggleClass('active')\n      }\n      $input.prop('checked', this.$element.hasClass('active'))\n      if (changed) $input.trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n      this.$element.toggleClass('active')\n    }\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target).closest('.btn')\n      Plugin.call($btn, 'toggle')\n      if (!($(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]'))) {\n        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes\n        e.preventDefault()\n        // The target component still receive the focus\n        if ($btn.is('input,button')) $btn.trigger('focus')\n        else $btn.find('input:visible,button:visible').first().trigger('focus')\n      }\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.3.7\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.7'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.7\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n/* jshint latedef: false */\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.7'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.3.7\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.7'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.3.7\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.7'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element.addClass('in')\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (document !== e.target &&\n            this.$element[0] !== e.target &&\n            !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $(document.createElement('div'))\n        .addClass('modal-backdrop ' + animate)\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.7\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n    this.inState    = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.7'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\n    this.inState   = { click: false, hover: false, focus: false }\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\n    }\n\n    if (self.tip().hasClass('in') || self.hoverState == 'in') {\n      self.hoverState = 'in'\n      return\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.isInStateTrue = function () {\n    for (var key in this.inState) {\n      if (this.inState[key]) return true\n    }\n\n    return false\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\n    }\n\n    if (self.isInStateTrue()) return\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n      this.$element.trigger('inserted.bs.' + this.type)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var viewportDim = this.getPosition(this.$viewport)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  += marginTop\n    offset.left += marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\n        that.$element\n          .removeAttr('aria-describedby')\n          .trigger('hidden.bs.' + that.type)\n      }\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var isSvg = window.SVGElement && el instanceof window.SVGElement\n    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n    // See https://github.com/twbs/bootstrap/issues/20280\n    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    if (!this.$tip) {\n      this.$tip = $(this.options.template)\n      if (this.$tip.length != 1) {\n        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\n      }\n    }\n    return this.$tip\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    if (e) {\n      self.inState.click = !self.inState.click\n      if (self.isInStateTrue()) self.enter(self)\n      else self.leave(self)\n    } else {\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n    }\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n      if (that.$tip) {\n        that.$tip.detach()\n      }\n      that.$tip = null\n      that.$arrow = null\n      that.$viewport = null\n      that.$element = null\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.3.7\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.7'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.7\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.7'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.3.7\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    // jscs:disable requireDollarBeforejQueryAssignment\n    this.element = $(element)\n    // jscs:enable requireDollarBeforejQueryAssignment\n  }\n\n  Tab.VERSION = '3.3.7'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.3.7\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.7'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = Math.max($(document).height(), $(document.body).height())\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n","/*\r\n * bootstrap-tagsinput v0.8.0\r\n *\r\n */\r\n\r\n!function(a){\"use strict\";function b(b,c){this.isInit=!0,this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect=\"SELECT\"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute(\"multiple\"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute(\"placeholder\")?this.$element.attr(\"placeholder\"):\"\",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class=\"bootstrap-tagsinput\"></div>'),this.$input=a('<input type=\"text\" placeholder=\"'+this.placeholderText+'\"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(c),this.isInit=!1}function c(a,b){if(\"function\"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if(\"function\"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():\"\"}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart(\"character\",-a.value.length),b=c.text.length}else(a.selectionStart||\"0\"==a.selectionStart)&&(b=a.selectionStart);return b}function g(b,c){var d=!1;return a.each(c,function(a,c){if(\"number\"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty(\"altKey\")||b.altKey===c.altKey,f=!c.hasOwnProperty(\"shiftKey\")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty(\"ctrlKey\")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var h={tagClass:function(a){return\"label label-info\"},focusClass:\"focus\",itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(a){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:\",\",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};b.prototype={constructor:b,add:function(b,c,d){var f=this;if(!(f.options.maxTags&&f.itemsArray.length>=f.options.maxTags)&&(b===!1||b)){if(\"string\"==typeof b&&f.options.trimValue&&(b=a.trim(b)),\"object\"==typeof b&&!f.objectItems)throw\"Can't add objects when itemValue option is not set\";if(!b.toString().match(/^\\s*$/)){if(f.isSelect&&!f.multiple&&f.itemsArray.length>0&&f.remove(f.itemsArray[0]),\"string\"==typeof b&&\"INPUT\"===this.$element[0].tagName){var g=f.options.delimiterRegex?f.options.delimiterRegex:f.options.delimiter,h=b.split(g);if(h.length>1){for(var i=0;i<h.length;i++)this.add(h[i],!0);return void(c||f.pushVal(f.options.triggerChange))}}var j=f.options.itemValue(b),k=f.options.itemText(b),l=f.options.tagClass(b),m=f.options.itemTitle(b),n=a.grep(f.itemsArray,function(a){return f.options.itemValue(a)===j})[0];if(!n||f.options.allowDuplicates){if(!(f.items().toString().length+b.length+1>f.options.maxInputLength)){var o=a.Event(\"beforeItemAdd\",{item:b,cancel:!1,options:d});if(f.$element.trigger(o),!o.cancel){f.itemsArray.push(b);var p=a('<span class=\"tag '+e(l)+(null!==m?'\" title=\"'+m:\"\")+'\">'+e(k)+'<span data-role=\"remove\"></span></span>');p.data(\"item\",b),f.findInputWrapper().before(p),p.after(\" \");var q=a('option[value=\"'+encodeURIComponent(j)+'\"]',f.$element).length||a('option[value=\"'+e(j)+'\"]',f.$element).length;if(f.isSelect&&!q){var r=a(\"<option selected>\"+e(k)+\"</option>\");r.data(\"item\",b),r.attr(\"value\",j),f.$element.append(r)}c||f.pushVal(f.options.triggerChange),(f.options.maxTags===f.itemsArray.length||f.items().toString().length===f.options.maxInputLength)&&f.$container.addClass(\"bootstrap-tagsinput-max\"),a(\".typeahead, .twitter-typeahead\",f.$container).length&&f.$input.typeahead(\"val\",\"\"),this.isInit?f.$element.trigger(a.Event(\"itemAddedOnInit\",{item:b,options:d})):f.$element.trigger(a.Event(\"itemAdded\",{item:b,options:d}))}}}else if(f.options.onTagExists){var s=a(\".tag\",f.$container).filter(function(){return a(this).data(\"item\")===n});f.options.onTagExists(b,s)}}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b=\"object\"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event(\"beforeItemRemove\",{item:b,cancel:!1,options:d});if(e.$element.trigger(f),f.cancel)return;a(\".tag\",e.$container).filter(function(){return a(this).data(\"item\")===b}).remove(),a(\"option\",e.$element).filter(function(){return a(this).data(\"item\")===b}).remove(),-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal(e.options.triggerChange),e.options.maxTags>e.itemsArray.length&&e.$container.removeClass(\"bootstrap-tagsinput-max\"),e.$element.trigger(a.Event(\"itemRemoved\",{item:b,options:d}))},removeAll:function(){var b=this;for(a(\".tag\",b.$container).remove(),a(\"option\",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal(b.options.triggerChange)},refresh:function(){var b=this;a(\".tag\",b.$container).each(function(){var c=a(this),d=c.data(\"item\"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr(\"class\",null),c.addClass(\"tag \"+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a(\"option\",b.$element).filter(function(){return a(this).data(\"item\")===d});i.attr(\"value\",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0),b.options.triggerChange&&b.$element.trigger(\"change\")},build:function(b){var e=this;if(e.options=a.extend({},h,b),e.objectItems&&(e.options.freeInput=!1),c(e.options,\"itemValue\"),c(e.options,\"itemText\"),d(e.options,\"tagClass\"),e.options.typeahead){var i=e.options.typeahead||{};d(i,\"source\"),e.$input.typeahead(a.extend({},i,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=i.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){return e.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp(\"(\"+this.query+\")\",\"gi\");return a.replace(b,\"<strong>$1</strong>\")}}))}if(e.options.typeaheadjs){var j=null,k={},l=e.options.typeaheadjs;a.isArray(l)?(j=l[0],k=l[1]):k=l,e.$input.typeahead(j,k).on(\"typeahead:selected\",a.proxy(function(a,b){k.valueKey?e.add(b[k.valueKey]):e.add(b),e.$input.typeahead(\"val\",\"\")},e))}e.$container.on(\"click\",a.proxy(function(a){e.$element.attr(\"disabled\")||e.$input.removeAttr(\"disabled\"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on(\"focusout\",a.proxy(function(b){0===a(\".typeahead, .twitter-typeahead\",e.$container).length&&(e.add(e.$input.val()),e.$input.val(\"\"))},e)),e.$container.on({focusin:function(){e.$container.addClass(e.options.focusClass)},focusout:function(){e.$container.removeClass(e.options.focusClass)}}),e.$container.on(\"keydown\",\"input\",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr(\"disabled\"))return void e.$input.attr(\"disabled\",\"disabled\");switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g.length&&e.remove(g.data(\"item\"))}break;case 46:if(0===f(c[0])){var h=d.next();h.length&&e.remove(h.data(\"item\"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr(\"size\",Math.max(this.inputSize,c.val().length))},e)),e.$container.on(\"keypress\",\"input\",a.proxy(function(b){var c=a(b.target);if(e.$element.attr(\"disabled\"))return void e.$input.attr(\"disabled\",\"disabled\");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(g(b,e.options.confirmKeys)||f)&&(0!==d.length&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val(\"\")),e.options.cancelConfirmKeysOnEmpty===!1&&b.preventDefault());var h=c.val().length;Math.ceil(h/5);c.attr(\"size\",Math.max(this.inputSize,c.val().length))},e)),e.$container.on(\"click\",\"[data-role=remove]\",a.proxy(function(b){e.$element.attr(\"disabled\")||e.remove(a(b.target).closest(\".tag\").data(\"item\"))},e)),e.options.itemValue===h.itemValue&&(\"INPUT\"===e.$element[0].tagName?e.add(e.$element.val()):a(\"option\",e.$element).each(function(){e.add(a(this).attr(\"value\"),!0)}))},destroy:function(){var a=this;a.$container.off(\"keypress\",\"input\"),a.$container.off(\"click\",\"[role=remove]\"),a.$container.remove(),a.$element.removeData(\"tagsinput\"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d,e){var f=[];return this.each(function(){var g=a(this).data(\"tagsinput\");if(g)if(c||d){if(void 0!==g[c]){if(3===g[c].length&&void 0!==e)var h=g[c](d,null,e);else var h=g[c](d);void 0!==h&&f.push(h)}}else f.push(g);else g=new b(this,c),a(this).data(\"tagsinput\",g),f.push(g),\"SELECT\"===this.tagName&&a(\"option\",a(this)).attr(\"selected\",\"selected\"),a(this).val(a(this).val())}),\"string\"==typeof c?f.length>1?f:f[0]:f},a.fn.tagsinput.Constructor=b;var i=a(\"<div />\");a(function(){a(\"input[data-role=tagsinput], select[multiple][data-role=tagsinput]\").tagsinput()})}(window.jQuery);\r\n","(function (factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['jquery'], factory);\r\n  } else if (typeof module === \"object\" && module.exports) {\r\n    var $ = require('jquery');\r\n    module.exports = factory($);\r\n  } else {\r\n    // Browser globals\r\n    factory(jQuery);\r\n  }\r\n}(function (jQuery) {\r\n\r\n/*!\r\n * jQuery.textcomplete\r\n *\r\n * Repository: https://github.com/yuku-t/jquery-textcomplete\r\n * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)\r\n * Author:     Yuku Takahashi\r\n * Version:    1.7.3\r\n */\r\n\r\nif (typeof jQuery === 'undefined') {\r\n  throw new Error('jQuery.textcomplete requires jQuery');\r\n}\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  var warn = function (message) {\r\n    if (console.warn) { console.warn(message); }\r\n  };\r\n\r\n  var id = 1;\r\n\r\n  $.fn.textcomplete = function (strategies, option) {\r\n    var args = Array.prototype.slice.call(arguments);\r\n    return this.each(function () {\r\n      var self = this;\r\n      var $this = $(this);\r\n      var completer = $this.data('textComplete');\r\n      if (!completer) {\r\n        option || (option = {});\r\n        option._oid = id++;  // unique object id\r\n        completer = new $.fn.textcomplete.Completer(this, option);\r\n        $this.data('textComplete', completer);\r\n      }\r\n      if (typeof strategies === 'string') {\r\n        if (!completer) return;\r\n        args.shift()\r\n        completer[strategies].apply(completer, args);\r\n        if (strategies === 'destroy') {\r\n          $this.removeData('textComplete');\r\n        }\r\n      } else {\r\n        // For backward compatibility.\r\n        // TODO: Remove at v0.4\r\n        $.each(strategies, function (obj) {\r\n          $.each(['header', 'footer', 'placement', 'maxCount'], function (name) {\r\n            if (obj[name]) {\r\n              completer.option[name] = obj[name];\r\n              warn(name + 'as a strategy param is deprecated. Use option.');\r\n              delete obj[name];\r\n            }\r\n          });\r\n        });\r\n        completer.register($.fn.textcomplete.Strategy.parse(strategies, {\r\n          el: self,\r\n          $el: $this\r\n        }));\r\n      }\r\n    });\r\n  };\r\n\r\n}(jQuery);\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // Exclusive execution control utility.\r\n  //\r\n  // func - The function to be locked. It is executed with a function named\r\n  //        `free` as the first argument. Once it is called, additional\r\n  //        execution are ignored until the free is invoked. Then the last\r\n  //        ignored execution will be replayed immediately.\r\n  //\r\n  // Examples\r\n  //\r\n  //   var lockedFunc = lock(function (free) {\r\n  //     setTimeout(function { free(); }, 1000); // It will be free in 1 sec.\r\n  //     console.log('Hello, world');\r\n  //   });\r\n  //   lockedFunc();  // => 'Hello, world'\r\n  //   lockedFunc();  // none\r\n  //   lockedFunc();  // none\r\n  //   // 1 sec past then\r\n  //   // => 'Hello, world'\r\n  //   lockedFunc();  // => 'Hello, world'\r\n  //   lockedFunc();  // none\r\n  //\r\n  // Returns a wrapped function.\r\n  var lock = function (func) {\r\n    var locked, queuedArgsToReplay;\r\n\r\n    return function () {\r\n      // Convert arguments into a real array.\r\n      var args = Array.prototype.slice.call(arguments);\r\n      if (locked) {\r\n        // Keep a copy of this argument list to replay later.\r\n        // OK to overwrite a previous value because we only replay\r\n        // the last one.\r\n        queuedArgsToReplay = args;\r\n        return;\r\n      }\r\n      locked = true;\r\n      var self = this;\r\n      args.unshift(function replayOrFree() {\r\n        if (queuedArgsToReplay) {\r\n          // Other request(s) arrived while we were locked.\r\n          // Now that the lock is becoming available, replay\r\n          // the latest such request, then call back here to\r\n          // unlock (or replay another request that arrived\r\n          // while this one was in flight).\r\n          var replayArgs = queuedArgsToReplay;\r\n          queuedArgsToReplay = undefined;\r\n          replayArgs.unshift(replayOrFree);\r\n          func.apply(self, replayArgs);\r\n        } else {\r\n          locked = false;\r\n        }\r\n      });\r\n      func.apply(this, args);\r\n    };\r\n  };\r\n\r\n  var isString = function (obj) {\r\n    return Object.prototype.toString.call(obj) === '[object String]';\r\n  };\r\n\r\n  var uniqueId = 0;\r\n\r\n  function Completer(element, option) {\r\n    this.$el        = $(element);\r\n    this.id         = 'textcomplete' + uniqueId++;\r\n    this.strategies = [];\r\n    this.views      = [];\r\n    this.option     = $.extend({}, Completer.defaults, option);\r\n\r\n    if (!this.$el.is('input[type=text]') && !this.$el.is('input[type=search]') && !this.$el.is('textarea') && !element.isContentEditable && element.contentEditable != 'true') {\r\n      throw new Error('textcomplete must be called on a Textarea or a ContentEditable.');\r\n    }\r\n\r\n    // use ownerDocument to fix iframe / IE issues\r\n    if (element === element.ownerDocument.activeElement) {\r\n      // element has already been focused. Initialize view objects immediately.\r\n      this.initialize()\r\n    } else {\r\n      // Initialize view objects lazily.\r\n      var self = this;\r\n      this.$el.one('focus.' + this.id, function () { self.initialize(); });\r\n\r\n      // Special handling for CKEditor: lazy init on instance load\r\n      if ((!this.option.adapter || this.option.adapter == 'CKEditor') && typeof CKEDITOR != 'undefined' && (this.$el.is('textarea'))) {\r\n        CKEDITOR.on(\"instanceReady\", function(event) {\r\n          event.editor.once(\"focus\", function(event2) {\r\n            // replace the element with the Iframe element and flag it as CKEditor\r\n            self.$el = $(event.editor.editable().$);\r\n            if (!self.option.adapter) {\r\n              self.option.adapter = $.fn.textcomplete['CKEditor'];\r\n              self.option.ckeditor_instance = event.editor;\r\n            }\r\n            self.initialize();\r\n          });\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  Completer.defaults = {\r\n    appendTo: 'body',\r\n    className: '',  // deprecated option\r\n    dropdownClassName: 'dropdown-menu textcomplete-dropdown',\r\n    maxCount: 10,\r\n    zIndex: '100',\r\n    rightEdgeOffset: 30\r\n  };\r\n\r\n  $.extend(Completer.prototype, {\r\n    // Public properties\r\n    // -----------------\r\n\r\n    id:         null,\r\n    option:     null,\r\n    strategies: null,\r\n    adapter:    null,\r\n    dropdown:   null,\r\n    $el:        null,\r\n    $iframe:    null,\r\n\r\n    // Public methods\r\n    // --------------\r\n\r\n    initialize: function () {\r\n      var element = this.$el.get(0);\r\n      \r\n      // check if we are in an iframe\r\n      // we need to alter positioning logic if using an iframe\r\n      if (this.$el.prop('ownerDocument') !== document && window.frames.length) {\r\n        for (var iframeIndex = 0; iframeIndex < window.frames.length; iframeIndex++) {\r\n          if (this.$el.prop('ownerDocument') === window.frames[iframeIndex].document) {\r\n            this.$iframe = $(window.frames[iframeIndex].frameElement);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      \r\n      \r\n      // Initialize view objects.\r\n      this.dropdown = new $.fn.textcomplete.Dropdown(element, this, this.option);\r\n      var Adapter, viewName;\r\n      if (this.option.adapter) {\r\n        Adapter = this.option.adapter;\r\n      } else {\r\n        if (this.$el.is('textarea') || this.$el.is('input[type=text]') || this.$el.is('input[type=search]')) {\r\n          viewName = typeof element.selectionEnd === 'number' ? 'Textarea' : 'IETextarea';\r\n        } else {\r\n          viewName = 'ContentEditable';\r\n        }\r\n        Adapter = $.fn.textcomplete[viewName];\r\n      }\r\n      this.adapter = new Adapter(element, this, this.option);\r\n    },\r\n\r\n    destroy: function () {\r\n      this.$el.off('.' + this.id);\r\n      if (this.adapter) {\r\n        this.adapter.destroy();\r\n      }\r\n      if (this.dropdown) {\r\n        this.dropdown.destroy();\r\n      }\r\n      this.$el = this.adapter = this.dropdown = null;\r\n    },\r\n\r\n    deactivate: function () {\r\n      if (this.dropdown) {\r\n        this.dropdown.deactivate();\r\n      }\r\n    },\r\n\r\n    // Invoke textcomplete.\r\n    trigger: function (text, skipUnchangedTerm) {\r\n      if (!this.dropdown) { this.initialize(); }\r\n      text != null || (text = this.adapter.getTextFromHeadToCaret());\r\n      var searchQuery = this._extractSearchQuery(text);\r\n      if (searchQuery.length) {\r\n        var term = searchQuery[1];\r\n        // Ignore shift-key, ctrl-key and so on.\r\n        if (skipUnchangedTerm && this._term === term && term !== \"\") { return; }\r\n        this._term = term;\r\n        this._search.apply(this, searchQuery);\r\n      } else {\r\n        this._term = null;\r\n        this.dropdown.deactivate();\r\n      }\r\n    },\r\n\r\n    fire: function (eventName) {\r\n      var args = Array.prototype.slice.call(arguments, 1);\r\n      this.$el.trigger(eventName, args);\r\n      return this;\r\n    },\r\n\r\n    register: function (strategies) {\r\n      Array.prototype.push.apply(this.strategies, strategies);\r\n    },\r\n\r\n    // Insert the value into adapter view. It is called when the dropdown is clicked\r\n    // or selected.\r\n    //\r\n    // value    - The selected element of the array callbacked from search func.\r\n    // strategy - The Strategy object.\r\n    // e        - Click or keydown event object.\r\n    select: function (value, strategy, e) {\r\n      this._term = null;\r\n      this.adapter.select(value, strategy, e);\r\n      this.fire('change').fire('textComplete:select', value, strategy);\r\n      this.adapter.focus();\r\n    },\r\n\r\n    // Private properties\r\n    // ------------------\r\n\r\n    _clearAtNext: true,\r\n    _term:        null,\r\n\r\n    // Private methods\r\n    // ---------------\r\n\r\n    // Parse the given text and extract the first matching strategy.\r\n    //\r\n    // Returns an array including the strategy, the query term and the match\r\n    // object if the text matches an strategy; otherwise returns an empty array.\r\n    _extractSearchQuery: function (text) {\r\n      for (var i = 0; i < this.strategies.length; i++) {\r\n        var strategy = this.strategies[i];\r\n        var context = strategy.context(text);\r\n        if (context || context === '') {\r\n          var matchRegexp = $.isFunction(strategy.match) ? strategy.match(text) : strategy.match;\r\n          if (isString(context)) { text = context; }\r\n          var match = text.match(matchRegexp);\r\n          if (match) { return [strategy, match[strategy.index], match]; }\r\n        }\r\n      }\r\n      return []\r\n    },\r\n\r\n    // Call the search method of selected strategy..\r\n    _search: lock(function (free, strategy, term, match) {\r\n      var self = this;\r\n      strategy.search(term, function (data, stillSearching) {\r\n        if (!self.dropdown.shown) {\r\n          self.dropdown.activate();\r\n        }\r\n        if (self._clearAtNext) {\r\n          // The first callback in the current lock.\r\n          self.dropdown.clear();\r\n          self._clearAtNext = false;\r\n        }\r\n        self.dropdown.setPosition(self.adapter.getCaretPosition());\r\n        self.dropdown.render(self._zip(data, strategy, term));\r\n        if (!stillSearching) {\r\n          // The last callback in the current lock.\r\n          free();\r\n          self._clearAtNext = true; // Call dropdown.clear at the next time.\r\n        }\r\n      }, match);\r\n    }),\r\n\r\n    // Build a parameter for Dropdown#render.\r\n    //\r\n    // Examples\r\n    //\r\n    //  this._zip(['a', 'b'], 's');\r\n    //  //=> [{ value: 'a', strategy: 's' }, { value: 'b', strategy: 's' }]\r\n    _zip: function (data, strategy, term) {\r\n      return $.map(data, function (value) {\r\n        return { value: value, strategy: strategy, term: term };\r\n      });\r\n    }\r\n  });\r\n\r\n  $.fn.textcomplete.Completer = Completer;\r\n}(jQuery);\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  var $window = $(window);\r\n\r\n  var include = function (zippedData, datum) {\r\n    var i, elem;\r\n    var idProperty = datum.strategy.idProperty\r\n    for (i = 0; i < zippedData.length; i++) {\r\n      elem = zippedData[i];\r\n      if (elem.strategy !== datum.strategy) continue;\r\n      if (idProperty) {\r\n        if (elem.value[idProperty] === datum.value[idProperty]) return true;\r\n      } else {\r\n        if (elem.value === datum.value) return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  var dropdownViews = {};\r\n  $(document).on('click', function (e) {\r\n    var id = e.originalEvent && e.originalEvent.keepTextCompleteDropdown;\r\n    $.each(dropdownViews, function (key, view) {\r\n      if (key !== id) { view.deactivate(); }\r\n    });\r\n  });\r\n\r\n  var commands = {\r\n    SKIP_DEFAULT: 0,\r\n    KEY_UP: 1,\r\n    KEY_DOWN: 2,\r\n    KEY_ENTER: 3,\r\n    KEY_PAGEUP: 4,\r\n    KEY_PAGEDOWN: 5,\r\n    KEY_ESCAPE: 6\r\n  };\r\n\r\n  // Dropdown view\r\n  // =============\r\n\r\n  // Construct Dropdown object.\r\n  //\r\n  // element - Textarea or contenteditable element.\r\n  function Dropdown(element, completer, option) {\r\n    this.$el       = Dropdown.createElement(option);\r\n    this.completer = completer;\r\n    this.id        = completer.id + 'dropdown';\r\n    this._data     = []; // zipped data.\r\n    this.$inputEl  = $(element);\r\n    this.option    = option;\r\n\r\n    // Override setPosition method.\r\n    if (option.listPosition) { this.setPosition = option.listPosition; }\r\n    if (option.height) { this.$el.height(option.height); }\r\n    var self = this;\r\n    $.each(['maxCount', 'placement', 'footer', 'header', 'noResultsMessage', 'className'], function (_i, name) {\r\n      if (option[name] != null) { self[name] = option[name]; }\r\n    });\r\n    this._bindEvents(element);\r\n    dropdownViews[this.id] = this;\r\n  }\r\n\r\n  $.extend(Dropdown, {\r\n    // Class methods\r\n    // -------------\r\n\r\n    createElement: function (option) {\r\n      var $parent = option.appendTo;\r\n      if (!($parent instanceof $)) { $parent = $($parent); }\r\n      var $el = $('<ul></ul>')\r\n        .addClass(option.dropdownClassName)\r\n        .attr('id', 'textcomplete-dropdown-' + option._oid)\r\n        .css({\r\n          display: 'none',\r\n          left: 0,\r\n          position: 'absolute',\r\n          zIndex: option.zIndex\r\n        })\r\n        .appendTo($parent);\r\n      return $el;\r\n    }\r\n  });\r\n\r\n  $.extend(Dropdown.prototype, {\r\n    // Public properties\r\n    // -----------------\r\n\r\n    $el:       null,  // jQuery object of ul.dropdown-menu element.\r\n    $inputEl:  null,  // jQuery object of target textarea.\r\n    completer: null,\r\n    footer:    null,\r\n    header:    null,\r\n    id:        null,\r\n    maxCount:  null,\r\n    placement: '',\r\n    shown:     false,\r\n    data:      [],     // Shown zipped data.\r\n    className: '',\r\n\r\n    // Public methods\r\n    // --------------\r\n\r\n    destroy: function () {\r\n      // Don't remove $el because it may be shared by several textcompletes.\r\n      this.deactivate();\r\n\r\n      this.$el.off('.' + this.id);\r\n      this.$inputEl.off('.' + this.id);\r\n      this.clear();\r\n      this.$el.remove();\r\n      this.$el = this.$inputEl = this.completer = null;\r\n      delete dropdownViews[this.id]\r\n    },\r\n\r\n    render: function (zippedData) {\r\n      var contentsHtml = this._buildContents(zippedData);\r\n      var unzippedData = $.map(zippedData, function (d) { return d.value; });\r\n      if (zippedData.length) {\r\n        var strategy = zippedData[0].strategy;\r\n        if (strategy.id) {\r\n          this.$el.attr('data-strategy', strategy.id);\r\n        } else {\r\n          this.$el.removeAttr('data-strategy');\r\n        }\r\n        this._renderHeader(unzippedData);\r\n        this._renderFooter(unzippedData);\r\n        if (contentsHtml) {\r\n          this._renderContents(contentsHtml);\r\n          this._fitToBottom();\r\n          this._fitToRight();\r\n          this._activateIndexedItem();\r\n        }\r\n        this._setScroll();\r\n      } else if (this.noResultsMessage) {\r\n        this._renderNoResultsMessage(unzippedData);\r\n      } else if (this.shown) {\r\n        this.deactivate();\r\n      }\r\n    },\r\n\r\n    setPosition: function (pos) {\r\n      // Make the dropdown fixed if the input is also fixed\r\n      // This can't be done during init, as textcomplete may be used on multiple elements on the same page\r\n      // Because the same dropdown is reused behind the scenes, we need to recheck every time the dropdown is showed\r\n      var position = 'absolute';\r\n      // Check if input or one of its parents has positioning we need to care about\r\n      this.$inputEl.add(this.$inputEl.parents()).each(function() {\r\n        if($(this).css('position') === 'absolute') // The element has absolute positioning, so it's all OK\r\n          return false;\r\n        if($(this).css('position') === 'fixed') {\r\n          pos.top -= $window.scrollTop();\r\n          pos.left -= $window.scrollLeft();\r\n          position = 'fixed';\r\n          return false;\r\n        }\r\n      });\r\n      this.$el.css(this._applyPlacement(pos));\r\n      this.$el.css({ position: position }); // Update positioning\r\n\r\n      return this;\r\n    },\r\n\r\n    clear: function () {\r\n      this.$el.html('');\r\n      this.data = [];\r\n      this._index = 0;\r\n      this._$header = this._$footer = this._$noResultsMessage = null;\r\n    },\r\n\r\n    activate: function () {\r\n      if (!this.shown) {\r\n        this.clear();\r\n        this.$el.show();\r\n        if (this.className) { this.$el.addClass(this.className); }\r\n        this.completer.fire('textComplete:show');\r\n        this.shown = true;\r\n      }\r\n      return this;\r\n    },\r\n\r\n    deactivate: function () {\r\n      if (this.shown) {\r\n        this.$el.hide();\r\n        if (this.className) { this.$el.removeClass(this.className); }\r\n        this.completer.fire('textComplete:hide');\r\n        this.shown = false;\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isUp: function (e) {\r\n      return e.keyCode === 38 || (e.ctrlKey && e.keyCode === 80);  // UP, Ctrl-P\r\n    },\r\n\r\n    isDown: function (e) {\r\n      return e.keyCode === 40 || (e.ctrlKey && e.keyCode === 78);  // DOWN, Ctrl-N\r\n    },\r\n\r\n    isEnter: function (e) {\r\n      var modifiers = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\r\n      return !modifiers && (e.keyCode === 13 || e.keyCode === 9 || (this.option.completeOnSpace === true && e.keyCode === 32))  // ENTER, TAB\r\n    },\r\n\r\n    isPageup: function (e) {\r\n      return e.keyCode === 33;  // PAGEUP\r\n    },\r\n\r\n    isPagedown: function (e) {\r\n      return e.keyCode === 34;  // PAGEDOWN\r\n    },\r\n\r\n    isEscape: function (e) {\r\n      return e.keyCode === 27;  // ESCAPE\r\n    },\r\n\r\n    // Private properties\r\n    // ------------------\r\n\r\n    _data:    null,  // Currently shown zipped data.\r\n    _index:   null,\r\n    _$header: null,\r\n    _$noResultsMessage: null,\r\n    _$footer: null,\r\n\r\n    // Private methods\r\n    // ---------------\r\n\r\n    _bindEvents: function () {\r\n      this.$el.on('mousedown.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\r\n      this.$el.on('touchstart.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\r\n      this.$el.on('mouseover.' + this.id, '.textcomplete-item', $.proxy(this._onMouseover, this));\r\n      this.$inputEl.on('keydown.' + this.id, $.proxy(this._onKeydown, this));\r\n    },\r\n\r\n    _onClick: function (e) {\r\n      var $el = $(e.target);\r\n      e.preventDefault();\r\n      e.originalEvent.keepTextCompleteDropdown = this.id;\r\n      if (!$el.hasClass('textcomplete-item')) {\r\n        $el = $el.closest('.textcomplete-item');\r\n      }\r\n      var datum = this.data[parseInt($el.data('index'), 10)];\r\n      this.completer.select(datum.value, datum.strategy, e);\r\n      var self = this;\r\n      // Deactive at next tick to allow other event handlers to know whether\r\n      // the dropdown has been shown or not.\r\n      setTimeout(function () {\r\n        self.deactivate();\r\n        if (e.type === 'touchstart') {\r\n          self.$inputEl.focus();\r\n        }\r\n      }, 0);\r\n    },\r\n\r\n    // Activate hovered item.\r\n    _onMouseover: function (e) {\r\n      var $el = $(e.target);\r\n      e.preventDefault();\r\n      if (!$el.hasClass('textcomplete-item')) {\r\n        $el = $el.closest('.textcomplete-item');\r\n      }\r\n      this._index = parseInt($el.data('index'), 10);\r\n      this._activateIndexedItem();\r\n    },\r\n\r\n    _onKeydown: function (e) {\r\n      if (!this.shown) { return; }\r\n\r\n      var command;\r\n\r\n      if ($.isFunction(this.option.onKeydown)) {\r\n        command = this.option.onKeydown(e, commands);\r\n      }\r\n\r\n      if (command == null) {\r\n        command = this._defaultKeydown(e);\r\n      }\r\n\r\n      switch (command) {\r\n        case commands.KEY_UP:\r\n          e.preventDefault();\r\n          this._up();\r\n          break;\r\n        case commands.KEY_DOWN:\r\n          e.preventDefault();\r\n          this._down();\r\n          break;\r\n        case commands.KEY_ENTER:\r\n          e.preventDefault();\r\n          this._enter(e);\r\n          break;\r\n        case commands.KEY_PAGEUP:\r\n          e.preventDefault();\r\n          this._pageup();\r\n          break;\r\n        case commands.KEY_PAGEDOWN:\r\n          e.preventDefault();\r\n          this._pagedown();\r\n          break;\r\n        case commands.KEY_ESCAPE:\r\n          e.preventDefault();\r\n          this.deactivate();\r\n          break;\r\n      }\r\n    },\r\n\r\n    _defaultKeydown: function (e) {\r\n      if (this.isUp(e)) {\r\n        return commands.KEY_UP;\r\n      } else if (this.isDown(e)) {\r\n        return commands.KEY_DOWN;\r\n      } else if (this.isEnter(e)) {\r\n        return commands.KEY_ENTER;\r\n      } else if (this.isPageup(e)) {\r\n        return commands.KEY_PAGEUP;\r\n      } else if (this.isPagedown(e)) {\r\n        return commands.KEY_PAGEDOWN;\r\n      } else if (this.isEscape(e)) {\r\n        return commands.KEY_ESCAPE;\r\n      }\r\n    },\r\n\r\n    _up: function () {\r\n      if (this._index === 0) {\r\n        this._index = this.data.length - 1;\r\n      } else {\r\n        this._index -= 1;\r\n      }\r\n      this._activateIndexedItem();\r\n      this._setScroll();\r\n    },\r\n\r\n    _down: function () {\r\n      if (this._index === this.data.length - 1) {\r\n        this._index = 0;\r\n      } else {\r\n        this._index += 1;\r\n      }\r\n      this._activateIndexedItem();\r\n      this._setScroll();\r\n    },\r\n\r\n    _enter: function (e) {\r\n      var datum = this.data[parseInt(this._getActiveElement().data('index'), 10)];\r\n      this.completer.select(datum.value, datum.strategy, e);\r\n      this.deactivate();\r\n    },\r\n\r\n    _pageup: function () {\r\n      var target = 0;\r\n      var threshold = this._getActiveElement().position().top - this.$el.innerHeight();\r\n      this.$el.children().each(function (i) {\r\n        if ($(this).position().top + $(this).outerHeight() > threshold) {\r\n          target = i;\r\n          return false;\r\n        }\r\n      });\r\n      this._index = target;\r\n      this._activateIndexedItem();\r\n      this._setScroll();\r\n    },\r\n\r\n    _pagedown: function () {\r\n      var target = this.data.length - 1;\r\n      var threshold = this._getActiveElement().position().top + this.$el.innerHeight();\r\n      this.$el.children().each(function (i) {\r\n        if ($(this).position().top > threshold) {\r\n          target = i;\r\n          return false\r\n        }\r\n      });\r\n      this._index = target;\r\n      this._activateIndexedItem();\r\n      this._setScroll();\r\n    },\r\n\r\n    _activateIndexedItem: function () {\r\n      this.$el.find('.textcomplete-item.active').removeClass('active');\r\n      this._getActiveElement().addClass('active');\r\n    },\r\n\r\n    _getActiveElement: function () {\r\n      return this.$el.children('.textcomplete-item:nth(' + this._index + ')');\r\n    },\r\n\r\n    _setScroll: function () {\r\n      var $activeEl = this._getActiveElement();\r\n      var itemTop = $activeEl.position().top;\r\n      var itemHeight = $activeEl.outerHeight();\r\n      var visibleHeight = this.$el.innerHeight();\r\n      var visibleTop = this.$el.scrollTop();\r\n      if (this._index === 0 || this._index == this.data.length - 1 || itemTop < 0) {\r\n        this.$el.scrollTop(itemTop + visibleTop);\r\n      } else if (itemTop + itemHeight > visibleHeight) {\r\n        this.$el.scrollTop(itemTop + itemHeight + visibleTop - visibleHeight);\r\n      }\r\n    },\r\n\r\n    _buildContents: function (zippedData) {\r\n      var datum, i, index;\r\n      var html = '';\r\n      for (i = 0; i < zippedData.length; i++) {\r\n        if (this.data.length === this.maxCount) break;\r\n        datum = zippedData[i];\r\n        if (include(this.data, datum)) { continue; }\r\n        index = this.data.length;\r\n        this.data.push(datum);\r\n        html += '<li class=\"textcomplete-item\" data-index=\"' + index + '\"><a>';\r\n        html +=   datum.strategy.template(datum.value, datum.term);\r\n        html += '</a></li>';\r\n      }\r\n      return html;\r\n    },\r\n\r\n    _renderHeader: function (unzippedData) {\r\n      if (this.header) {\r\n        if (!this._$header) {\r\n          this._$header = $('<li class=\"textcomplete-header\"></li>').prependTo(this.$el);\r\n        }\r\n        var html = $.isFunction(this.header) ? this.header(unzippedData) : this.header;\r\n        this._$header.html(html);\r\n      }\r\n    },\r\n\r\n    _renderFooter: function (unzippedData) {\r\n      if (this.footer) {\r\n        if (!this._$footer) {\r\n          this._$footer = $('<li class=\"textcomplete-footer\"></li>').appendTo(this.$el);\r\n        }\r\n        var html = $.isFunction(this.footer) ? this.footer(unzippedData) : this.footer;\r\n        this._$footer.html(html);\r\n      }\r\n    },\r\n\r\n    _renderNoResultsMessage: function (unzippedData) {\r\n      if (this.noResultsMessage) {\r\n        if (!this._$noResultsMessage) {\r\n          this._$noResultsMessage = $('<li class=\"textcomplete-no-results-message\"></li>').appendTo(this.$el);\r\n        }\r\n        var html = $.isFunction(this.noResultsMessage) ? this.noResultsMessage(unzippedData) : this.noResultsMessage;\r\n        this._$noResultsMessage.html(html);\r\n      }\r\n    },\r\n\r\n    _renderContents: function (html) {\r\n      if (this._$footer) {\r\n        this._$footer.before(html);\r\n      } else {\r\n        this.$el.append(html);\r\n      }\r\n    },\r\n\r\n    _fitToBottom: function() {\r\n      var windowScrollBottom = $window.scrollTop() + $window.height();\r\n      var height = this.$el.height();\r\n      if ((this.$el.position().top + height) > windowScrollBottom) {\r\n        // only do this if we are not in an iframe\r\n        if (!this.completer.$iframe) {\r\n          this.$el.offset({top: windowScrollBottom - height});\r\n        }\r\n      }\r\n    },\r\n\r\n    _fitToRight: function() {\r\n      // We don't know how wide our content is until the browser positions us, and at that point it clips us\r\n      // to the document width so we don't know if we would have overrun it. As a heuristic to avoid that clipping\r\n      // (which makes our elements wrap onto the next line and corrupt the next item), if we're close to the right\r\n      // edge, move left. We don't know how far to move left, so just keep nudging a bit.\r\n      var tolerance = this.option.rightEdgeOffset; // pixels. Make wider than vertical scrollbar because we might not be able to use that space.\r\n      var lastOffset = this.$el.offset().left, offset;\r\n      var width = this.$el.width();\r\n      var maxLeft = $window.width() - tolerance;\r\n      while (lastOffset + width > maxLeft) {\r\n        this.$el.offset({left: lastOffset - tolerance});\r\n        offset = this.$el.offset().left;\r\n        if (offset >= lastOffset) { break; }\r\n        lastOffset = offset;\r\n      }\r\n    },\r\n\r\n    _applyPlacement: function (position) {\r\n      // If the 'placement' option set to 'top', move the position above the element.\r\n      if (this.placement.indexOf('top') !== -1) {\r\n        // Overwrite the position object to set the 'bottom' property instead of the top.\r\n        position = {\r\n          top: 'auto',\r\n          bottom: this.$el.parent().height() - position.top + position.lineHeight,\r\n          left: position.left\r\n        };\r\n      } else {\r\n        position.bottom = 'auto';\r\n        delete position.lineHeight;\r\n      }\r\n      if (this.placement.indexOf('absleft') !== -1) {\r\n        position.left = 0;\r\n      } else if (this.placement.indexOf('absright') !== -1) {\r\n        position.right = 0;\r\n        position.left = 'auto';\r\n      }\r\n      return position;\r\n    }\r\n  });\r\n\r\n  $.fn.textcomplete.Dropdown = Dropdown;\r\n  $.extend($.fn.textcomplete, commands);\r\n}(jQuery);\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // Memoize a search function.\r\n  var memoize = function (func) {\r\n    var memo = {};\r\n    return function (term, callback) {\r\n      if (memo[term]) {\r\n        callback(memo[term]);\r\n      } else {\r\n        func.call(this, term, function (data) {\r\n          memo[term] = (memo[term] || []).concat(data);\r\n          callback.apply(null, arguments);\r\n        });\r\n      }\r\n    };\r\n  };\r\n\r\n  function Strategy(options) {\r\n    $.extend(this, options);\r\n    if (this.cache) { this.search = memoize(this.search); }\r\n  }\r\n\r\n  Strategy.parse = function (strategiesArray, params) {\r\n    return $.map(strategiesArray, function (strategy) {\r\n      var strategyObj = new Strategy(strategy);\r\n      strategyObj.el = params.el;\r\n      strategyObj.$el = params.$el;\r\n      return strategyObj;\r\n    });\r\n  };\r\n\r\n  $.extend(Strategy.prototype, {\r\n    // Public properties\r\n    // -----------------\r\n\r\n    // Required\r\n    match:      null,\r\n    replace:    null,\r\n    search:     null,\r\n\r\n    // Optional\r\n    id:         null,\r\n    cache:      false,\r\n    context:    function () { return true; },\r\n    index:      2,\r\n    template:   function (obj) { return obj; },\r\n    idProperty: null\r\n  });\r\n\r\n  $.fn.textcomplete.Strategy = Strategy;\r\n\r\n}(jQuery);\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  var now = Date.now || function () { return new Date().getTime(); };\r\n\r\n  // Returns a function, that, as long as it continues to be invoked, will not\r\n  // be triggered. The function will be called after it stops being called for\r\n  // `wait` msec.\r\n  //\r\n  // This utility function was originally implemented at Underscore.js.\r\n  var debounce = function (func, wait) {\r\n    var timeout, args, context, timestamp, result;\r\n    var later = function () {\r\n      var last = now() - timestamp;\r\n      if (last < wait) {\r\n        timeout = setTimeout(later, wait - last);\r\n      } else {\r\n        timeout = null;\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      }\r\n    };\r\n\r\n    return function () {\r\n      context = this;\r\n      args = arguments;\r\n      timestamp = now();\r\n      if (!timeout) {\r\n        timeout = setTimeout(later, wait);\r\n      }\r\n      return result;\r\n    };\r\n  };\r\n\r\n  function Adapter () {}\r\n\r\n  $.extend(Adapter.prototype, {\r\n    // Public properties\r\n    // -----------------\r\n\r\n    id:        null, // Identity.\r\n    completer: null, // Completer object which creates it.\r\n    el:        null, // Textarea element.\r\n    $el:       null, // jQuery object of the textarea.\r\n    option:    null,\r\n\r\n    // Public methods\r\n    // --------------\r\n\r\n    initialize: function (element, completer, option) {\r\n      this.el        = element;\r\n      this.$el       = $(element);\r\n      this.id        = completer.id + this.constructor.name;\r\n      this.completer = completer;\r\n      this.option    = option;\r\n\r\n      if (this.option.debounce) {\r\n        this._onKeyup = debounce(this._onKeyup, this.option.debounce);\r\n      }\r\n\r\n      this._bindEvents();\r\n    },\r\n\r\n    destroy: function () {\r\n      this.$el.off('.' + this.id); // Remove all event handlers.\r\n      this.$el = this.el = this.completer = null;\r\n    },\r\n\r\n    // Update the element with the given value and strategy.\r\n    //\r\n    // value    - The selected object. It is one of the item of the array\r\n    //            which was callbacked from the search function.\r\n    // strategy - The Strategy associated with the selected value.\r\n    select: function (/* value, strategy */) {\r\n      throw new Error('Not implemented');\r\n    },\r\n\r\n    // Returns the caret's relative coordinates from body's left top corner.\r\n    getCaretPosition: function () {\r\n      var position = this._getCaretRelativePosition();\r\n      var offset = this.$el.offset();\r\n\r\n      // Calculate the left top corner of `this.option.appendTo` element.\r\n      var $parent = this.option.appendTo;\r\n      if ($parent) {\r\n         if (!($parent instanceof $)) { $parent = $($parent); }\r\n         var parentOffset = $parent.offsetParent().offset();\r\n         offset.top -= parentOffset.top;\r\n         offset.left -= parentOffset.left;\r\n      }\r\n\r\n      position.top += offset.top;\r\n      position.left += offset.left;\r\n      return position;\r\n    },\r\n\r\n    // Focus on the element.\r\n    focus: function () {\r\n      this.$el.focus();\r\n    },\r\n\r\n    // Private methods\r\n    // ---------------\r\n\r\n    _bindEvents: function () {\r\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\r\n    },\r\n\r\n    _onKeyup: function (e) {\r\n      if (this._skipSearch(e)) { return; }\r\n      this.completer.trigger(this.getTextFromHeadToCaret(), true);\r\n    },\r\n\r\n    // Suppress searching if it returns true.\r\n    _skipSearch: function (clickEvent) {\r\n      switch (clickEvent.keyCode) {\r\n        case 9:  // TAB\r\n        case 13: // ENTER\r\n        case 40: // DOWN\r\n        case 38: // UP\r\n        case 27: // ESC\r\n          return true;\r\n      }\r\n      if (clickEvent.ctrlKey) switch (clickEvent.keyCode) {\r\n        case 78: // Ctrl-N\r\n        case 80: // Ctrl-P\r\n          return true;\r\n      }\r\n    }\r\n  });\r\n\r\n  $.fn.textcomplete.Adapter = Adapter;\r\n}(jQuery);\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // Textarea adapter\r\n  // ================\r\n  //\r\n  // Managing a textarea. It doesn't know a Dropdown.\r\n  function Textarea(element, completer, option) {\r\n    this.initialize(element, completer, option);\r\n  }\r\n\r\n  $.extend(Textarea.prototype, $.fn.textcomplete.Adapter.prototype, {\r\n    // Public methods\r\n    // --------------\r\n\r\n    // Update the textarea with the given value and strategy.\r\n    select: function (value, strategy, e) {\r\n      var pre = this.getTextFromHeadToCaret();\r\n      var post = this.el.value.substring(this.el.selectionEnd);\r\n      var newSubstr = strategy.replace(value, e);\r\n      var regExp;\r\n      if (typeof newSubstr !== 'undefined') {\r\n        if ($.isArray(newSubstr)) {\r\n          post = newSubstr[1] + post;\r\n          newSubstr = newSubstr[0];\r\n        }\r\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\r\n        pre = pre.replace(regExp, newSubstr);\r\n        this.$el.val(pre + post);\r\n        this.el.selectionStart = this.el.selectionEnd = pre.length;\r\n      }\r\n    },\r\n\r\n    getTextFromHeadToCaret: function () {\r\n      return this.el.value.substring(0, this.el.selectionEnd);\r\n    },\r\n\r\n    // Private methods\r\n    // ---------------\r\n\r\n    _getCaretRelativePosition: function () {\r\n      var p = $.fn.textcomplete.getCaretCoordinates(this.el, this.el.selectionStart);\r\n      return {\r\n        top: p.top + this._calculateLineHeight() - this.$el.scrollTop(),\r\n        left: p.left - this.$el.scrollLeft(),\r\n        lineHeight: this._calculateLineHeight()\r\n      };\r\n    },\r\n\r\n    _calculateLineHeight: function () {\r\n      var lineHeight = parseInt(this.$el.css('line-height'), 10);\r\n      if (isNaN(lineHeight)) {\r\n        // http://stackoverflow.com/a/4515470/1297336\r\n        var parentNode = this.el.parentNode;\r\n        var temp = document.createElement(this.el.nodeName);\r\n        var style = this.el.style;\r\n        temp.setAttribute(\r\n          'style',\r\n          'margin:0px;padding:0px;font-family:' + style.fontFamily + ';font-size:' + style.fontSize\r\n        );\r\n        temp.innerHTML = 'test';\r\n        parentNode.appendChild(temp);\r\n        lineHeight = temp.clientHeight;\r\n        parentNode.removeChild(temp);\r\n      }\r\n      return lineHeight;\r\n    }\r\n  });\r\n\r\n  $.fn.textcomplete.Textarea = Textarea;\r\n}(jQuery);\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  var sentinelChar = '';\r\n\r\n  function IETextarea(element, completer, option) {\r\n    this.initialize(element, completer, option);\r\n    $('<span>' + sentinelChar + '</span>').css({\r\n      position: 'absolute',\r\n      top: -9999,\r\n      left: -9999\r\n    }).insertBefore(element);\r\n  }\r\n\r\n  $.extend(IETextarea.prototype, $.fn.textcomplete.Textarea.prototype, {\r\n    // Public methods\r\n    // --------------\r\n\r\n    select: function (value, strategy, e) {\r\n      var pre = this.getTextFromHeadToCaret();\r\n      var post = this.el.value.substring(pre.length);\r\n      var newSubstr = strategy.replace(value, e);\r\n      var regExp;\r\n      if (typeof newSubstr !== 'undefined') {\r\n        if ($.isArray(newSubstr)) {\r\n          post = newSubstr[1] + post;\r\n          newSubstr = newSubstr[0];\r\n        }\r\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\r\n        pre = pre.replace(regExp, newSubstr);\r\n        this.$el.val(pre + post);\r\n        this.el.focus();\r\n        var range = this.el.createTextRange();\r\n        range.collapse(true);\r\n        range.moveEnd('character', pre.length);\r\n        range.moveStart('character', pre.length);\r\n        range.select();\r\n      }\r\n    },\r\n\r\n    getTextFromHeadToCaret: function () {\r\n      this.el.focus();\r\n      var range = document.selection.createRange();\r\n      range.moveStart('character', -this.el.value.length);\r\n      var arr = range.text.split(sentinelChar)\r\n      return arr.length === 1 ? arr[0] : arr[1];\r\n    }\r\n  });\r\n\r\n  $.fn.textcomplete.IETextarea = IETextarea;\r\n}(jQuery);\r\n\r\n// NOTE: TextComplete plugin has contenteditable support but it does not work\r\n//       fine especially on old IEs.\r\n//       Any pull requests are REALLY welcome.\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // ContentEditable adapter\r\n  // =======================\r\n  //\r\n  // Adapter for contenteditable elements.\r\n  function ContentEditable (element, completer, option) {\r\n    this.initialize(element, completer, option);\r\n  }\r\n\r\n  $.extend(ContentEditable.prototype, $.fn.textcomplete.Adapter.prototype, {\r\n    // Public methods\r\n    // --------------\r\n\r\n    // Update the content with the given value and strategy.\r\n    // When an dropdown item is selected, it is executed.\r\n    select: function (value, strategy, e) {\r\n      var pre = this.getTextFromHeadToCaret();\r\n      // use ownerDocument instead of window to support iframes\r\n      var sel = this.el.ownerDocument.getSelection();\r\n      \r\n      var range = sel.getRangeAt(0);\r\n      var selection = range.cloneRange();\r\n      selection.selectNodeContents(range.startContainer);\r\n      var content = selection.toString();\r\n      var post = content.substring(range.startOffset);\r\n      var newSubstr = strategy.replace(value, e);\r\n      var regExp;\r\n      if (typeof newSubstr !== 'undefined') {\r\n        if ($.isArray(newSubstr)) {\r\n          post = newSubstr[1] + post;\r\n          newSubstr = newSubstr[0];\r\n        }\r\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\r\n        pre = pre.replace(regExp, newSubstr)\r\n            .replace(/ $/, \"&nbsp\"); // &nbsp necessary at least for CKeditor to not eat spaces\r\n        range.selectNodeContents(range.startContainer);\r\n        range.deleteContents();\r\n        \r\n        // create temporary elements\r\n        var preWrapper = this.el.ownerDocument.createElement(\"div\");\r\n        preWrapper.innerHTML = pre;\r\n        var postWrapper = this.el.ownerDocument.createElement(\"div\");\r\n        postWrapper.innerHTML = post;\r\n        \r\n        // create the fragment thats inserted\r\n        var fragment = this.el.ownerDocument.createDocumentFragment();\r\n        var childNode;\r\n        var lastOfPre;\r\n        while (childNode = preWrapper.firstChild) {\r\n        \tlastOfPre = fragment.appendChild(childNode);\r\n        }\r\n        while (childNode = postWrapper.firstChild) {\r\n        \tfragment.appendChild(childNode);\r\n        }\r\n        \r\n        // insert the fragment & jump behind the last node in \"pre\"\r\n        range.insertNode(fragment);\r\n        range.setStartAfter(lastOfPre);\r\n        \r\n        range.collapse(true);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n      }\r\n    },\r\n\r\n    // Private methods\r\n    // ---------------\r\n\r\n    // Returns the caret's relative position from the contenteditable's\r\n    // left top corner.\r\n    //\r\n    // Examples\r\n    //\r\n    //   this._getCaretRelativePosition()\r\n    //   //=> { top: 18, left: 200, lineHeight: 16 }\r\n    //\r\n    // Dropdown's position will be decided using the result.\r\n    _getCaretRelativePosition: function () {\r\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange();\r\n      var node = this.el.ownerDocument.createElement('span');\r\n      range.insertNode(node);\r\n      range.selectNodeContents(node);\r\n      range.deleteContents();\r\n      var $node = $(node);\r\n      var position = $node.offset();\r\n      position.left -= this.$el.offset().left;\r\n      position.top += $node.height() - this.$el.offset().top;\r\n      position.lineHeight = $node.height();\r\n      \r\n      // special positioning logic for iframes\r\n      // this is typically used for contenteditables such as tinymce or ckeditor\r\n      if (this.completer.$iframe) {\r\n        var iframePosition = this.completer.$iframe.offset();\r\n        position.top += iframePosition.top;\r\n        position.left += iframePosition.left;\r\n        //subtract scrollTop from element in iframe\r\n        position.top -= this.$el.scrollTop(); \r\n      }\r\n      \r\n      $node.remove();\r\n      return position;\r\n    },\r\n\r\n    // Returns the string between the first character and the caret.\r\n    // Completer will be triggered with the result for start autocompleting.\r\n    //\r\n    // Example\r\n    //\r\n    //   // Suppose the html is '<b>hello</b> wor|ld' and | is the caret.\r\n    //   this.getTextFromHeadToCaret()\r\n    //   // => ' wor'  // not '<b>hello</b> wor'\r\n    getTextFromHeadToCaret: function () {\r\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0);\r\n      var selection = range.cloneRange();\r\n      selection.selectNodeContents(range.startContainer);\r\n      return selection.toString().substring(0, range.startOffset);\r\n    }\r\n  });\r\n\r\n  $.fn.textcomplete.ContentEditable = ContentEditable;\r\n}(jQuery);\r\n\r\n// NOTE: TextComplete plugin has contenteditable support but it does not work\r\n//       fine especially on old IEs.\r\n//       Any pull requests are REALLY welcome.\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // CKEditor adapter\r\n  // =======================\r\n  //\r\n  // Adapter for CKEditor, based on contenteditable elements.\r\n  function CKEditor (element, completer, option) {\r\n    this.initialize(element, completer, option);\r\n  }\r\n\r\n  $.extend(CKEditor.prototype, $.fn.textcomplete.ContentEditable.prototype, {\r\n    _bindEvents: function () {\r\n      var $this = this;\r\n      this.option.ckeditor_instance.on('key', function(event) {\r\n        var domEvent = event.data;\r\n        $this._onKeyup(domEvent);\r\n        if ($this.completer.dropdown.shown && $this._skipSearch(domEvent)) {\r\n          return false;\r\n        }\r\n      }, null, null, 1); // 1 = Priority = Important!\r\n      // we actually also need the native event, as the CKEditor one is happening to late\r\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\r\n    },\r\n});\r\n\r\n  $.fn.textcomplete.CKEditor = CKEditor;\r\n}(jQuery);\r\n\r\n// The MIT License (MIT)\r\n// \r\n// Copyright (c) 2015 Jonathan Ong me@jongleberry.com\r\n// \r\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r\n// associated documentation files (the \"Software\"), to deal in the Software without restriction,\r\n// including without limitation the rights to use, copy, modify, merge, publish, distribute,\r\n// sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n// \r\n// The above copyright notice and this permission notice shall be included in all copies or\r\n// substantial portions of the Software.\r\n// \r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\r\n// NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n// https://github.com/component/textarea-caret-position\r\n\r\n(function ($) {\r\n\r\n// The properties that we copy into a mirrored div.\r\n// Note that some browsers, such as Firefox,\r\n// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\r\n// so we have to do every single property specifically.\r\nvar properties = [\r\n  'direction',  // RTL support\r\n  'boxSizing',\r\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\r\n  'height',\r\n  'overflowX',\r\n  'overflowY',  // copy the scrollbar for IE\r\n\r\n  'borderTopWidth',\r\n  'borderRightWidth',\r\n  'borderBottomWidth',\r\n  'borderLeftWidth',\r\n  'borderStyle',\r\n\r\n  'paddingTop',\r\n  'paddingRight',\r\n  'paddingBottom',\r\n  'paddingLeft',\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n  'fontStyle',\r\n  'fontVariant',\r\n  'fontWeight',\r\n  'fontStretch',\r\n  'fontSize',\r\n  'fontSizeAdjust',\r\n  'lineHeight',\r\n  'fontFamily',\r\n\r\n  'textAlign',\r\n  'textTransform',\r\n  'textIndent',\r\n  'textDecoration',  // might not make a difference, but better be safe\r\n\r\n  'letterSpacing',\r\n  'wordSpacing',\r\n\r\n  'tabSize',\r\n  'MozTabSize'\r\n\r\n];\r\n\r\nvar isBrowser = (typeof window !== 'undefined');\r\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\r\n\r\nfunction getCaretCoordinates(element, position, options) {\r\n  if(!isBrowser) {\r\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\r\n  }\r\n\r\n  var debug = options && options.debug || false;\r\n  if (debug) {\r\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\r\n    if ( el ) { el.parentNode.removeChild(el); }\r\n  }\r\n\r\n  // mirrored div\r\n  var div = document.createElement('div');\r\n  div.id = 'input-textarea-caret-position-mirror-div';\r\n  document.body.appendChild(div);\r\n\r\n  var style = div.style;\r\n  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\r\n\r\n  // default textarea styles\r\n  style.whiteSpace = 'pre-wrap';\r\n  if (element.nodeName !== 'INPUT')\r\n    style.wordWrap = 'break-word';  // only for textarea-s\r\n\r\n  // position off-screen\r\n  style.position = 'absolute';  // required to return coordinates properly\r\n  if (!debug)\r\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\r\n\r\n  // transfer the element's properties to the div\r\n  properties.forEach(function (prop) {\r\n    style[prop] = computed[prop];\r\n  });\r\n\r\n  if (isFirefox) {\r\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\r\n    if (element.scrollHeight > parseInt(computed.height))\r\n      style.overflowY = 'scroll';\r\n  } else {\r\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\r\n  }\r\n\r\n  div.textContent = element.value.substring(0, position);\r\n  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\r\n  if (element.nodeName === 'INPUT')\r\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\r\n\r\n  var span = document.createElement('span');\r\n  // Wrapping must be replicated *exactly*, including when a long word gets\r\n  // onto the next line, with whitespace at the end of the line before (#7).\r\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\r\n  // textarea's content into the <span> created at the caret position.\r\n  // for inputs, just '.' would be enough, but why bother?\r\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\r\n  div.appendChild(span);\r\n\r\n  var coordinates = {\r\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\r\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\r\n  };\r\n\r\n  if (debug) {\r\n    span.style.backgroundColor = '#aaa';\r\n  } else {\r\n    document.body.removeChild(div);\r\n  }\r\n\r\n  return coordinates;\r\n}\r\n\r\n$.fn.textcomplete.getCaretCoordinates = getCaretCoordinates;\r\n\r\n}(jQuery));\r\n\r\nreturn jQuery;\r\n}));\r\n","/*\r\n RequireJS 2.2.0 Copyright jQuery Foundation and other contributors.\r\n Released under MIT license, http://github.com/requirejs/requirejs/LICENSE\r\n*/\r\nvar requirejs,require,define;\r\n(function(ga){function ka(b,c,d,g){return g||\"\"}function K(b){return\"[object Function]\"===Q.call(b)}function L(b){return\"[object Array]\"===Q.call(b)}function y(b,c){if(b){var d;for(d=0;d<b.length&&(!b[d]||!c(b[d],d,b));d+=1);}}function X(b,c){if(b){var d;for(d=b.length-1;-1<d&&(!b[d]||!c(b[d],d,b));--d);}}function x(b,c){return la.call(b,c)}function e(b,c){return x(b,c)&&b[c]}function D(b,c){for(var d in b)if(x(b,d)&&c(b[d],d))break}function Y(b,c,d,g){c&&D(c,function(c,e){if(d||!x(b,e))!g||\"object\"!==\r\ntypeof c||!c||L(c)||K(c)||c instanceof RegExp?b[e]=c:(b[e]||(b[e]={}),Y(b[e],c,d,g))});return b}function z(b,c){return function(){return c.apply(b,arguments)}}function ha(b){throw b;}function ia(b){if(!b)return b;var c=ga;y(b.split(\".\"),function(b){c=c[b]});return c}function F(b,c,d,g){c=Error(c+\"\\nhttp://requirejs.org/docs/errors.html#\"+b);c.requireType=b;c.requireModules=g;d&&(c.originalError=d);return c}function ma(b){function c(a,n,b){var h,k,f,c,d,l,g,r;n=n&&n.split(\"/\");var q=p.map,m=q&&q[\"*\"];\r\nif(a){a=a.split(\"/\");k=a.length-1;p.nodeIdCompat&&U.test(a[k])&&(a[k]=a[k].replace(U,\"\"));\".\"===a[0].charAt(0)&&n&&(k=n.slice(0,n.length-1),a=k.concat(a));k=a;for(f=0;f<k.length;f++)c=k[f],\".\"===c?(k.splice(f,1),--f):\"..\"===c&&0!==f&&(1!==f||\"..\"!==k[2])&&\"..\"!==k[f-1]&&0<f&&(k.splice(f-1,2),f-=2);a=a.join(\"/\")}if(b&&q&&(n||m)){k=a.split(\"/\");f=k.length;a:for(;0<f;--f){d=k.slice(0,f).join(\"/\");if(n)for(c=n.length;0<c;--c)if(b=e(q,n.slice(0,c).join(\"/\")))if(b=e(b,d)){h=b;l=f;break a}!g&&m&&e(m,d)&&\r\n(g=e(m,d),r=f)}!h&&g&&(h=g,l=r);h&&(k.splice(0,l,h),a=k.join(\"/\"))}return(h=e(p.pkgs,a))?h:a}function d(a){E&&y(document.getElementsByTagName(\"script\"),function(n){if(n.getAttribute(\"data-requiremodule\")===a&&n.getAttribute(\"data-requirecontext\")===l.contextName)return n.parentNode.removeChild(n),!0})}function m(a){var n=e(p.paths,a);if(n&&L(n)&&1<n.length)return n.shift(),l.require.undef(a),l.makeRequire(null,{skipMap:!0})([a]),!0}function r(a){var n,b=a?a.indexOf(\"!\"):-1;-1<b&&(n=a.substring(0,\r\nb),a=a.substring(b+1,a.length));return[n,a]}function q(a,n,b,h){var k,f,d=null,g=n?n.name:null,p=a,q=!0,m=\"\";a||(q=!1,a=\"_@r\"+(Q+=1));a=r(a);d=a[0];a=a[1];d&&(d=c(d,g,h),f=e(v,d));a&&(d?m=f&&f.normalize?f.normalize(a,function(a){return c(a,g,h)}):-1===a.indexOf(\"!\")?c(a,g,h):a:(m=c(a,g,h),a=r(m),d=a[0],m=a[1],b=!0,k=l.nameToUrl(m)));b=!d||f||b?\"\":\"_unnormalized\"+(T+=1);return{prefix:d,name:m,parentMap:n,unnormalized:!!b,url:k,originalName:p,isDefine:q,id:(d?d+\"!\"+m:m)+b}}function u(a){var b=a.id,\r\nc=e(t,b);c||(c=t[b]=new l.Module(a));return c}function w(a,b,c){var h=a.id,k=e(t,h);if(!x(v,h)||k&&!k.defineEmitComplete)if(k=u(a),k.error&&\"error\"===b)c(k.error);else k.on(b,c);else\"defined\"===b&&c(v[h])}function A(a,b){var c=a.requireModules,h=!1;if(b)b(a);else if(y(c,function(b){if(b=e(t,b))b.error=a,b.events.error&&(h=!0,b.emit(\"error\",a))}),!h)g.onError(a)}function B(){V.length&&(y(V,function(a){var b=a[0];\"string\"===typeof b&&(l.defQueueMap[b]=!0);G.push(a)}),V=[])}function C(a){delete t[a];\r\ndelete Z[a]}function J(a,b,c){var h=a.map.id;a.error?a.emit(\"error\",a.error):(b[h]=!0,y(a.depMaps,function(h,f){var d=h.id,g=e(t,d);!g||a.depMatched[f]||c[d]||(e(b,d)?(a.defineDep(f,v[d]),a.check()):J(g,b,c))}),c[h]=!0)}function H(){var a,b,c=(a=1E3*p.waitSeconds)&&l.startTime+a<(new Date).getTime(),h=[],k=[],f=!1,g=!0;if(!aa){aa=!0;D(Z,function(a){var l=a.map,e=l.id;if(a.enabled&&(l.isDefine||k.push(a),!a.error))if(!a.inited&&c)m(e)?f=b=!0:(h.push(e),d(e));else if(!a.inited&&a.fetched&&l.isDefine&&\r\n(f=!0,!l.prefix))return g=!1});if(c&&h.length)return a=F(\"timeout\",\"Load timeout for modules: \"+h,null,h),a.contextName=l.contextName,A(a);g&&y(k,function(a){J(a,{},{})});c&&!b||!f||!E&&!ja||ba||(ba=setTimeout(function(){ba=0;H()},50));aa=!1}}function I(a){x(v,a[0])||u(q(a[0],null,!0)).init(a[1],a[2])}function O(a){a=a.currentTarget||a.srcElement;var b=l.onScriptLoad;a.detachEvent&&!ca?a.detachEvent(\"onreadystatechange\",b):a.removeEventListener(\"load\",b,!1);b=l.onScriptError;a.detachEvent&&!ca||a.removeEventListener(\"error\",\r\nb,!1);return{node:a,id:a&&a.getAttribute(\"data-requiremodule\")}}function P(){var a;for(B();G.length;){a=G.shift();if(null===a[0])return A(F(\"mismatch\",\"Mismatched anonymous define() module: \"+a[a.length-1]));I(a)}l.defQueueMap={}}var aa,da,l,R,ba,p={waitSeconds:7,baseUrl:\"./\",paths:{},bundles:{},pkgs:{},shim:{},config:{}},t={},Z={},ea={},G=[],v={},W={},fa={},Q=1,T=1;R={require:function(a){return a.require?a.require:a.require=l.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?\r\nv[a.map.id]=a.exports:a.exports=v[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return e(p.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}};da=function(a){this.events=e(ea,a.id)||{};this.map=a;this.shim=e(p.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};da.prototype={init:function(a,b,c,h){h=h||{};if(!this.inited){this.factory=b;if(c)this.on(\"error\",c);else this.events.error&&\r\n(c=z(this,function(a){this.emit(\"error\",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=h.ignore;h.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;l.startTime=(new Date).getTime();var a=this.map;if(this.shim)l.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],z(this,function(){return a.prefix?this.callPlugin():\r\nthis.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;W[a]||(W[a]=!0,l.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var h=this.exports,k=this.factory;if(!this.inited)x(l.defQueueMap,c)||this.fetch();else if(this.error)this.emit(\"error\",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(K(k)){if(this.events.error&&this.map.isDefine||g.onError!==\r\nha)try{h=l.execCb(c,k,b,h)}catch(d){a=d}else h=l.execCb(c,k,b,h);this.map.isDefine&&void 0===h&&((b=this.module)?h=b.exports:this.usingExports&&(h=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?\"define\":\"require\",A(this.error=a)}else h=k;this.exports=h;if(this.map.isDefine&&!this.ignore&&(v[c]=h,g.onResourceLoad)){var f=[];y(this.depMaps,function(a){f.push(a.normalizedMap||a)});g.onResourceLoad(l,this.map,f)}C(c);\r\nthis.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit(\"defined\",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,b=a.id,d=q(a.prefix);this.depMaps.push(d);w(d,\"defined\",z(this,function(h){var k,f,d=e(fa,this.map.id),M=this.map.name,r=this.map.parentMap?this.map.parentMap.name:null,m=l.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(h.normalize&&(M=h.normalize(M,function(a){return c(a,r,!0)})||\r\n\"\"),f=q(a.prefix+\"!\"+M,this.map.parentMap),w(f,\"defined\",z(this,function(a){this.map.normalizedMap=f;this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),h=e(t,f.id)){this.depMaps.push(f);if(this.events.error)h.on(\"error\",z(this,function(a){this.emit(\"error\",a)}));h.enable()}}else d?(this.map.url=l.nameToUrl(d),this.load()):(k=z(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),k.error=z(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];D(t,function(a){0===\r\na.map.id.indexOf(b+\"_unnormalized\")&&C(a.map.id)});A(a)}),k.fromText=z(this,function(h,c){var d=a.name,f=q(d),M=S;c&&(h=c);M&&(S=!1);u(f);x(p.config,b)&&(p.config[d]=p.config[b]);try{g.exec(h)}catch(e){return A(F(\"fromtexteval\",\"fromText eval for \"+b+\" failed: \"+e,e,[b]))}M&&(S=!0);this.depMaps.push(f);l.completeLoad(d);m([d],k)}),h.load(a.name,m,k,p))}));l.enable(d,this);this.pluginMaps[d.id]=d},enable:function(){Z[this.map.id]=this;this.enabling=this.enabled=!0;y(this.depMaps,z(this,function(a,\r\nb){var c,h;if(\"string\"===typeof a){a=q(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=e(R,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;w(a,\"defined\",z(this,function(a){this.undefed||(this.defineDep(b,a),this.check())}));this.errback?w(a,\"error\",z(this,this.errback)):this.events.error&&w(a,\"error\",z(this,function(a){this.emit(\"error\",a)}))}c=a.id;h=t[c];x(R,c)||!h||h.enabled||l.enable(a,this)}));D(this.pluginMaps,z(this,function(a){var b=e(t,a.id);\r\nb&&!b.enabled&&l.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){y(this.events[a],function(a){a(b)});\"error\"===a&&delete this.events[a]}};l={config:p,contextName:b,registry:t,defined:v,urlFetched:W,defQueue:G,defQueueMap:{},Module:da,makeModuleMap:q,nextTick:g.nextTick,onError:A,configure:function(a){a.baseUrl&&\"/\"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+=\"/\");if(\"string\"===typeof a.urlArgs){var b=\r\na.urlArgs;a.urlArgs=function(a,c){return(-1===c.indexOf(\"?\")?\"?\":\"&\")+b}}var c=p.shim,h={paths:!0,bundles:!0,config:!0,map:!0};D(a,function(a,b){h[b]?(p[b]||(p[b]={}),Y(p[b],a,!0,!0)):p[b]=a});a.bundles&&D(a.bundles,function(a,b){y(a,function(a){a!==b&&(fa[a]=b)})});a.shim&&(D(a.shim,function(a,b){L(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=l.makeShimExports(a));c[b]=a}),p.shim=c);a.packages&&y(a.packages,function(a){var b;a=\"string\"===typeof a?{name:a}:a;b=a.name;a.location&&\r\n(p.paths[b]=a.location);p.pkgs[b]=a.name+\"/\"+(a.main||\"main\").replace(na,\"\").replace(U,\"\")});D(t,function(a,b){a.inited||a.map.unnormalized||(a.map=q(b,null,!0))});(a.deps||a.callback)&&l.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(ga,arguments));return b||a.exports&&ia(a.exports)}},makeRequire:function(a,n){function m(c,d,f){var e,r;n.enableBuildCallback&&d&&K(d)&&(d.__requireJsBuild=!0);if(\"string\"===typeof c){if(K(d))return A(F(\"requireargs\",\r\n\"Invalid require call\"),f);if(a&&x(R,c))return R[c](t[a.id]);if(g.get)return g.get(l,c,a,m);e=q(c,a,!1,!0);e=e.id;return x(v,e)?v[e]:A(F(\"notloaded\",'Module name \"'+e+'\" has not been loaded yet for context: '+b+(a?\"\":\". Use require([])\")))}P();l.nextTick(function(){P();r=u(q(null,a));r.skipMap=n.skipMap;r.init(c,d,f,{enabled:!0});H()});return m}n=n||{};Y(m,{isBrowser:E,toUrl:function(b){var d,f=b.lastIndexOf(\".\"),g=b.split(\"/\")[0];-1!==f&&(\".\"!==g&&\"..\"!==g||1<f)&&(d=b.substring(f,b.length),b=b.substring(0,\r\nf));return l.nameToUrl(c(b,a&&a.id,!0),d,!0)},defined:function(b){return x(v,q(b,a,!1,!0).id)},specified:function(b){b=q(b,a,!1,!0).id;return x(v,b)||x(t,b)}});a||(m.undef=function(b){B();var c=q(b,a,!0),f=e(t,b);f.undefed=!0;d(b);delete v[b];delete W[c.url];delete ea[b];X(G,function(a,c){a[0]===b&&G.splice(c,1)});delete l.defQueueMap[b];f&&(f.events.defined&&(ea[b]=f.events),C(b))});return m},enable:function(a){e(t,a.id)&&u(a).enable()},completeLoad:function(a){var b,c,d=e(p.shim,a)||{},g=d.exports;\r\nfor(B();G.length;){c=G.shift();if(null===c[0]){c[0]=a;if(b)break;b=!0}else c[0]===a&&(b=!0);I(c)}l.defQueueMap={};c=e(t,a);if(!b&&!x(v,a)&&c&&!c.inited)if(!p.enforceDefine||g&&ia(g))I([a,d.deps||[],d.exportsFn]);else return m(a)?void 0:A(F(\"nodefine\",\"No define call for \"+a,null,[a]));H()},nameToUrl:function(a,b,c){var d,k,f,m;(d=e(p.pkgs,a))&&(a=d);if(d=e(fa,a))return l.nameToUrl(d,b,c);if(g.jsExtRegExp.test(a))d=a+(b||\"\");else{d=p.paths;k=a.split(\"/\");for(f=k.length;0<f;--f)if(m=k.slice(0,f).join(\"/\"),\r\nm=e(d,m)){L(m)&&(m=m[0]);k.splice(0,f,m);break}d=k.join(\"/\");d+=b||(/^data\\:|^blob\\:|\\?/.test(d)||c?\"\":\".js\");d=(\"/\"===d.charAt(0)||d.match(/^[\\w\\+\\.\\-]+:/)?\"\":p.baseUrl)+d}return p.urlArgs&&!/^blob\\:/.test(d)?d+p.urlArgs(a,d):d},load:function(a,b){g.load(l,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if(\"load\"===a.type||oa.test((a.currentTarget||a.srcElement).readyState))N=null,a=O(a),l.completeLoad(a.id)},onScriptError:function(a){var b=O(a);if(!m(b.id)){var c=[];\r\nD(t,function(a,d){0!==d.indexOf(\"_@r\")&&y(a.depMaps,function(a){if(a.id===b.id)return c.push(d),!0})});return A(F(\"scripterror\",'Script error for \"'+b.id+(c.length?'\", needed by: '+c.join(\", \"):'\"'),a,[b.id]))}}};l.require=l.makeRequire();return l}function pa(){if(N&&\"interactive\"===N.readyState)return N;X(document.getElementsByTagName(\"script\"),function(b){if(\"interactive\"===b.readyState)return N=b});return N}var g,B,C,H,O,I,N,P,u,T,qa=/(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/mg,ra=/[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,\r\nU=/\\.js$/,na=/^\\.\\//;B=Object.prototype;var Q=B.toString,la=B.hasOwnProperty,E=!(\"undefined\"===typeof window||\"undefined\"===typeof navigator||!window.document),ja=!E&&\"undefined\"!==typeof importScripts,oa=E&&\"PLAYSTATION 3\"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ca=\"undefined\"!==typeof opera&&\"[object Opera]\"===opera.toString(),J={},w={},V=[],S=!1;if(\"undefined\"===typeof define){if(\"undefined\"!==typeof requirejs){if(K(requirejs))return;w=requirejs;requirejs=void 0}\"undefined\"===typeof require||\r\nK(require)||(w=require,require=void 0);g=requirejs=function(b,c,d,m){var r,q=\"_\";L(b)||\"string\"===typeof b||(r=b,L(c)?(b=c,c=d,d=m):b=[]);r&&r.context&&(q=r.context);(m=e(J,q))||(m=J[q]=g.s.newContext(q));r&&m.configure(r);return m.require(b,c,d)};g.config=function(b){return g(b)};g.nextTick=\"undefined\"!==typeof setTimeout?function(b){setTimeout(b,4)}:function(b){b()};require||(require=g);g.version=\"2.2.0\";g.jsExtRegExp=/^\\/|:|\\?|\\.js$/;g.isBrowser=E;B=g.s={contexts:J,newContext:ma};g({});y([\"toUrl\",\r\n\"undef\",\"defined\",\"specified\"],function(b){g[b]=function(){var c=J._;return c.require[b].apply(c,arguments)}});E&&(C=B.head=document.getElementsByTagName(\"head\")[0],H=document.getElementsByTagName(\"base\")[0])&&(C=B.head=H.parentNode);g.onError=ha;g.createNode=function(b,c,d){c=b.xhtml?document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"html:script\"):document.createElement(\"script\");c.type=b.scriptType||\"text/javascript\";c.charset=\"utf-8\";c.async=!0;return c};g.load=function(b,c,d){var m=b&&b.config||\r\n{},e;if(E){e=g.createNode(m,c,d);e.setAttribute(\"data-requirecontext\",b.contextName);e.setAttribute(\"data-requiremodule\",c);!e.attachEvent||e.attachEvent.toString&&0>e.attachEvent.toString().indexOf(\"[native code\")||ca?(e.addEventListener(\"load\",b.onScriptLoad,!1),e.addEventListener(\"error\",b.onScriptError,!1)):(S=!0,e.attachEvent(\"onreadystatechange\",b.onScriptLoad));e.src=d;if(m.onNodeCreated)m.onNodeCreated(e,m,c,d);P=e;H?C.insertBefore(e,H):C.appendChild(e);P=null;return e}if(ja)try{setTimeout(function(){},\r\n0),importScripts(d),b.completeLoad(c)}catch(q){b.onError(F(\"importscripts\",\"importScripts failed for \"+c+\" at \"+d,q,[c]))}};E&&!w.skipDataMain&&X(document.getElementsByTagName(\"script\"),function(b){C||(C=b.parentNode);if(O=b.getAttribute(\"data-main\"))return u=O,w.baseUrl||-1!==u.indexOf(\"!\")||(I=u.split(\"/\"),u=I.pop(),T=I.length?I.join(\"/\")+\"/\":\"./\",w.baseUrl=T),u=u.replace(U,\"\"),g.jsExtRegExp.test(u)&&(u=O),w.deps=w.deps?w.deps.concat(u):[u],!0});define=function(b,c,d){var e,g;\"string\"!==typeof b&&\r\n(d=c,c=b,b=null);L(c)||(d=c,c=null);!c&&K(d)&&(c=[],d.length&&(d.toString().replace(qa,ka).replace(ra,function(b,d){c.push(d)}),c=(1===d.length?[\"require\"]:[\"require\",\"exports\",\"module\"]).concat(c)));S&&(e=P||pa())&&(b||(b=e.getAttribute(\"data-requiremodule\")),g=J[e.getAttribute(\"data-requirecontext\")]);g?(g.defQueue.push([b,c,d]),g.defQueueMap[b]=!0):V.push([b,c,d])};define.amd={jQuery:!0};g.exec=function(b){return eval(b)};g(w)}})(this);\r\n","'use strict';\r\n\r\nrequire.config({\r\n\tbaseUrl: config.relative_path + '/assets/src/modules',\r\n\twaitSeconds: 7,\r\n\turlArgs: config['cache-buster'],\r\n\tpaths: {\r\n\t\tforum: '../client',\r\n\t\tadmin: '../admin',\r\n\t\tvendor: '../../vendor',\r\n\t\tplugins: '../../plugins',\r\n\t},\r\n});\r\n","/**\r\n * bootbox.js [v4.4.0]\r\n *\r\n * http://bootboxjs.com/license.txt\r\n */\r\n\r\n// @see https://github.com/makeusabrew/bootbox/issues/180\r\n// @see https://github.com/makeusabrew/bootbox/issues/186\r\n(function (root, factory) {\r\n\r\n  \"use strict\";\r\n\r\n  // ** removed require.js and commonjs module definitions\r\n\r\n  // Browser globals (root is window)\r\n  root.bootbox = factory(root.jQuery);\r\n\r\n}(this, function init($, undefined) {\r\n\r\n  \"use strict\";\r\n\r\n  // the base DOM structure needed to create a modal\r\n  var templates = {\r\n    dialog:\r\n      \"<div class='bootbox modal' tabindex='-1' role='dialog'>\" +\r\n        \"<div class='modal-dialog'>\" +\r\n          \"<div class='modal-content'>\" +\r\n            \"<div class='modal-body'><div class='bootbox-body'></div></div>\" +\r\n          \"</div>\" +\r\n        \"</div>\" +\r\n      \"</div>\",\r\n    header:\r\n      \"<div class='modal-header'>\" +\r\n        \"<h4 class='modal-title'></h4>\" +\r\n      \"</div>\",\r\n    footer:\r\n      \"<div class='modal-footer'></div>\",\r\n    closeButton:\r\n      \"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>\",\r\n    form:\r\n      \"<form class='bootbox-form'></form>\",\r\n    inputs: {\r\n      text:\r\n        \"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />\",\r\n      textarea:\r\n        \"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>\",\r\n      email:\r\n        \"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />\",\r\n      select:\r\n        \"<select class='bootbox-input bootbox-input-select form-control'></select>\",\r\n      checkbox:\r\n        \"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>\",\r\n      date:\r\n        \"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />\",\r\n      time:\r\n        \"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />\",\r\n      number:\r\n        \"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />\",\r\n      password:\r\n        \"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />\"\r\n    }\r\n  };\r\n\r\n  var defaults = {\r\n    // default language\r\n    locale: \"en\",\r\n    // show backdrop or not. Default to static so user has to interact with dialog\r\n    backdrop: \"static\",\r\n    // animate the modal in/out\r\n    animate: true,\r\n    // additional class string applied to the top level dialog\r\n    className: null,\r\n    // whether or not to include a close button\r\n    closeButton: true,\r\n    // show the dialog immediately by default\r\n    show: true,\r\n    // dialog container\r\n    container: \"body\"\r\n  };\r\n\r\n  // our public object; augmented after our private API\r\n  var exports = {};\r\n\r\n  /**\r\n   * @private\r\n   */\r\n  function _t(key) {\r\n    var locale = locales[defaults.locale];\r\n    return locale ? locale[key] : locales.en[key];\r\n  }\r\n\r\n  function processCallback(e, dialog, callback) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    // by default we assume a callback will get rid of the dialog,\r\n    // although it is given the opportunity to override this\r\n\r\n    // so, if the callback can be invoked and it *explicitly returns false*\r\n    // then we'll set a flag to keep the dialog active...\r\n    var preserveDialog = $.isFunction(callback) && callback.call(dialog, e) === false;\r\n\r\n    // ... otherwise we'll bin it\r\n    if (!preserveDialog) {\r\n      dialog.modal(\"hide\");\r\n    }\r\n  }\r\n\r\n  function getKeyLength(obj) {\r\n    // @TODO defer to Object.keys(x).length if available?\r\n    var k, t = 0;\r\n    for (k in obj) {\r\n      t ++;\r\n    }\r\n    return t;\r\n  }\r\n\r\n  function each(collection, iterator) {\r\n    var index = 0;\r\n    $.each(collection, function(key, value) {\r\n      iterator(key, value, index++);\r\n    });\r\n  }\r\n\r\n  function sanitize(options) {\r\n    var buttons;\r\n    var total;\r\n\r\n    if (typeof options !== \"object\") {\r\n      throw new Error(\"Please supply an object of options\");\r\n    }\r\n\r\n    if (!options.message) {\r\n      throw new Error(\"Please specify a message\");\r\n    }\r\n\r\n    // make sure any supplied options take precedence over defaults\r\n    options = $.extend({}, defaults, options);\r\n\r\n    if (!options.buttons) {\r\n      options.buttons = {};\r\n    }\r\n\r\n    buttons = options.buttons;\r\n\r\n    total = getKeyLength(buttons);\r\n\r\n    each(buttons, function(key, button, index) {\r\n\r\n      if ($.isFunction(button)) {\r\n        // short form, assume value is our callback. Since button\r\n        // isn't an object it isn't a reference either so re-assign it\r\n        button = buttons[key] = {\r\n          callback: button\r\n        };\r\n      }\r\n\r\n      // before any further checks make sure by now button is the correct type\r\n      if ($.type(button) !== \"object\") {\r\n        throw new Error(\"button with key \" + key + \" must be an object\");\r\n      }\r\n\r\n      if (!button.label) {\r\n        // the lack of an explicit label means we'll assume the key is good enough\r\n        button.label = key;\r\n      }\r\n\r\n      if (!button.className) {\r\n        if (total <= 2 && index === total-1) {\r\n          // always add a primary to the main option in a two-button dialog\r\n          button.className = \"btn-primary\";\r\n        } else {\r\n          button.className = \"btn-default\";\r\n        }\r\n      }\r\n    });\r\n\r\n    return options;\r\n  }\r\n\r\n  /**\r\n   * map a flexible set of arguments into a single returned object\r\n   * if args.length is already one just return it, otherwise\r\n   * use the properties argument to map the unnamed args to\r\n   * object properties\r\n   * so in the latter case:\r\n   * mapArguments([\"foo\", $.noop], [\"message\", \"callback\"])\r\n   * -> { message: \"foo\", callback: $.noop }\r\n   */\r\n  function mapArguments(args, properties) {\r\n    var argn = args.length;\r\n    var options = {};\r\n\r\n    if (argn < 1 || argn > 2) {\r\n      throw new Error(\"Invalid argument length\");\r\n    }\r\n\r\n    if (argn === 2 || typeof args[0] === \"string\") {\r\n      options[properties[0]] = args[0];\r\n      options[properties[1]] = args[1];\r\n    } else {\r\n      options = args[0];\r\n    }\r\n\r\n    return options;\r\n  }\r\n\r\n  /**\r\n   * merge a set of default dialog options with user supplied arguments\r\n   */\r\n  function mergeArguments(defaults, args, properties) {\r\n    return $.extend(\r\n      // deep merge\r\n      true,\r\n      // ensure the target is an empty, unreferenced object\r\n      {},\r\n      // the base options object for this type of dialog (often just buttons)\r\n      defaults,\r\n      // args could be an object or array; if it's an array properties will\r\n      // map it to a proper options object\r\n      mapArguments(\r\n        args,\r\n        properties\r\n      )\r\n    );\r\n  }\r\n\r\n  /**\r\n   * this entry-level method makes heavy use of composition to take a simple\r\n   * range of inputs and return valid options suitable for passing to bootbox.dialog\r\n   */\r\n  function mergeDialogOptions(className, labels, properties, args) {\r\n    //  build up a base set of dialog properties\r\n    var baseOptions = {\r\n      className: \"bootbox-\" + className,\r\n      buttons: createLabels.apply(null, labels)\r\n    };\r\n\r\n    // ensure the buttons properties generated, *after* merging\r\n    // with user args are still valid against the supplied labels\r\n    return validateButtons(\r\n      // merge the generated base properties with user supplied arguments\r\n      mergeArguments(\r\n        baseOptions,\r\n        args,\r\n        // if args.length > 1, properties specify how each arg maps to an object key\r\n        properties\r\n      ),\r\n      labels\r\n    );\r\n  }\r\n\r\n  /**\r\n   * from a given list of arguments return a suitable object of button labels\r\n   * all this does is normalise the given labels and translate them where possible\r\n   * e.g. \"ok\", \"confirm\" -> { ok: \"OK, cancel: \"Annuleren\" }\r\n   */\r\n  function createLabels() {\r\n    var buttons = {};\r\n\r\n    for (var i = 0, j = arguments.length; i < j; i++) {\r\n      var argument = arguments[i];\r\n      var key = argument.toLowerCase();\r\n      var value = argument.toUpperCase();\r\n\r\n      buttons[key] = {\r\n        label: _t(value)\r\n      };\r\n    }\r\n\r\n    return buttons;\r\n  }\r\n\r\n  function validateButtons(options, buttons) {\r\n    var allowedButtons = {};\r\n    each(buttons, function(key, value) {\r\n      allowedButtons[value] = true;\r\n    });\r\n\r\n    each(options.buttons, function(key) {\r\n      if (allowedButtons[key] === undefined) {\r\n        throw new Error(\"button key \" + key + \" is not allowed (options are \" + buttons.join(\"\\n\") + \")\");\r\n      }\r\n    });\r\n\r\n    return options;\r\n  }\r\n\r\n  exports.alert = function() {\r\n    var options;\r\n\r\n    options = mergeDialogOptions(\"alert\", [\"ok\"], [\"message\", \"callback\"], arguments);\r\n\r\n    if (options.callback && !$.isFunction(options.callback)) {\r\n      throw new Error(\"alert requires callback property to be a function when provided\");\r\n    }\r\n\r\n    /**\r\n     * overrides\r\n     */\r\n    options.buttons.ok.callback = options.onEscape = function() {\r\n      if ($.isFunction(options.callback)) {\r\n        return options.callback.call(this);\r\n      }\r\n      return true;\r\n    };\r\n\r\n    return exports.dialog(options);\r\n  };\r\n\r\n  exports.confirm = function() {\r\n    var options;\r\n\r\n    options = mergeDialogOptions(\"confirm\", [\"cancel\", \"confirm\"], [\"message\", \"callback\"], arguments);\r\n\r\n    /**\r\n     * overrides; undo anything the user tried to set they shouldn't have\r\n     */\r\n    options.buttons.cancel.callback = options.onEscape = function() {\r\n      return options.callback.call(this, false);\r\n    };\r\n\r\n    options.buttons.confirm.callback = function() {\r\n      return options.callback.call(this, true);\r\n    };\r\n\r\n    // confirm specific validation\r\n    if (!$.isFunction(options.callback)) {\r\n      throw new Error(\"confirm requires a callback\");\r\n    }\r\n\r\n    return exports.dialog(options);\r\n  };\r\n\r\n  exports.prompt = function() {\r\n    var options;\r\n    var defaults;\r\n    var dialog;\r\n    var form;\r\n    var input;\r\n    var shouldShow;\r\n    var inputOptions;\r\n\r\n    // we have to create our form first otherwise\r\n    // its value is undefined when gearing up our options\r\n    // @TODO this could be solved by allowing message to\r\n    // be a function instead...\r\n    form = $(templates.form);\r\n\r\n    // prompt defaults are more complex than others in that\r\n    // users can override more defaults\r\n    // @TODO I don't like that prompt has to do a lot of heavy\r\n    // lifting which mergeDialogOptions can *almost* support already\r\n    // just because of 'value' and 'inputType' - can we refactor?\r\n    defaults = {\r\n      className: \"bootbox-prompt\",\r\n      buttons: createLabels(\"cancel\", \"confirm\"),\r\n      value: \"\",\r\n      inputType: \"text\"\r\n    };\r\n\r\n    options = validateButtons(\r\n      mergeArguments(defaults, arguments, [\"title\", \"callback\"]),\r\n      [\"cancel\", \"confirm\"]\r\n    );\r\n\r\n    // capture the user's show value; we always set this to false before\r\n    // spawning the dialog to give us a chance to attach some handlers to\r\n    // it, but we need to make sure we respect a preference not to show it\r\n    shouldShow = (options.show === undefined) ? true : options.show;\r\n\r\n    /**\r\n     * overrides; undo anything the user tried to set they shouldn't have\r\n     */\r\n    options.message = form;\r\n\r\n    options.buttons.cancel.callback = options.onEscape = function() {\r\n      return options.callback.call(this, null);\r\n    };\r\n\r\n    options.buttons.confirm.callback = function() {\r\n      var value;\r\n\r\n      switch (options.inputType) {\r\n        case \"text\":\r\n        case \"textarea\":\r\n        case \"email\":\r\n        case \"select\":\r\n        case \"date\":\r\n        case \"time\":\r\n        case \"number\":\r\n        case \"password\":\r\n          value = input.val();\r\n          break;\r\n\r\n        case \"checkbox\":\r\n          var checkedItems = input.find(\"input:checked\");\r\n\r\n          // we assume that checkboxes are always multiple,\r\n          // hence we default to an empty array\r\n          value = [];\r\n\r\n          each(checkedItems, function(_, item) {\r\n            value.push($(item).val());\r\n          });\r\n          break;\r\n      }\r\n\r\n      return options.callback.call(this, value);\r\n    };\r\n\r\n    options.show = false;\r\n\r\n    // prompt specific validation\r\n    if (!options.title) {\r\n      throw new Error(\"prompt requires a title\");\r\n    }\r\n\r\n    if (!$.isFunction(options.callback)) {\r\n      throw new Error(\"prompt requires a callback\");\r\n    }\r\n\r\n    if (!templates.inputs[options.inputType]) {\r\n      throw new Error(\"invalid prompt type\");\r\n    }\r\n\r\n    // create the input based on the supplied type\r\n    input = $(templates.inputs[options.inputType]);\r\n\r\n    switch (options.inputType) {\r\n      case \"text\":\r\n      case \"textarea\":\r\n      case \"email\":\r\n      case \"date\":\r\n      case \"time\":\r\n      case \"number\":\r\n      case \"password\":\r\n        input.val(options.value);\r\n        break;\r\n\r\n      case \"select\":\r\n        var groups = {};\r\n        inputOptions = options.inputOptions || [];\r\n\r\n        if (!$.isArray(inputOptions)) {\r\n          throw new Error(\"Please pass an array of input options\");\r\n        }\r\n\r\n        if (!inputOptions.length) {\r\n          throw new Error(\"prompt with select requires options\");\r\n        }\r\n\r\n        each(inputOptions, function(_, option) {\r\n\r\n          // assume the element to attach to is the input...\r\n          var elem = input;\r\n\r\n          if (option.value === undefined || option.text === undefined) {\r\n            throw new Error(\"given options in wrong format\");\r\n          }\r\n\r\n          // ... but override that element if this option sits in a group\r\n\r\n          if (option.group) {\r\n            // initialise group if necessary\r\n            if (!groups[option.group]) {\r\n              groups[option.group] = $(\"<optgroup/>\").attr(\"label\", option.group);\r\n            }\r\n\r\n            elem = groups[option.group];\r\n          }\r\n\r\n          elem.append(\"<option value='\" + option.value + \"'>\" + option.text + \"</option>\");\r\n        });\r\n\r\n        each(groups, function(_, group) {\r\n          input.append(group);\r\n        });\r\n\r\n        // safe to set a select's value as per a normal input\r\n        input.val(options.value);\r\n        break;\r\n\r\n      case \"checkbox\":\r\n        var values   = $.isArray(options.value) ? options.value : [options.value];\r\n        inputOptions = options.inputOptions || [];\r\n\r\n        if (!inputOptions.length) {\r\n          throw new Error(\"prompt with checkbox requires options\");\r\n        }\r\n\r\n        if (!inputOptions[0].value || !inputOptions[0].text) {\r\n          throw new Error(\"given options in wrong format\");\r\n        }\r\n\r\n        // checkboxes have to nest within a containing element, so\r\n        // they break the rules a bit and we end up re-assigning\r\n        // our 'input' element to this container instead\r\n        input = $(\"<div/>\");\r\n\r\n        each(inputOptions, function(_, option) {\r\n          var checkbox = $(templates.inputs[options.inputType]);\r\n\r\n          checkbox.find(\"input\").attr(\"value\", option.value);\r\n          checkbox.find(\"label\").append(option.text);\r\n\r\n          // we've ensured values is an array so we can always iterate over it\r\n          each(values, function(_, value) {\r\n            if (value === option.value) {\r\n              checkbox.find(\"input\").prop(\"checked\", true);\r\n            }\r\n          });\r\n\r\n          input.append(checkbox);\r\n        });\r\n        break;\r\n    }\r\n\r\n    // @TODO provide an attributes option instead\r\n    // and simply map that as keys: vals\r\n    if (options.placeholder) {\r\n      input.attr(\"placeholder\", options.placeholder);\r\n    }\r\n\r\n    if (options.pattern) {\r\n      input.attr(\"pattern\", options.pattern);\r\n    }\r\n\r\n    if (options.maxlength) {\r\n      input.attr(\"maxlength\", options.maxlength);\r\n    }\r\n\r\n    // now place it in our form\r\n    form.append(input);\r\n\r\n    form.on(\"submit\", function(e) {\r\n      e.preventDefault();\r\n      // Fix for SammyJS (or similar JS routing library) hijacking the form post.\r\n      e.stopPropagation();\r\n      // @TODO can we actually click *the* button object instead?\r\n      // e.g. buttons.confirm.click() or similar\r\n      dialog.find(\".btn-primary\").click();\r\n    });\r\n\r\n    dialog = exports.dialog(options);\r\n\r\n    // clear the existing handler focusing the submit button...\r\n    dialog.off(\"shown.bs.modal\");\r\n\r\n    // ...and replace it with one focusing our input, if possible\r\n    dialog.on(\"shown.bs.modal\", function() {\r\n      // need the closure here since input isn't\r\n      // an object otherwise\r\n      input.focus();\r\n    });\r\n\r\n    if (shouldShow === true) {\r\n      dialog.modal(\"show\");\r\n    }\r\n\r\n    return dialog;\r\n  };\r\n\r\n  exports.dialog = function(options) {\r\n    options = sanitize(options);\r\n\r\n    var dialog = $(templates.dialog);\r\n    var innerDialog = dialog.find(\".modal-dialog\");\r\n    var body = dialog.find(\".modal-body\");\r\n    var buttons = options.buttons;\r\n    var buttonStr = \"\";\r\n    var callbacks = {\r\n      onEscape: options.onEscape\r\n    };\r\n\r\n    if ($.fn.modal === undefined) {\r\n      throw new Error(\r\n        \"$.fn.modal is not defined; please double check you have included \" +\r\n        \"the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ \" +\r\n        \"for more details.\"\r\n      );\r\n    }\r\n\r\n    each(buttons, function(key, button) {\r\n\r\n      // @TODO I don't like this string appending to itself; bit dirty. Needs reworking\r\n      // can we just build up button elements instead? slower but neater. Then button\r\n      // can just become a template too\r\n      buttonStr += \"<button data-bb-handler='\" + key + \"' type='button' class='btn \" + button.className + \"'>\" + button.label + \"</button>\";\r\n      callbacks[key] = button.callback;\r\n    });\r\n\r\n    body.find(\".bootbox-body\").html(options.message);\r\n\r\n    if (options.animate === true) {\r\n      dialog.addClass(\"fade\");\r\n    }\r\n\r\n    if (options.className) {\r\n      dialog.addClass(options.className);\r\n    }\r\n\r\n    if (options.size === \"large\") {\r\n      innerDialog.addClass(\"modal-lg\");\r\n    } else if (options.size === \"small\") {\r\n      innerDialog.addClass(\"modal-sm\");\r\n    }\r\n\r\n    if (options.title) {\r\n      body.before(templates.header);\r\n    }\r\n\r\n    if (options.closeButton) {\r\n      var closeButton = $(templates.closeButton);\r\n\r\n      if (options.title) {\r\n        dialog.find(\".modal-header\").prepend(closeButton);\r\n      } else {\r\n        closeButton.css(\"margin-top\", \"-10px\").prependTo(body);\r\n      }\r\n    }\r\n\r\n    if (options.title) {\r\n      dialog.find(\".modal-title\").html(options.title);\r\n    }\r\n\r\n    if (buttonStr.length) {\r\n      body.after(templates.footer);\r\n      dialog.find(\".modal-footer\").html(buttonStr);\r\n    }\r\n\r\n\r\n    /**\r\n     * Bootstrap event listeners; used handle extra\r\n     * setup & teardown required after the underlying\r\n     * modal has performed certain actions\r\n     */\r\n\r\n    dialog.on(\"hidden.bs.modal\", function(e) {\r\n      // ensure we don't accidentally intercept hidden events triggered\r\n      // by children of the current dialog. We shouldn't anymore now BS\r\n      // namespaces its events; but still worth doing\r\n      if (e.target === this) {\r\n        dialog.remove();\r\n      }\r\n    });\r\n\r\n    /*\r\n    dialog.on(\"show.bs.modal\", function() {\r\n      // sadly this doesn't work; show is called *just* before\r\n      // the backdrop is added so we'd need a setTimeout hack or\r\n      // otherwise... leaving in as would be nice\r\n      if (options.backdrop) {\r\n        dialog.next(\".modal-backdrop\").addClass(\"bootbox-backdrop\");\r\n      }\r\n    });\r\n    */\r\n\r\n    dialog.on(\"shown.bs.modal\", function() {\r\n      dialog.find(\".btn-primary:first\").focus();\r\n    });\r\n\r\n    /**\r\n     * Bootbox event listeners; experimental and may not last\r\n     * just an attempt to decouple some behaviours from their\r\n     * respective triggers\r\n     */\r\n\r\n    if (options.backdrop !== \"static\") {\r\n      // A boolean true/false according to the Bootstrap docs\r\n      // should show a dialog the user can dismiss by clicking on\r\n      // the background.\r\n      // We always only ever pass static/false to the actual\r\n      // $.modal function because with `true` we can't trap\r\n      // this event (the .modal-backdrop swallows it)\r\n      // However, we still want to sort of respect true\r\n      // and invoke the escape mechanism instead\r\n      dialog.on(\"click.dismiss.bs.modal\", function(e) {\r\n        // @NOTE: the target varies in >= 3.3.x releases since the modal backdrop\r\n        // moved *inside* the outer dialog rather than *alongside* it\r\n        if (dialog.children(\".modal-backdrop\").length) {\r\n          e.currentTarget = dialog.children(\".modal-backdrop\").get(0);\r\n        }\r\n\r\n        if (e.target !== e.currentTarget) {\r\n          return;\r\n        }\r\n\r\n        dialog.trigger(\"escape.close.bb\");\r\n      });\r\n    }\r\n\r\n    dialog.on(\"escape.close.bb\", function(e) {\r\n      if (callbacks.onEscape) {\r\n        processCallback(e, dialog, callbacks.onEscape);\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Standard jQuery event listeners; used to handle user\r\n     * interaction with our dialog\r\n     */\r\n\r\n    dialog.on(\"click\", \".modal-footer button\", function(e) {\r\n      var callbackKey = $(this).data(\"bb-handler\");\r\n\r\n      processCallback(e, dialog, callbacks[callbackKey]);\r\n    });\r\n\r\n    dialog.on(\"click\", \".bootbox-close-button\", function(e) {\r\n      // onEscape might be falsy but that's fine; the fact is\r\n      // if the user has managed to click the close button we\r\n      // have to close the dialog, callback or not\r\n      processCallback(e, dialog, callbacks.onEscape);\r\n    });\r\n\r\n    dialog.on(\"keyup\", function(e) {\r\n      if (e.which === 27) {\r\n        dialog.trigger(\"escape.close.bb\");\r\n      }\r\n    });\r\n\r\n    // the remainder of this method simply deals with adding our\r\n    // dialogent to the DOM, augmenting it with Bootstrap's modal\r\n    // functionality and then giving the resulting object back\r\n    // to our caller\r\n\r\n    $(options.container).append(dialog);\r\n\r\n    dialog.modal({\r\n      backdrop: options.backdrop ? \"static\": false,\r\n      keyboard: false,\r\n      show: false\r\n    });\r\n\r\n    if (options.show) {\r\n      dialog.modal(\"show\");\r\n    }\r\n\r\n    // @TODO should we return the raw element here or should\r\n    // we wrap it in an object on which we can expose some neater\r\n    // methods, e.g. var d = bootbox.alert(); d.hide(); instead\r\n    // of d.modal(\"hide\");\r\n\r\n   /*\r\n    function BBDialog(elem) {\r\n      this.elem = elem;\r\n    }\r\n\r\n    BBDialog.prototype = {\r\n      hide: function() {\r\n        return this.elem.modal(\"hide\");\r\n      },\r\n      show: function() {\r\n        return this.elem.modal(\"show\");\r\n      }\r\n    };\r\n    */\r\n\r\n    return dialog;\r\n\r\n  };\r\n\r\n  exports.setDefaults = function() {\r\n    var values = {};\r\n\r\n    if (arguments.length === 2) {\r\n      // allow passing of single key/value...\r\n      values[arguments[0]] = arguments[1];\r\n    } else {\r\n      // ... and as an object too\r\n      values = arguments[0];\r\n    }\r\n\r\n    $.extend(defaults, values);\r\n  };\r\n\r\n  exports.hideAll = function() {\r\n    $(\".bootbox\").modal(\"hide\");\r\n\r\n    return exports;\r\n  };\r\n\r\n\r\n  /**\r\n   * standard locales. Please add more according to ISO 639-1 standard. Multiple language variants are\r\n   * unlikely to be required. If this gets too large it can be split out into separate JS files.\r\n   */\r\n  var locales = {\r\n\t// ** removed all other languages\r\n\t// ** use NodeBB translations instead\r\n    en : {\r\n      OK      : \"OK\",\r\n      CANCEL  : \"Cancel\",\r\n      CONFIRM : \"OK\"\r\n    },\r\n  };\r\n\r\n  exports.addLocale = function(name, values) {\r\n    $.each([\"OK\", \"CANCEL\", \"CONFIRM\"], function(_, v) {\r\n      if (!values[v]) {\r\n        throw new Error(\"Please supply a translation for '\" + v + \"'\");\r\n      }\r\n    });\r\n\r\n    locales[name] = {\r\n      OK: values.OK,\r\n      CANCEL: values.CANCEL,\r\n      CONFIRM: values.CONFIRM\r\n    };\r\n\r\n    return exports;\r\n  };\r\n\r\n  exports.removeLocale = function(name) {\r\n    delete locales[name];\r\n\r\n    return exports;\r\n  };\r\n\r\n  exports.setLocale = function(name) {\r\n    return exports.setDefaults(\"locale\", name);\r\n  };\r\n\r\n  exports.init = function(_$) {\r\n    return init(_$ || $);\r\n  };\r\n\r\n  return exports;\r\n}));","/* global bootbox */\r\n\r\nrequire(['translator'], function (shim) {\r\n\t'use strict';\r\n\r\n\tvar translator = shim.Translator.create();\r\n\tvar dialog = bootbox.dialog;\r\n\tvar attrsToTranslate = ['placeholder', 'title', 'value'];\r\n\tbootbox.dialog = function (options) {\r\n\t\tvar show = options.show !== false;\r\n\t\toptions.show = false;\r\n\r\n\t\tvar $elem = dialog.call(bootbox, options);\r\n\t\tvar element = $elem[0];\r\n\r\n\t\tif (/\\[\\[.+\\]\\]/.test(element.outerHTML)) {\r\n\t\t\ttranslator.translateInPlace(element, attrsToTranslate).then(function () {\r\n\t\t\t\tif (show) {\r\n\t\t\t\t\t$elem.modal('show');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (show) {\r\n\t\t\t$elem.modal('show');\r\n\t\t}\r\n\r\n\t\treturn $elem;\r\n\t};\r\n\r\n\tPromise.all([\r\n\t\ttranslator.translateKey('modules:bootbox.ok', []),\r\n\t\ttranslator.translateKey('modules:bootbox.cancel', []),\r\n\t\ttranslator.translateKey('modules:bootbox.confirm', []),\r\n\t]).then(function (translations) {\r\n\t\tvar lang = shim.getLanguage();\r\n\t\tbootbox.addLocale(lang, {\r\n\t\t\tOK: translations[0],\r\n\t\t\tCANCEL: translations[1],\r\n\t\t\tCONFIRM: translations[2],\r\n\t\t});\r\n\r\n\t\tbootbox.setLocale(lang);\r\n\t});\r\n});\r\n\r\n","/*!\r\n * Tinycon - A small library for manipulating the Favicon\r\n * Tom Moor, http://tommoor.com\r\n * Copyright (c) 2015 Tom Moor\r\n * @license MIT Licensed\r\n */\r\n\r\n(function(){\r\n\r\n  var Tinycon = {};\r\n  var currentFavicon = null;\r\n  var originalFavicon = null;\r\n  var faviconImage = null;\r\n  var canvas = null;\r\n  var options = {};\r\n  // Chrome browsers with nonstandard zoom report fractional devicePixelRatio.\r\n  var r = Math.ceil(window.devicePixelRatio) || 1;\r\n  var size = 16 * r;\r\n  var defaults = {\r\n    width: 7,\r\n    height: 9,\r\n    font: 10 * r + 'px arial',\r\n    color: '#ffffff',\r\n    background: '#F03D25',\r\n    fallback: true,\r\n    crossOrigin: true,\r\n    abbreviate: true\r\n  };\r\n\r\n  var ua = (function () {\r\n    var agent = navigator.userAgent.toLowerCase();\r\n    // New function has access to 'agent' via closure\r\n    return function (browser) {\r\n      return agent.indexOf(browser) !== -1;\r\n    };\r\n  }());\r\n\r\n  var browser = {\r\n    ie: ua('trident'),\r\n    chrome: ua('chrome'),\r\n    webkit: ua('chrome') || ua('safari'),\r\n    safari: ua('safari') && !ua('chrome'),\r\n    mozilla: ua('mozilla') && !ua('chrome') && !ua('safari')\r\n  };\r\n\r\n  // private methods\r\n  var getFaviconTag = function(){\r\n\r\n    var links = document.getElementsByTagName('link');\r\n\r\n    for(var i=0, len=links.length; i < len; i++) {\r\n      if ((links[i].getAttribute('rel') || '').match(/\\bicon\\b/i)) {\r\n        return links[i];\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  var removeFaviconTag = function(){\r\n\r\n    var links = document.getElementsByTagName('link');\r\n\r\n    for(var i=0, len=links.length; i < len; i++) {\r\n      var exists = (typeof(links[i]) !== 'undefined');\r\n      if (exists && (links[i].getAttribute('rel') || '').match(/\\bicon\\b/i)) {\r\n        links[i].parentNode.removeChild(links[i]);\r\n      }\r\n    }\r\n  };\r\n\r\n  var getCurrentFavicon = function(){\r\n\r\n    if (!originalFavicon || !currentFavicon) {\r\n      var tag = getFaviconTag();\r\n      currentFavicon = tag ? tag.getAttribute('href') : '/favicon.ico';\r\n      if (!originalFavicon) {\r\n        originalFavicon = currentFavicon;\r\n      }\r\n    }\r\n\r\n    return currentFavicon;\r\n  };\r\n\r\n  var getCanvas = function (){\r\n\r\n    if (!canvas) {\r\n      canvas = document.createElement(\"canvas\");\r\n      canvas.width = size;\r\n      canvas.height = size;\r\n    }\r\n\r\n    return canvas;\r\n  };\r\n\r\n  var setFaviconTag = function(url){\r\n    if(url){\r\n      removeFaviconTag();\r\n\r\n      var link = document.createElement('link');\r\n      link.type = 'image/x-icon';\r\n      link.rel = 'icon';\r\n      link.href = url;\r\n      document.getElementsByTagName('head')[0].appendChild(link);\r\n    }\r\n  };\r\n\r\n  var log = function(message){\r\n    if (window.console) window.console.log(message);\r\n  };\r\n\r\n  var drawFavicon = function(label, color) {\r\n\r\n    // fallback to updating the browser title if unsupported\r\n    if (!getCanvas().getContext || browser.ie || browser.safari || options.fallback === 'force') {\r\n      return updateTitle(label);\r\n    }\r\n\r\n    var context = getCanvas().getContext(\"2d\");\r\n    var color = color || '#000000';\r\n    var src = getCurrentFavicon();\r\n\r\n    faviconImage = document.createElement('img');\r\n    faviconImage.onload = function() {\r\n\r\n      // clear canvas\r\n      context.clearRect(0, 0, size, size);\r\n\r\n      // draw the favicon\r\n      context.drawImage(faviconImage, 0, 0, faviconImage.width, faviconImage.height, 0, 0, size, size);\r\n\r\n      // draw bubble over the top\r\n      if ((label + '').length > 0) drawBubble(context, label, color);\r\n\r\n      // refresh tag in page\r\n      refreshFavicon();\r\n    };\r\n\r\n    // allow cross origin resource requests if the image is not a data:uri\r\n    // as detailed here: https://github.com/mrdoob/three.js/issues/1305\r\n    if (!src.match(/^data/) && options.crossOrigin) {\r\n      faviconImage.crossOrigin = 'anonymous';\r\n    }\r\n\r\n    faviconImage.src = src;\r\n  };\r\n\r\n  var updateTitle = function(label) {\r\n\r\n    if (options.fallback) {\r\n      // Grab the current title that we can prefix with the label\r\n      var originalTitle = document.title;\r\n\r\n      // Strip out the old label if there is one\r\n      if (originalTitle[0] === '(') {\r\n        originalTitle = originalTitle.slice(originalTitle.indexOf(' '));\r\n      }\r\n\r\n      if ((label + '').length > 0) {\r\n        document.title = '(' + label + ') ' + originalTitle;\r\n      } else {\r\n        document.title = originalTitle;\r\n      }\r\n    }\r\n  };\r\n\r\n  var drawBubble = function(context, label, color) {\r\n\r\n    // automatic abbreviation for long (>2 digits) numbers\r\n    if (typeof label == 'number' && label > 99 && options.abbreviate) {\r\n      label = abbreviateNumber(label);\r\n    }\r\n\r\n    // bubble needs to be larger for double digits\r\n    var len = (label + '').length-1;\r\n\r\n    var width = options.width * r + (6 * r * len),\r\n      height = options.height * r;\r\n\r\n    var top = size - height,\r\n            left = size - width - r,\r\n            bottom = 16 * r,\r\n            right = 16 * r,\r\n            radius = 2 * r;\r\n\r\n    // webkit seems to render fonts lighter than firefox\r\n    context.font = (browser.webkit ? 'bold ' : '') + options.font;\r\n    context.fillStyle = options.background;\r\n    context.strokeStyle = options.background;\r\n    context.lineWidth = r;\r\n\r\n    // bubble\r\n    context.beginPath();\r\n    context.moveTo(left + radius, top);\r\n    context.quadraticCurveTo(left, top, left, top + radius);\r\n    context.lineTo(left, bottom - radius);\r\n    context.quadraticCurveTo(left, bottom, left + radius, bottom);\r\n    context.lineTo(right - radius, bottom);\r\n    context.quadraticCurveTo(right, bottom, right, bottom - radius);\r\n    context.lineTo(right, top + radius);\r\n    context.quadraticCurveTo(right, top, right - radius, top);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom shadow\r\n    context.beginPath();\r\n    context.strokeStyle = \"rgba(0,0,0,0.3)\";\r\n    context.moveTo(left + radius / 2.0, bottom);\r\n    context.lineTo(right - radius / 2.0, bottom);\r\n    context.stroke();\r\n\r\n    // label\r\n    context.fillStyle = options.color;\r\n    context.textAlign = \"right\";\r\n    context.textBaseline = \"top\";\r\n\r\n    // unfortunately webkit/mozilla are a pixel different in text positioning\r\n    context.fillText(label, r === 2 ? 29 : 15, browser.mozilla ? 7*r : 6*r);\r\n  };\r\n\r\n  var refreshFavicon = function(){\r\n    // check support\r\n    if (!getCanvas().getContext) return;\r\n\r\n    setFaviconTag(getCanvas().toDataURL());\r\n  };\r\n\r\n  var abbreviateNumber = function(label) {\r\n    var metricPrefixes = [\r\n      ['G', 1000000000],\r\n      ['M',    1000000],\r\n      ['k',       1000]\r\n    ];\r\n\r\n    for(var i = 0; i < metricPrefixes.length; ++i) {\r\n      if (label >= metricPrefixes[i][1]) {\r\n        label = round(label / metricPrefixes[i][1]) + metricPrefixes[i][0];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return label;\r\n  };\r\n\r\n  var round = function (value, precision) {\r\n    var number = new Number(value);\r\n    return number.toFixed(precision);\r\n  };\r\n\r\n  // public methods\r\n  Tinycon.setOptions = function(custom){\r\n    options = {};\r\n\r\n    // account for deprecated UK English spelling\r\n    if (custom.colour) {\r\n      custom.color = custom.colour;\r\n    }\r\n\r\n    for(var key in defaults){\r\n      options[key] = custom.hasOwnProperty(key) ? custom[key] : defaults[key];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  Tinycon.setImage = function(url){\r\n    currentFavicon = url;\r\n    refreshFavicon();\r\n    return this;\r\n  };\r\n\r\n  Tinycon.setBubble = function(label, color) {\r\n    label = label || '';\r\n    drawFavicon(label, color);\r\n    return this;\r\n  };\r\n\r\n  Tinycon.reset = function(){\r\n    currentFavicon = originalFavicon;\r\n    setFaviconTag(originalFavicon);\r\n  };\r\n\r\n  Tinycon.setOptions(defaults);\r\n\r\n  window.Tinycon = Tinycon;\r\n\r\n})();\r\n","//XRegExp 3.0.0-pre-20120914 <xregexp.com> MIT License\r\nvar XRegExp=function(p){function A(a,b,d){var c;if(d)if(a.__proto__)a.__proto__=e.prototype;else for(c in e.prototype)a[c]=e.prototype[c];a[g]={captureNames:b};return a}function w(a){return j.replace.call(a,/([\\s\\S])(?=[\\s\\S]*\\1)/g,\"\")}function s(a,b){if(!e.isRegExp(a))throw new TypeError(\"Type RegExp expected\");var d=j.exec.call(/\\/([a-z]*)$/i,String(a))[1],b=b||{};b.add&&(d=w(d+b.add));b.remove&&(d=j.replace.call(d,RegExp(\"[\"+b.remove+\"]+\",\"g\"),\"\"));return a=A(RegExp(a.source,d),a[g]&&a[g].captureNames?\r\na[g].captureNames.slice(0):null,b.addProto)}function t(a,b){if(Array.prototype.indexOf)return a.indexOf(b);var d=a.length,c;for(c=0;c<d;++c)if(a[c]===b)return c;return-1}function u(a,b){return B.call(a)===\"[object \"+b+\"]\"}function C(a,b,d){return j.test.call(-1<d.indexOf(\"x\")?/^(?:\\s+|#.*|\\(\\?#[^)]*\\))*(?:[?*+]|{\\d+(?:,\\d*)?})/:/^(?:\\(\\?#[^)]*\\))*(?:[?*+]|{\\d+(?:,\\d*)?})/,a.slice(b))}function D(a){a=a||{};u(a,\"String\")&&(a=e.forEach(a,/[^\\s,]+/,function(a){this[a]=!0},{}));return a}function E(a){if(!/^[\\w$]$/.test(a))throw Error(\"Flag must be a single character A-Za-z0-9_$\");\r\nF[a]=!0}function G(a){RegExp.prototype.exec=(a?l:j).exec;RegExp.prototype.test=(a?l:j).test;String.prototype.match=(a?l:j).match;String.prototype.replace=(a?l:j).replace;String.prototype.split=(a?l:j).split;o.natives=a}function q(a){if(null==a)throw new TypeError(\"Cannot convert null or undefined to object\");return a}var g=\"xregexp\",e,o={astral:!1,natives:!1},j={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},\r\nl={},x={},v={},y=[],H={\"default\":/\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\\d*|x[\\dA-Fa-f]{2}|u[\\dA-Fa-f]{4}|c[A-Za-z]|[\\s\\S])|\\(\\?[:=!]|[?*+]\\?|{\\d+(?:,\\d*)?}\\??|[\\s\\S]/,\"class\":/\\\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\\dA-Fa-f]{2}|u[\\dA-Fa-f]{4}|c[A-Za-z]|[\\s\\S])|[\\s\\S]/},I=/\\$(?:{([\\w$]+)}|(\\d\\d?|[\\s\\S]))/g,J=j.exec.call(/()??/,\"\")[1]===p,z=RegExp.prototype.sticky!==p,F={g:!0,i:!0,m:!0,y:z},B={}.toString,n;e=function(a,b){var d={hasNamedCapture:!1,captureNames:[]},c=\"default\",f=\"\",i=0,h,k;if(e.isRegExp(a)){if(b!==\r\np)throw new TypeError(\"Cannot supply flags when copying a RegExp\");return s(a,{addProto:!0})}a=a===p?\"\":String(a);b=b===p?\"\":String(b);k=a+\"/\"+b;if(!v[k]){h=a;var g=b,m;if(w(g)!==g)throw new SyntaxError(\"Invalid duplicate regex flag \"+g);h=j.replace.call(h,/^\\(\\?([\\w$]+)\\)/,function(a,b){if(j.test.call(/[gy]/,b))throw new SyntaxError(\"Cannot use flag g or y in mode modifier \"+a);g=w(g+b);return\"\"});for(m=0;m<g.length;++m)if(!F[g.charAt(m)])throw new SyntaxError(\"Unknown regex flag \"+g.charAt(m));\r\nh={pattern:h,flags:g};a=h.pattern;for(b=h.flags;i<a.length;){do{h=a;m=b;for(var l=i,n=c,o=d,q=y.length,t=null,u=void 0,r=void 0;q--;)if(r=y[q],(r.scope===n||\"all\"===r.scope)&&(!r.flag||-1<m.indexOf(r.flag)))if(u=e.exec(h,r.regex,l,\"sticky\")){t={matchLength:u[0].length,output:r.handler.call(o,u,n,m),reparse:r.reparse};break}(h=t)&&h.reparse&&(a=a.slice(0,i)+h.output+a.slice(i+h.matchLength))}while(h&&h.reparse);h?(f+=h.output,i+=h.matchLength||1):(h=e.exec(a,H[c],i,\"sticky\")[0],f+=h,i+=h.length,\"[\"===\r\nh&&\"default\"===c?c=\"class\":\"]\"===h&&\"class\"===c&&(c=\"default\"))}v[k]={pattern:j.replace.call(f,/\\(\\?:\\)(?=\\(\\?:\\))|^\\(\\?:\\)|\\(\\?:\\)$/g,\"\"),flags:j.replace.call(b,/[^gimy]+/g,\"\"),captures:d.hasNamedCapture?d.captureNames:null}}k=v[k];return A(RegExp(k.pattern,k.flags),k.captures,!0)};e.prototype=RegExp();e.version=\"3.0.0-pre\";e.addToken=function(a,b,d){var d=d||{},c=d.optionalFlags,f;d.flag&&E(d.flag);if(c){c=j.split.call(c,\"\");for(f=0;f<c.length;++f)E(c[f])}y.push({regex:s(a,{add:\"g\"+(z?\"y\":\"\")}),\r\nhandler:b,scope:d.scope||\"default\",flag:d.flag,reparse:d.reparse});e.cache.flush(\"patterns\")};e.cache=function(a,b){var d=a+\"/\"+(b||\"\");return x[d]||(x[d]=e(a,b))};e.cache.flush=function(a){\"patterns\"===a?v={}:x={}};e.escape=function(a){return j.replace.call(q(a),/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\")};e.exec=function(a,b,d,c){var f=\"g\";if(z&&(c||b.sticky&&!1!==c))f+=\"y\";b[g]=b[g]||{captureNames:null};f=b[g][f]||(b[g][f]=s(b,{add:f,remove:!1===c?\"y\":\"\"}));f.lastIndex=d=d||0;a=l.exec.call(f,a);c&&(a&&\r\na.index!==d)&&(a=null);b.global&&(b.lastIndex=a?f.lastIndex:0);return a};e.forEach=function(a,b,d,c){for(var f=0,i=-1;f=e.exec(a,b,f);)d.call(c,f,++i,a,b),f=f.index+(f[0].length||1);return c};e.globalize=function(a){return s(a,{add:\"g\",addProto:!0})};e.install=function(a){a=D(a);!o.astral&&a.astral&&(e.cache.flush(\"patterns\"),o.astral=!0);!o.natives&&a.natives&&G(!0)};e.isInstalled=function(a){return!!o[a]};e.isRegExp=function(a){return\"[object RegExp]\"===B.call(a)};e.match=function(a,b,d){var c=\r\nb.global&&\"one\"!==d||\"all\"===d,f=(c?\"g\":\"\")+(b.sticky?\"y\":\"\");b[g]=b[g]||{captureNames:null};f=b[g][f||\"noGY\"]||(b[g][f||\"noGY\"]=s(b,{add:f,remove:\"one\"===d?\"g\":\"\"}));a=j.match.call(q(a),f);b.global&&(b.lastIndex=\"one\"===d&&a?a.index+a[0].length:0);return c?a||[]:a&&a[0]};e.matchChain=function(a,b){return function c(a,i){var h=b[i].regex?b[i]:{regex:b[i]},k=[],g=function(a){if(h.backref){if(!(a.hasOwnProperty(h.backref)||+h.backref<a.length))throw new ReferenceError(\"Backreference to undefined group: \"+\r\nh.backref);k.push(a[h.backref]||\"\")}else k.push(a[0])},m;for(m=0;m<a.length;++m)e.forEach(a[m],h.regex,g);return i===b.length-1||!k.length?k:c(k,i+1)}([a],0)};e.replace=function(a,b,d,c){var f=e.isRegExp(b),i=b.global&&\"one\"!==c||\"all\"===c,h=(i?\"g\":\"\")+(b.sticky?\"y\":\"\"),k=b;f?(b[g]=b[g]||{captureNames:null},k=b[g][h||\"noGY\"]||(b[g][h||\"noGY\"]=s(b,{add:h,remove:\"one\"===c?\"g\":\"\"}))):i&&(k=RegExp(e.escape(String(b)),\"g\"));a=l.replace.call(q(a),k,d);f&&b.global&&(b.lastIndex=0);return a};e.replaceEach=\r\nfunction(a,b){var d,c;for(d=0;d<b.length;++d)c=b[d],a=e.replace(a,c[0],c[1],c[2]);return a};e.split=function(a,b,d){return l.split.call(q(a),b,d)};e.test=function(a,b,d,c){return!!e.exec(a,b,d,c)};e.uninstall=function(a){a=D(a);o.astral&&a.astral&&(e.cache.flush(\"patterns\"),o.astral=!1);o.natives&&a.natives&&G(!1)};e.union=function(a,b){var d=/(\\()(?!\\?)|\\\\([1-9]\\d*)|\\\\[\\s\\S]|\\[(?:[^\\\\\\]]|\\\\[\\s\\S])*]/g,c=[],f=0,i,h,k,l=function(a,b,d){var c=h[f-i];if(b){if(++f,c)return\"(?<\"+c+\">\"}else if(d)return\"\\\\\"+\r\n(+d+i);return a},m;if(!u(a,\"Array\")||!a.length)throw new TypeError(\"Must provide a nonempty array of patterns to merge\");for(m=0;m<a.length;++m)k=a[m],e.isRegExp(k)?(i=f,h=k[g]&&k[g].captureNames||[],c.push(j.replace.call(e(k.source).source,d,l))):c.push(e.escape(k));return e(c.join(\"|\"),b)};l.exec=function(a){var b=this.lastIndex,d=j.exec.apply(this,arguments),c,f;if(d){!J&&(1<d.length&&-1<t(d,\"\"))&&(c=s(this,{remove:\"g\"}),j.replace.call(String(a).slice(d.index),c,function(){var a=arguments.length,\r\nb;for(b=1;b<a-2;++b)arguments[b]===p&&(d[b]=p)}));if(this[g]&&this[g].captureNames)for(f=1;f<d.length;++f)(c=this[g].captureNames[f-1])&&(d[c]=d[f]);this.global&&(!d[0].length&&this.lastIndex>d.index)&&(this.lastIndex=d.index)}this.global||(this.lastIndex=b);return d};l.test=function(a){return!!l.exec.call(this,a)};l.match=function(a){var b;if(e.isRegExp(a)){if(a.global)return b=j.match.apply(this,arguments),a.lastIndex=0,b}else a=RegExp(a);return l.exec.call(a,q(this))};l.replace=function(a,b){var d=\r\ne.isRegExp(a),c,f,i;d?(a[g]&&(f=a[g].captureNames),c=a.lastIndex):a+=\"\";i=u(b,\"Function\")?j.replace.call(String(this),a,function(){var c=arguments,e;if(f){c[0]=new String(c[0]);for(e=0;e<f.length;++e)f[e]&&(c[0][f[e]]=c[e+1])}if(d&&a.global)a.lastIndex=c[c.length-2]+c[0].length;return b.apply(p,c)}):j.replace.call(null==this?this:String(this),a,function(){var a=arguments;return j.replace.call(String(b),I,function(b,d,c){if(d){c=+d;if(c<=a.length-3)return a[c]||\"\";c=f?t(f,d):-1;if(c<0)throw new SyntaxError(\"Backreference to undefined group \"+\r\nb);return a[c+1]||\"\"}if(c===\"$\")return\"$\";if(c===\"&\"||+c===0)return a[0];if(c===\"`\")return a[a.length-1].slice(0,a[a.length-2]);if(c===\"'\")return a[a.length-1].slice(a[a.length-2]+a[0].length);c=+c;if(!isNaN(c)){if(c>a.length-3)throw new SyntaxError(\"Backreference to undefined group \"+b);return a[c]||\"\"}throw new SyntaxError(\"Invalid token \"+b);})});d&&(a.lastIndex=a.global?0:c);return i};l.split=function(a,b){if(!e.isRegExp(a))return j.split.apply(this,arguments);var d=String(this),c=[],f=a.lastIndex,\r\ng=0,h,b=(b===p?-1:b)>>>0;e.forEach(d,a,function(a){a.index+a[0].length>g&&(c.push(d.slice(g,a.index)),1<a.length&&a.index<d.length&&Array.prototype.push.apply(c,a.slice(1)),h=a[0].length,g=a.index+h)});g===d.length?(!j.test.call(a,\"\")||h)&&c.push(\"\"):c.push(d.slice(g));a.lastIndex=f;return c.length>b?c.slice(0,b):c};n=e.addToken;n(/\\\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\\dA-Fa-f]{4})|x(?![\\dA-Fa-f]{2}))/,function(a,b){if(\"B\"===a[1]&&\"default\"===b)return a[0];throw new SyntaxError(\"Invalid escape \"+\r\na[0]);},{scope:\"all\"});n(/\\[(\\^?)]/,function(a){return a[1]?\"[\\\\s\\\\S]\":\"\\\\b\\\\B\"});n(/\\(\\?#[^)]*\\)/,function(a,b,d){return C(a.input,a.index+a[0].length,d)?\"\":\"(?:)\"});n(/\\s+|#.*/,function(a,b,d){return C(a.input,a.index+a[0].length,d)?\"\":\"(?:)\"},{flag:\"x\"});n(/\\./,function(){return\"[\\\\s\\\\S]\"},{flag:\"s\"});n(/\\\\k<([\\w$]+)>/,function(a){var b=isNaN(a[1])?t(this.captureNames,a[1])+1:+a[1],d=a.index+a[0].length;if(!b||b>this.captureNames.length)throw new SyntaxError(\"Backreference to undefined group \"+\r\na[0]);return\"\\\\\"+b+(d===a.input.length||isNaN(a.input.charAt(d))?\"\":\"(?:)\")});n(/\\\\(\\d+)/,function(a,b){if(!(\"default\"===b&&/^[1-9]/.test(a[1])&&+a[1]<=this.captureNames.length)&&\"0\"!==a[1])throw new SyntaxError(\"Cannot use octal escape or backreference to undefined group \"+a[0]);return a[0]},{scope:\"all\"});n(/\\(\\?P?<([\\w$]+)>/,function(a){if(!isNaN(a[1]))throw new SyntaxError(\"Cannot use integer as capture name \"+a[0]);if(\"length\"===a[1]||\"__proto__\"===a[1])throw new SyntaxError(\"Cannot use reserved word as capture name \"+\r\na[0]);if(-1<t(this.captureNames,a[1]))throw new SyntaxError(\"Cannot use same name for multiple groups \"+a[0]);this.captureNames.push(a[1]);this.hasNamedCapture=!0;return\"(\"});n(/\\((?!\\?)/,function(a,b,d){if(-1<d.indexOf(\"n\"))return\"(?:\";this.captureNames.push(null);return\"(\"},{optionalFlags:\"n\"});return e}();","/*!\r\n * XRegExp Unicode Base 3.0.0-pre\r\n * <http://xregexp.com/>\r\n * Steven Levithan  2008-2012 MIT License\r\n * Uses Unicode 6.2.0 <http://unicode.org/>\r\n * Unicode data generated by Mathias Bynens <http://mathiasbynens.be/>\r\n */\r\n\r\n/**\r\n * Adds support for the `\\p{L}` or `\\p{Letter}` Unicode category. Addon packages for other Unicode\r\n * categories, scripts, blocks, and properties are available separately. Also adds flag A (astral),\r\n * which enables 21-bit Unicode support. All Unicode tokens can be inverted using `\\P{..}` or\r\n * `\\p{^..}`. Token names ignore case, spaces, hyphens, and underscores.\r\n * @requires XRegExp\r\n */\r\n(function(XRegExp) {\r\n    'use strict';\r\n\r\n// Storage for Unicode data\r\n    var unicode = {};\r\n\r\n/* ==============================\r\n * Private functions\r\n * ============================== */\r\n\r\n// Generates a token lookup name: lowercase, with hyphens, spaces, and underscores removed\r\n    function normalize(name) {\r\n        return name.replace(/[- _]+/g, '').toLowerCase();\r\n    }\r\n\r\n// Adds leading zeros if shorter than four characters\r\n    function pad4(str) {\r\n        while (str.length < 4) {\r\n            str = '0' + str;\r\n        }\r\n        return str;\r\n    }\r\n\r\n// Converts a hexadecimal number to decimal\r\n    function dec(hex) {\r\n        return parseInt(hex, 16);\r\n    }\r\n\r\n// Converts a decimal number to hexadecimal\r\n    function hex(dec) {\r\n        return parseInt(dec, 10).toString(16);\r\n    }\r\n\r\n// Gets the decimal code of a literal code unit, \\xHH, \\uHHHH, or a backslash-escaped literal\r\n    function charCode(chr) {\r\n        var esc = /^\\\\[xu](.+)/.exec(chr);\r\n        return esc ?\r\n            dec(esc[1]) :\r\n            chr.charCodeAt(chr.charAt(0) === '\\\\' ? 1 : 0);\r\n    }\r\n\r\n// Inverts a list of ordered BMP characters and ranges\r\n    function invertBmp(range) {\r\n        var output = '',\r\n            lastEnd = -1,\r\n            start;\r\n        XRegExp.forEach(range, /(\\\\x..|\\\\u....|\\\\?[\\s\\S])(?:-(\\\\x..|\\\\u....|\\\\?[\\s\\S]))?/, function(m) {\r\n            start = charCode(m[1]);\r\n            if (start > (lastEnd + 1)) {\r\n                output += '\\\\u' + pad4(hex(lastEnd + 1));\r\n                if (start > (lastEnd + 2)) {\r\n                    output += '-\\\\u' + pad4(hex(start - 1));\r\n                }\r\n            }\r\n            lastEnd = charCode(m[2] || m[1]);\r\n        });\r\n        if (lastEnd < 0xFFFF) {\r\n            output += '\\\\u' + pad4(hex(lastEnd + 1));\r\n            if (lastEnd < 0xFFFE) {\r\n                output += '-\\\\uFFFF';\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\n// Generates an inverted BMP range on first use\r\n    function cacheInvertedBmp(slug) {\r\n        var prop = 'b!';\r\n        return unicode[slug][prop] || (\r\n            unicode[slug][prop] = invertBmp(unicode[slug].bmp)\r\n        );\r\n    }\r\n\r\n// Combines and optionally negates BMP and astral data\r\n    function buildAstral(slug, isNegated) {\r\n        var item = unicode[slug],\r\n            combined = '';\r\n        if (item.bmp && !item.isBmpLast) {\r\n            combined = '[' + item.bmp + ']' + (item.astral ? '|' : '');\r\n        }\r\n        if (item.astral) {\r\n            combined += item.astral;\r\n        }\r\n        if (item.isBmpLast && item.bmp) {\r\n            combined += (item.astral ? '|' : '') + '[' + item.bmp + ']';\r\n        }\r\n        // Astral Unicode tokens always match a code point, never a code unit\r\n        return isNegated ?\r\n            '(?:(?!' + combined + ')(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\0-\\uFFFF]))' :\r\n            '(?:' + combined + ')';\r\n    }\r\n\r\n// Builds a complete astral pattern on first use\r\n    function cacheAstral(slug, isNegated) {\r\n        var prop = isNegated ? 'a!' : 'a=';\r\n        return unicode[slug][prop] || (\r\n            unicode[slug][prop] = buildAstral(slug, isNegated)\r\n        );\r\n    }\r\n\r\n/* ==============================\r\n * Core functionality\r\n * ============================== */\r\n\r\n/* Add Unicode token syntax: \\p{..}, \\P{..}, \\p{^..}. Also add astral mode (flag A).\r\n */\r\n    XRegExp.addToken(\r\n        // Use `*` instead of `+` to avoid capturing `^` as the token name in `\\p{^}`\r\n        /\\\\([pP])(?:{(\\^?)([^}]*)}|([A-Za-z]))/,\r\n        function(match, scope, flags) {\r\n            var ERR_DOUBLE_NEG = 'Invalid double negation ',\r\n                ERR_UNKNOWN_NAME = 'Unknown Unicode token ',\r\n                ERR_UNKNOWN_REF = 'Unicode token missing data ',\r\n                ERR_ASTRAL_ONLY = 'Astral mode required for Unicode token ',\r\n                ERR_ASTRAL_IN_CLASS = 'Astral mode does not support Unicode tokens within character classes',\r\n                // Negated via \\P{..} or \\p{^..}\r\n                isNegated = match[1] === 'P' || !!match[2],\r\n                // Switch from BMP (U+FFFF) to astral (U+10FFFF) mode via flag A or implicit opt-in\r\n                isAstralMode = flags.indexOf('A') > -1 || XRegExp.isInstalled('astral'),\r\n                // Token lookup name. Check `[4]` first to avoid passing `undefined` via `\\p{}`\r\n                slug = normalize(match[4] || match[3]),\r\n                // Token data object\r\n                item = unicode[slug];\r\n\r\n            if (match[1] === 'P' && match[2]) {\r\n                throw new SyntaxError(ERR_DOUBLE_NEG + match[0]);\r\n            }\r\n            if (!unicode.hasOwnProperty(slug)) {\r\n                throw new SyntaxError(ERR_UNKNOWN_NAME + match[0]);\r\n            }\r\n\r\n            // Switch to the negated form of the referenced Unicode token\r\n            if (item.inverseOf) {\r\n                slug = normalize(item.inverseOf);\r\n                if (!unicode.hasOwnProperty(slug)) {\r\n                    throw new ReferenceError(ERR_UNKNOWN_REF + match[0] + ' -> ' + item.inverseOf);\r\n                }\r\n                item = unicode[slug];\r\n                isNegated = !isNegated;\r\n            }\r\n\r\n            if (!(item.bmp || isAstralMode)) {\r\n                throw new SyntaxError(ERR_ASTRAL_ONLY + match[0]);\r\n            }\r\n            if (isAstralMode) {\r\n                if (scope === 'class') {\r\n                    throw new SyntaxError(ERR_ASTRAL_IN_CLASS);\r\n                }\r\n\r\n                return cacheAstral(slug, isNegated);\r\n            }\r\n\r\n            return scope === 'class' ?\r\n                (isNegated ? cacheInvertedBmp(slug) : item.bmp) :\r\n                (isNegated ? '[^' : '[') + item.bmp + ']';\r\n        },\r\n        {\r\n            scope: 'all',\r\n            optionalFlags: 'A'\r\n        }\r\n    );\r\n\r\n/**\r\n * Adds to the list of Unicode tokens that XRegExp regexes can match via `\\p` or `\\P`.\r\n * @memberOf XRegExp\r\n * @param {Array} data Objects with named character ranges. Each object may have properties `name`,\r\n *   `alias`, `isBmpLast`, `inverseOf`, `bmp`, and `astral`. All but `name` are optional, although\r\n *   one of `bmp` or `astral` is required (unless `inverseOf` is set). If `astral` is absent, the\r\n *   `bmp` data is used for BMP and astral modes. If `bmp` is absent, the name errors in BMP mode\r\n *   but works in astral mode. If both `bmp` and `astral` are provided, the `bmp` data only is used\r\n *   in BMP mode, and the combination of `bmp` and `astral` data is used in astral mode.\r\n *   `isBmpLast` is needed when a token matches orphan high surrogates *and* uses surrogate pairs\r\n *   to match astral code points. The `bmp` and `astral` data should be a combination of literal\r\n *   characters and `\\xHH` or `\\uHHHH` escape sequences, with hyphens to create ranges. Any regex\r\n *   metacharacters in the data should be escaped, apart from range-creating hyphens. The `astral`\r\n *   data can additionally use character classes and alternation, and should use surrogate pairs to\r\n *   represent astral code points. `inverseOf` can be used to avoid duplicating character data if a\r\n *   Unicode token is defined as the exact inverse of another token.\r\n * @example\r\n *\r\n * // Basic use\r\n * XRegExp.addUnicodeData([{\r\n *   name: 'XDigit',\r\n *   alias: 'Hexadecimal',\r\n *   bmp: '0-9A-Fa-f'\r\n * }]);\r\n * XRegExp('\\\\p{XDigit}:\\\\p{Hexadecimal}+').test('0:3D'); // -> true\r\n */\r\n    XRegExp.addUnicodeData = function(data) {\r\n        var ERR_NO_NAME = 'Unicode token requires name',\r\n            ERR_NO_DATA = 'Unicode token has no character data ',\r\n            item,\r\n            i;\r\n\r\n        for (i = 0; i < data.length; ++i) {\r\n            item = data[i];\r\n            if (!item.name) {\r\n                throw new Error(ERR_NO_NAME);\r\n            }\r\n            if (!(item.inverseOf || item.bmp || item.astral)) {\r\n                throw new Error(ERR_NO_DATA + item.name);\r\n            }\r\n            unicode[normalize(item.name)] = item;\r\n            if (item.alias) {\r\n                unicode[normalize(item.alias)] = item;\r\n            }\r\n        }\r\n\r\n        // Reset the pattern cache used by the `XRegExp` constructor, since the same pattern and\r\n        // flags might now produce different results\r\n        XRegExp.cache.flush('patterns');\r\n    };\r\n\r\n/* Add data for the Unicode `L` or `Letter` category. Separate addons are available that add other\r\n * categories, scripts, blocks, and properties.\r\n */\r\n    XRegExp.addUnicodeData([{\r\n        name: 'L',\r\n        alias: 'Letter',\r\n        bmp: 'A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC',\r\n        astral: '\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72]|\\uD801[\\uDC00-\\uDC9D]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1E\\uDF30-\\uDF40\\uDF42-\\uDF49\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD81A[\\uDC00-\\uDE38]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD83-\\uDDB2\\uDDC1-\\uDDC4]|\\uD86E[\\uDC00-\\uDC1D]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD803[\\uDC00-\\uDC48]|\\uD80D[\\uDC00-\\uDC2E]|\\uD805[\\uDE80-\\uDEAA]|\\uD87E[\\uDC00-\\uDE1D]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD82C[\\uDC00\\uDC01]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C][\\uDC00-\\uDFFF]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD808[\\uDC00-\\uDF6E]'\r\n    }]);\r\n\r\n}(XRegExp));\r\n","(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    define('benchpress', factory);\n  }\n})(function () {\n  var runtime = function () {\n    'use strict';\n\n    /**\n     * Convert null and undefined values to empty strings\n     * @param {any} value\n     * @returns {string}\n     */\n\n    function guard(value) {\n      return value == null || Array.isArray(value) && value.length === 0 ? '' : value;\n    }\n\n    /**\n     * Iterate over an object or array\n     * @param {string[]} obj - Iteratee object / array\n     * @param {function} each - Callback to execute on each item\n     * @return {string}\n     */\n    function iter(obj, each) {\n      if (!obj || typeof obj !== 'object') {\n        return '';\n      }\n\n      var output = '';\n      var keys = Object.keys(obj);\n      var length = keys.length;\n\n      for (var i = 0; i < length; i += 1) {\n        output += each(keys[i], i, length);\n      }\n\n      return output;\n    }\n\n    /**\n     * Execute a helper\n     * @param {object} context - Base data object\n     * @param {object} helpers - Map of helper functions\n     * @param {string} helperName - Name of helper to execute\n     * @param {any[]} args - Array of arguments\n     * @returns {string}\n     */\n    function helper(context, helpers, helperName, args) {\n      if (typeof helpers[helperName] !== 'function') {\n        return '';\n      }\n      try {\n        var out = helpers[helperName].apply(context, args);\n        return out || '';\n      } catch (e) {\n        return '';\n      }\n    }\n\n    /**\n     * Run a compiled template function\n     * @param {object} helpers - Map of helper functions\n     * @param {object} context - Base data object\n     * @param {function} templateFunction - Compiled template function\n     * @returns {string}\n     */\n    function runtime(helpers, context, templateFunction) {\n      return guard(templateFunction(helpers, context, guard, iter, helper)).toString();\n    }\n\n    // polyfill for Promise.try\n    if (typeof Promise.try !== 'function') {\n      Promise.try = {\n        try: function _try(fn) {\n          return new Promise(function (resolve) {\n            return resolve(fn());\n          });\n        }\n      }.try;\n    }\n\n    return runtime;\n  }();\n\n  'use strict';\n\n  /** @exports Benchpress */\n  var Benchpress = typeof module === 'object' && module.exports ? module.exports : {};\n\n  Benchpress.runtime = runtime;\n\n  Benchpress.helpers = {};\n\n  /**\n   * Register a helper function\n   * @param {string} name - Helper name\n   * @param {function} fn - Helper function\n   */\n  Benchpress.registerHelper = function registerHelper(name, fn) {\n    Benchpress.helpers[name] = fn;\n  };\n\n  // add default escape function for escaping HTML entities\n  var escapeCharMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n  var replaceChar = function replaceChar(c) {\n    return escapeCharMap[c];\n  };\n  var escapeChars = /[&<>\"'`=]/g;\n\n  Benchpress.registerHelper('__escape', function (str) {\n    if (str == null) {\n      return '';\n    }\n    if (!str) {\n      return String(str);\n    }\n\n    return str.toString().replace(escapeChars, replaceChar);\n  });\n\n  Benchpress.cache = {};\n\n  Benchpress.globals = {};\n\n  /**\n   * Set a global data value\n   * @param {string} key - Property key\n   * @param {Object} value - Property value\n   */\n  Benchpress.setGlobal = function setGlobal(key, value) {\n    Benchpress.globals[key] = value;\n  };\n\n  var assign = Object.assign || jQuery.extend; // eslint-disable-line\n\n  /**\n   * @private\n   */\n  Benchpress.addGlobals = function addGlobals(data) {\n    return assign({}, Benchpress.globals, data);\n  };\n\n  /**\n   * Clear the template cache\n   */\n  Benchpress.flush = function flush() {\n    Benchpress.cache = {};\n  };\n\n  // necessary to support both promises and callbacks\n  // can remove when `parse` methods are removed\n  function load(template) {\n    return new Promise(function (resolve, reject) {\n      var promise = Benchpress.loader(template, function (templateFunction) {\n        resolve(templateFunction);\n      });\n\n      if (promise && promise.then) {\n        promise.then(resolve, reject);\n      }\n    });\n  }\n\n  /**\n   * Fetch and run the given template\n   * @param {string} template - Name of template to fetch\n   * @param {Object} data - Data with which to run the template\n   * @param {string} [block] - Parse only this block in the template\n   * @returns {Promise<string>} - Rendered output\n   */\n  function render(template, data, block) {\n    data = Benchpress.addGlobals(data || {});\n\n    return Promise.try(function () {\n      Benchpress.cache[template] = Benchpress.cache[template] || load(template);\n      return Benchpress.cache[template];\n    }).then(function (templateFunction) {\n      if (block) {\n        templateFunction = templateFunction.blocks && templateFunction.blocks[block];\n      }\n      if (!templateFunction) {\n        return '';\n      }\n\n      return runtime(Benchpress.helpers, data, templateFunction);\n    });\n  }\n\n  /**\n   * Alias for {@link render}, but uses a callback\n   * @param {string} template - Name of template to fetch\n   * @param {string} [block] - Render only this block in the template\n   * @param {Object} data - Data with which to run the template\n   * @param {function} callback - callback(output)\n   *\n   * @deprecated - Use {@link render} instead\n   */\n  function parse(template, block, data, callback) {\n    if (!callback && typeof block === 'object' && typeof data === 'function') {\n      callback = data;\n      data = block;\n      block = null;\n    }\n    if (typeof callback !== 'function') {\n      // Calling parse synchronously with no callback is discontinued\n      throw TypeError('Invalid Arguments: callback must be a function');\n    }\n    if (!template) {\n      callback('');\n      return;\n    }\n\n    render(template, data, block).then(function (output) {\n      return setTimeout(callback, 0, output);\n    }, function (err) {\n      return console.error(err);\n    } // eslint-disable-line no-console\n    );\n  }\n\n  Benchpress.render = render;\n  Benchpress.parse = parse;\n\n  /**\n   * Register a loader function to fetch templates\n   * - `loader(name, callback) => callback(templateFunction)`\n   * - `loader(name) => Promise<templateFunction>`\n   * @param {function} loader\n   */\n  Benchpress.registerLoader = function registerLoader(loader) {\n    Benchpress.loader = loader;\n  };\n\n  return Benchpress;\n});","'use strict';\r\n\r\n(function (factory) {\r\n\tif (typeof module === 'object' && module.exports) {\r\n\t\tvar winston = require('winston');\r\n\r\n\r\n\t\tmodule.exports = factory(require('xregexp'));\r\n\t\tmodule.exports.walk = function (dir, done) {\r\n\t\t\t// DEPRECATED\r\n\t\t\tvar file = require('../../src/file');\r\n\t\t\twinston.warn('[deprecated] `utils.walk` is deprecated. Use `file.walk` instead.');\r\n\t\t\tfile.walk(dir, done);\r\n\t\t};\r\n\r\n\t\tprocess.profile = function (operation, start) {\r\n\t\t\tconsole.log('%s took %d milliseconds', operation, process.elapsedTimeSince(start));\r\n\t\t};\r\n\r\n\t\tprocess.elapsedTimeSince = function (start) {\r\n\t\t\tvar diff = process.hrtime(start);\r\n\t\t\treturn (diff[0] * 1e3) + (diff[1] / 1e6);\r\n\t\t};\r\n\t} else {\r\n\t\twindow.utils = factory(window.XRegExp);\r\n\t}\r\n}(function (XRegExp) {\r\n\tvar freeze = Object.freeze || function (obj) { return obj; };\r\n\r\n\t// add default escape function for escaping HTML entities\r\n\tvar escapeCharMap = freeze({\r\n\t\t'&': '&amp;',\r\n\t\t'<': '&lt;',\r\n\t\t'>': '&gt;',\r\n\t\t'\"': '&quot;',\r\n\t\t\"'\": '&#x27;',\r\n\t\t'`': '&#x60;',\r\n\t\t'=': '&#x3D;',\r\n\t});\r\n\tfunction replaceChar(c) {\r\n\t\treturn escapeCharMap[c];\r\n\t}\r\n\tvar escapeChars = /[&<>\"'`=]/g;\r\n\r\n\tvar HTMLEntities = freeze({\r\n\t\tamp: '&',\r\n\t\tgt: '>',\r\n\t\tlt: '<',\r\n\t\tquot: '\"',\r\n\t\tapos: \"'\",\r\n\t\tAElig: 198,\r\n\t\tAacute: 193,\r\n\t\tAcirc: 194,\r\n\t\tAgrave: 192,\r\n\t\tAring: 197,\r\n\t\tAtilde: 195,\r\n\t\tAuml: 196,\r\n\t\tCcedil: 199,\r\n\t\tETH: 208,\r\n\t\tEacute: 201,\r\n\t\tEcirc: 202,\r\n\t\tEgrave: 200,\r\n\t\tEuml: 203,\r\n\t\tIacute: 205,\r\n\t\tIcirc: 206,\r\n\t\tIgrave: 204,\r\n\t\tIuml: 207,\r\n\t\tNtilde: 209,\r\n\t\tOacute: 211,\r\n\t\tOcirc: 212,\r\n\t\tOgrave: 210,\r\n\t\tOslash: 216,\r\n\t\tOtilde: 213,\r\n\t\tOuml: 214,\r\n\t\tTHORN: 222,\r\n\t\tUacute: 218,\r\n\t\tUcirc: 219,\r\n\t\tUgrave: 217,\r\n\t\tUuml: 220,\r\n\t\tYacute: 221,\r\n\t\taacute: 225,\r\n\t\tacirc: 226,\r\n\t\taelig: 230,\r\n\t\tagrave: 224,\r\n\t\taring: 229,\r\n\t\tatilde: 227,\r\n\t\tauml: 228,\r\n\t\tccedil: 231,\r\n\t\teacute: 233,\r\n\t\tecirc: 234,\r\n\t\tegrave: 232,\r\n\t\teth: 240,\r\n\t\teuml: 235,\r\n\t\tiacute: 237,\r\n\t\ticirc: 238,\r\n\t\tigrave: 236,\r\n\t\tiuml: 239,\r\n\t\tntilde: 241,\r\n\t\toacute: 243,\r\n\t\tocirc: 244,\r\n\t\tograve: 242,\r\n\t\toslash: 248,\r\n\t\totilde: 245,\r\n\t\touml: 246,\r\n\t\tszlig: 223,\r\n\t\tthorn: 254,\r\n\t\tuacute: 250,\r\n\t\tucirc: 251,\r\n\t\tugrave: 249,\r\n\t\tuuml: 252,\r\n\t\tyacute: 253,\r\n\t\tyuml: 255,\r\n\t\tcopy: 169,\r\n\t\treg: 174,\r\n\t\tnbsp: 160,\r\n\t\tiexcl: 161,\r\n\t\tcent: 162,\r\n\t\tpound: 163,\r\n\t\tcurren: 164,\r\n\t\tyen: 165,\r\n\t\tbrvbar: 166,\r\n\t\tsect: 167,\r\n\t\tuml: 168,\r\n\t\tordf: 170,\r\n\t\tlaquo: 171,\r\n\t\tnot: 172,\r\n\t\tshy: 173,\r\n\t\tmacr: 175,\r\n\t\tdeg: 176,\r\n\t\tplusmn: 177,\r\n\t\tsup1: 185,\r\n\t\tsup2: 178,\r\n\t\tsup3: 179,\r\n\t\tacute: 180,\r\n\t\tmicro: 181,\r\n\t\tpara: 182,\r\n\t\tmiddot: 183,\r\n\t\tcedil: 184,\r\n\t\tordm: 186,\r\n\t\traquo: 187,\r\n\t\tfrac14: 188,\r\n\t\tfrac12: 189,\r\n\t\tfrac34: 190,\r\n\t\tiquest: 191,\r\n\t\ttimes: 215,\r\n\t\tdivide: 247,\r\n\t\t'OElig;': 338,\r\n\t\t'oelig;': 339,\r\n\t\t'Scaron;': 352,\r\n\t\t'scaron;': 353,\r\n\t\t'Yuml;': 376,\r\n\t\t'fnof;': 402,\r\n\t\t'circ;': 710,\r\n\t\t'tilde;': 732,\r\n\t\t'Alpha;': 913,\r\n\t\t'Beta;': 914,\r\n\t\t'Gamma;': 915,\r\n\t\t'Delta;': 916,\r\n\t\t'Epsilon;': 917,\r\n\t\t'Zeta;': 918,\r\n\t\t'Eta;': 919,\r\n\t\t'Theta;': 920,\r\n\t\t'Iota;': 921,\r\n\t\t'Kappa;': 922,\r\n\t\t'Lambda;': 923,\r\n\t\t'Mu;': 924,\r\n\t\t'Nu;': 925,\r\n\t\t'Xi;': 926,\r\n\t\t'Omicron;': 927,\r\n\t\t'Pi;': 928,\r\n\t\t'Rho;': 929,\r\n\t\t'Sigma;': 931,\r\n\t\t'Tau;': 932,\r\n\t\t'Upsilon;': 933,\r\n\t\t'Phi;': 934,\r\n\t\t'Chi;': 935,\r\n\t\t'Psi;': 936,\r\n\t\t'Omega;': 937,\r\n\t\t'alpha;': 945,\r\n\t\t'beta;': 946,\r\n\t\t'gamma;': 947,\r\n\t\t'delta;': 948,\r\n\t\t'epsilon;': 949,\r\n\t\t'zeta;': 950,\r\n\t\t'eta;': 951,\r\n\t\t'theta;': 952,\r\n\t\t'iota;': 953,\r\n\t\t'kappa;': 954,\r\n\t\t'lambda;': 955,\r\n\t\t'mu;': 956,\r\n\t\t'nu;': 957,\r\n\t\t'xi;': 958,\r\n\t\t'omicron;': 959,\r\n\t\t'pi;': 960,\r\n\t\t'rho;': 961,\r\n\t\t'sigmaf;': 962,\r\n\t\t'sigma;': 963,\r\n\t\t'tau;': 964,\r\n\t\t'upsilon;': 965,\r\n\t\t'phi;': 966,\r\n\t\t'chi;': 967,\r\n\t\t'psi;': 968,\r\n\t\t'omega;': 969,\r\n\t\t'thetasym;': 977,\r\n\t\t'upsih;': 978,\r\n\t\t'piv;': 982,\r\n\t\t'ensp;': 8194,\r\n\t\t'emsp;': 8195,\r\n\t\t'thinsp;': 8201,\r\n\t\t'zwnj;': 8204,\r\n\t\t'zwj;': 8205,\r\n\t\t'lrm;': 8206,\r\n\t\t'rlm;': 8207,\r\n\t\t'ndash;': 8211,\r\n\t\t'mdash;': 8212,\r\n\t\t'lsquo;': 8216,\r\n\t\t'rsquo;': 8217,\r\n\t\t'sbquo;': 8218,\r\n\t\t'ldquo;': 8220,\r\n\t\t'rdquo;': 8221,\r\n\t\t'bdquo;': 8222,\r\n\t\t'dagger;': 8224,\r\n\t\t'Dagger;': 8225,\r\n\t\t'bull;': 8226,\r\n\t\t'hellip;': 8230,\r\n\t\t'permil;': 8240,\r\n\t\t'prime;': 8242,\r\n\t\t'Prime;': 8243,\r\n\t\t'lsaquo;': 8249,\r\n\t\t'rsaquo;': 8250,\r\n\t\t'oline;': 8254,\r\n\t\t'frasl;': 8260,\r\n\t\t'euro;': 8364,\r\n\t\t'image;': 8465,\r\n\t\t'weierp;': 8472,\r\n\t\t'real;': 8476,\r\n\t\t'trade;': 8482,\r\n\t\t'alefsym;': 8501,\r\n\t\t'larr;': 8592,\r\n\t\t'uarr;': 8593,\r\n\t\t'rarr;': 8594,\r\n\t\t'darr;': 8595,\r\n\t\t'harr;': 8596,\r\n\t\t'crarr;': 8629,\r\n\t\t'lArr;': 8656,\r\n\t\t'uArr;': 8657,\r\n\t\t'rArr;': 8658,\r\n\t\t'dArr;': 8659,\r\n\t\t'hArr;': 8660,\r\n\t\t'forall;': 8704,\r\n\t\t'part;': 8706,\r\n\t\t'exist;': 8707,\r\n\t\t'empty;': 8709,\r\n\t\t'nabla;': 8711,\r\n\t\t'isin;': 8712,\r\n\t\t'notin;': 8713,\r\n\t\t'ni;': 8715,\r\n\t\t'prod;': 8719,\r\n\t\t'sum;': 8721,\r\n\t\t'minus;': 8722,\r\n\t\t'lowast;': 8727,\r\n\t\t'radic;': 8730,\r\n\t\t'prop;': 8733,\r\n\t\t'infin;': 8734,\r\n\t\t'ang;': 8736,\r\n\t\t'and;': 8743,\r\n\t\t'or;': 8744,\r\n\t\t'cap;': 8745,\r\n\t\t'cup;': 8746,\r\n\t\t'int;': 8747,\r\n\t\t'there4;': 8756,\r\n\t\t'sim;': 8764,\r\n\t\t'cong;': 8773,\r\n\t\t'asymp;': 8776,\r\n\t\t'ne;': 8800,\r\n\t\t'equiv;': 8801,\r\n\t\t'le;': 8804,\r\n\t\t'ge;': 8805,\r\n\t\t'sub;': 8834,\r\n\t\t'sup;': 8835,\r\n\t\t'nsub;': 8836,\r\n\t\t'sube;': 8838,\r\n\t\t'supe;': 8839,\r\n\t\t'oplus;': 8853,\r\n\t\t'otimes;': 8855,\r\n\t\t'perp;': 8869,\r\n\t\t'sdot;': 8901,\r\n\t\t'lceil;': 8968,\r\n\t\t'rceil;': 8969,\r\n\t\t'lfloor;': 8970,\r\n\t\t'rfloor;': 8971,\r\n\t\t'lang;': 9001,\r\n\t\t'rang;': 9002,\r\n\t\t'loz;': 9674,\r\n\t\t'spades;': 9824,\r\n\t\t'clubs;': 9827,\r\n\t\t'hearts;': 9829,\r\n\t\t'diams;': 9830,\r\n\t});\r\n\r\n\tvar utils = {\r\n\t\tgenerateUUID: function () {\r\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n\t\t\t\tvar r = Math.random() * 16 | 0;\r\n\t\t\t\tvar v = c === 'x' ? r : ((r & 0x3) | 0x8);\r\n\t\t\t\treturn v.toString(16);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// https://github.com/substack/node-ent/blob/master/index.js\r\n\t\tdecodeHTMLEntities: function (html) {\r\n\t\t\treturn String(html)\r\n\t\t\t\t.replace(/&#(\\d+);?/g, function (_, code) {\r\n\t\t\t\t\treturn String.fromCharCode(code);\r\n\t\t\t\t})\r\n\t\t\t\t.replace(/&#[xX]([A-Fa-f0-9]+);?/g, function (_, hex) {\r\n\t\t\t\t\treturn String.fromCharCode(parseInt(hex, 16));\r\n\t\t\t\t})\r\n\t\t\t\t.replace(/&([^;\\W]+;?)/g, function (m, e) {\r\n\t\t\t\t\tvar ee = e.replace(/;$/, '');\r\n\t\t\t\t\tvar target = HTMLEntities[e] || (e.match(/;$/) && HTMLEntities[ee]);\r\n\r\n\t\t\t\t\tif (typeof target === 'number') {\r\n\t\t\t\t\t\treturn String.fromCharCode(target);\r\n\t\t\t\t\t} else if (typeof target === 'string') {\r\n\t\t\t\t\t\treturn target;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn m;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// https://github.com/jprichardson/string.js/blob/master/lib/string.js\r\n\t\tstripHTMLTags: function (str, tags) {\r\n\t\t\tvar pattern = (tags || ['']).map(function (tag) {\r\n\t\t\t\treturn utils.escapeRegexChars(tag);\r\n\t\t\t}).join('|');\r\n\t\t\treturn String(str).replace(new RegExp('<(\\\\/)?(' + (pattern || '[^\\\\s>]+') + ')(\\\\s+[^<>]*?)?\\\\s*(\\\\/)?>', 'gi'), '');\r\n\t\t},\r\n\r\n\t\tinvalidUnicodeChars: XRegExp('[^\\\\p{L}\\\\s\\\\d\\\\-_]', 'g'),\r\n\t\tinvalidLatinChars: /[^\\w\\s\\d\\-_]/g,\r\n\t\ttrimRegex: /^\\s+|\\s+$/g,\r\n\t\tcollapseWhitespace: /\\s+/g,\r\n\t\tcollapseDash: /-+/g,\r\n\t\ttrimTrailingDash: /-$/g,\r\n\t\ttrimLeadingDash: /^-/g,\r\n\t\tisLatin: /^[\\w\\d\\s.,\\-@]+$/,\r\n\t\tlanguageKeyRegex: /\\[\\[[\\w]+:.+\\]\\]/,\r\n\r\n\t\t// http://dense13.com/blog/2009/05/03/converting-string-to-slug-javascript/\r\n\t\tslugify: function (str, preserveCase) {\r\n\t\t\tif (!str) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tstr = str.replace(utils.trimRegex, '');\r\n\t\t\tif (utils.isLatin.test(str)) {\r\n\t\t\t\tstr = str.replace(utils.invalidLatinChars, '-');\r\n\t\t\t} else {\r\n\t\t\t\tstr = XRegExp.replace(str, utils.invalidUnicodeChars, '-');\r\n\t\t\t}\r\n\t\t\tstr = !preserveCase ? str.toLocaleLowerCase() : str;\r\n\t\t\tstr = str.replace(utils.collapseWhitespace, '-');\r\n\t\t\tstr = str.replace(utils.collapseDash, '-');\r\n\t\t\tstr = str.replace(utils.trimTrailingDash, '');\r\n\t\t\tstr = str.replace(utils.trimLeadingDash, '');\r\n\t\t\treturn str;\r\n\t\t},\r\n\r\n\t\tcleanUpTag: function (tag, maxLength) {\r\n\t\t\tif (typeof tag !== 'string' || !tag.length) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\ttag = tag.trim().toLowerCase();\r\n\t\t\t// see https://github.com/NodeBB/NodeBB/issues/4378\r\n\t\t\ttag = tag.replace(/\\u202E/gi, '');\r\n\t\t\ttag = tag.replace(/[,/#!$%^*;:{}=_`<>'\"~()?|]/g, '');\r\n\t\t\ttag = tag.substr(0, maxLength || 15).trim();\r\n\t\t\tvar matches = tag.match(/^[.-]*(.+?)[.-]*$/);\r\n\t\t\tif (matches && matches.length > 1) {\r\n\t\t\t\ttag = matches[1];\r\n\t\t\t}\r\n\t\t\treturn tag;\r\n\t\t},\r\n\r\n\t\tremovePunctuation: function (str) {\r\n\t\t\treturn str.replace(/[.,-/#!$%^&*;:{}=\\-_`<>'\"~()?]/g, '');\r\n\t\t},\r\n\r\n\t\tisEmailValid: function (email) {\r\n\t\t\treturn typeof email === 'string' && email.length && email.indexOf('@') !== -1 && email.indexOf(',') === -1 && email.indexOf(';') === -1;\r\n\t\t},\r\n\r\n\t\tisUserNameValid: function (name) {\r\n\t\t\treturn (name && name !== '' && (/^['\"\\s\\-+.*0-9\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+$/.test(name)));\r\n\t\t},\r\n\r\n\t\tisPasswordValid: function (password) {\r\n\t\t\treturn typeof password === 'string' && password.length;\r\n\t\t},\r\n\r\n\t\tisNumber: function (n) {\r\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\r\n\t\t},\r\n\r\n\t\thasLanguageKey: function (input) {\r\n\t\t\treturn utils.languageKeyRegex.test(input);\r\n\t\t},\r\n\t\tuserLangToTimeagoCode: function (userLang) {\r\n\t\t\tvar mapping = {\r\n\t\t\t\t'en-GB': 'en',\r\n\t\t\t\t'en-US': 'en',\r\n\t\t\t\t'fa-IR': 'fa',\r\n\t\t\t\t'pt-BR': 'pt-br',\r\n\t\t\t\tnb: 'no',\r\n\t\t\t};\r\n\t\t\treturn mapping[userLang] || userLang;\r\n\t\t},\r\n\t\t// shallow objects merge\r\n\t\tmerge: function () {\r\n\t\t\tvar result = {};\r\n\t\t\tvar obj;\r\n\t\t\tvar keys;\r\n\t\t\tfor (var i = 0; i < arguments.length; i += 1) {\r\n\t\t\t\tobj = arguments[i] || {};\r\n\t\t\t\tkeys = Object.keys(obj);\r\n\t\t\t\tfor (var j = 0; j < keys.length; j += 1) {\r\n\t\t\t\t\tresult[keys[j]] = obj[keys[j]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\r\n\t\tfileExtension: function (path) {\r\n\t\t\treturn ('' + path).split('.').pop();\r\n\t\t},\r\n\r\n\t\textensionMimeTypeMap: {\r\n\t\t\tbmp: 'image/bmp',\r\n\t\t\tcmx: 'image/x-cmx',\r\n\t\t\tcod: 'image/cis-cod',\r\n\t\t\tgif: 'image/gif',\r\n\t\t\tico: 'image/x-icon',\r\n\t\t\tief: 'image/ief',\r\n\t\t\tjfif: 'image/pipeg',\r\n\t\t\tjpe: 'image/jpeg',\r\n\t\t\tjpeg: 'image/jpeg',\r\n\t\t\tjpg: 'image/jpeg',\r\n\t\t\tpng: 'image/png',\r\n\t\t\tpbm: 'image/x-portable-bitmap',\r\n\t\t\tpgm: 'image/x-portable-graymap',\r\n\t\t\tpnm: 'image/x-portable-anymap',\r\n\t\t\tppm: 'image/x-portable-pixmap',\r\n\t\t\tras: 'image/x-cmu-raster',\r\n\t\t\trgb: 'image/x-rgb',\r\n\t\t\tsvg: 'image/svg+xml',\r\n\t\t\ttif: 'image/tiff',\r\n\t\t\ttiff: 'image/tiff',\r\n\t\t\txbm: 'image/x-xbitmap',\r\n\t\t\txpm: 'image/x-xpixmap',\r\n\t\t\txwd: 'image/x-xwindowdump',\r\n\t\t},\r\n\r\n\t\tfileMimeType: function (path) {\r\n\t\t\treturn utils.extensionToMimeType(utils.fileExtension(path));\r\n\t\t},\r\n\r\n\t\textensionToMimeType: function (extension) {\r\n\t\t\treturn utils.extensionMimeTypeMap[extension] || '*';\r\n\t\t},\r\n\r\n\t\tisRelativeUrl: function (url) {\r\n\t\t\tvar firstChar = String(url || '').charAt(0);\r\n\t\t\treturn (firstChar === '.' || firstChar === '/');\r\n\t\t},\r\n\r\n\t\tmakeNumbersHumanReadable: function (elements) {\r\n\t\t\telements.each(function () {\r\n\t\t\t\t$(this).html(utils.makeNumberHumanReadable($(this).attr('title')));\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmakeNumberHumanReadable: function (num) {\r\n\t\t\tvar n = parseInt(num, 10);\r\n\t\t\tif (!n) {\r\n\t\t\t\treturn num;\r\n\t\t\t}\r\n\t\t\tif (n > 999999) {\r\n\t\t\t\treturn (n / 1000000).toFixed(1) + 'm';\r\n\t\t\t} else if (n > 999) {\r\n\t\t\t\treturn (n / 1000).toFixed(1) + 'k';\r\n\t\t\t}\r\n\t\t\treturn n;\r\n\t\t},\r\n\r\n\t\taddCommasToNumbers: function (elements) {\r\n\t\t\telements.each(function (index, element) {\r\n\t\t\t\t$(element).html(utils.addCommas($(element).html()));\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// takes a string like 1000 and returns 1,000\r\n\t\taddCommas: function (text) {\r\n\t\t\treturn text.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\r\n\t\t},\r\n\r\n\t\ttoISOString: function (timestamp) {\r\n\t\t\tif (!timestamp || !Date.prototype.toISOString) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\t// Prevent too-high values to be passed to Date object\r\n\t\t\ttimestamp = Math.min(timestamp, 8640000000000000);\r\n\r\n\t\t\ttry {\r\n\t\t\t\treturn Date.prototype.toISOString ? new Date(parseInt(timestamp, 10)).toISOString() : timestamp;\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn timestamp;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttags: ['a', 'abbr', 'acronym', 'address', 'applet', 'area', 'article', 'aside', 'audio', 'b', 'base', 'basefont',\r\n\t\t\t'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup',\r\n\t\t\t'command', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'em', 'embed',\r\n\t\t\t'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'frame', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\r\n\t\t\t'head', 'header', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link',\r\n\t\t\t'map', 'mark', 'menu', 'meta', 'meter', 'nav', 'noframes', 'noscript', 'object', 'ol', 'optgroup', 'option',\r\n\t\t\t'output', 'p', 'param', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select',\r\n\t\t\t'small', 'source', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot',\r\n\t\t\t'th', 'thead', 'time', 'title', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr'],\r\n\r\n\t\tstripTags: ['abbr', 'acronym', 'address', 'applet', 'area', 'article', 'aside', 'audio', 'base', 'basefont',\r\n\t\t\t'bdi', 'bdo', 'big', 'blink', 'body', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup',\r\n\t\t\t'command', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'em', 'embed',\r\n\t\t\t'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'frame', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\r\n\t\t\t'head', 'header', 'hr', 'html', 'iframe', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link',\r\n\t\t\t'map', 'mark', 'marquee', 'menu', 'meta', 'meter', 'nav', 'noframes', 'noscript', 'object', 'ol', 'optgroup', 'option',\r\n\t\t\t'output', 'param', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select',\r\n\t\t\t'source', 'span', 'strike', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot',\r\n\t\t\t'th', 'thead', 'time', 'title', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr'],\r\n\r\n\t\tescapeRegexChars: function (text) {\r\n\t\t\treturn text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\r\n\t\t},\r\n\r\n\t\tescapeHTML: function (str) {\r\n\t\t\tif (str == null) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\tif (!str) {\r\n\t\t\t\treturn String(str);\r\n\t\t\t}\r\n\r\n\t\t\treturn str.toString().replace(escapeChars, replaceChar);\r\n\t\t},\r\n\r\n\t\tisAndroidBrowser: function () {\r\n\t\t\t// http://stackoverflow.com/questions/9286355/how-to-detect-only-the-native-android-browser\r\n\t\t\tvar nua = navigator.userAgent;\r\n\t\t\treturn ((nua.indexOf('Mozilla/5.0') > -1 && nua.indexOf('Android ') > -1 && nua.indexOf('AppleWebKit') > -1) && !(nua.indexOf('Chrome') > -1));\r\n\t\t},\r\n\r\n\t\tisTouchDevice: function () {\r\n\t\t\treturn 'ontouchstart' in document.documentElement;\r\n\t\t},\r\n\r\n\t\tfindBootstrapEnvironment: function () {\r\n\t\t\t// http://stackoverflow.com/questions/14441456/how-to-detect-which-device-view-youre-on-using-twitter-bootstrap-api\r\n\t\t\tvar envs = ['xs', 'sm', 'md', 'lg'];\r\n\t\t\tvar $el = $('<div>');\r\n\r\n\t\t\t$el.appendTo($('body'));\r\n\r\n\t\t\tfor (var i = envs.length - 1; i >= 0; i -= 1) {\r\n\t\t\t\tvar env = envs[i];\r\n\r\n\t\t\t\t$el.addClass('hidden-' + env);\r\n\t\t\t\tif ($el.is(':hidden')) {\r\n\t\t\t\t\t$el.remove();\r\n\t\t\t\t\treturn env;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tisMobile: function () {\r\n\t\t\tvar env = utils.findBootstrapEnvironment();\r\n\t\t\treturn ['xs', 'sm'].some(function (targetEnv) {\r\n\t\t\t\treturn targetEnv === env;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetHoursArray: function () {\r\n\t\t\tvar currentHour = new Date().getHours();\r\n\t\t\tvar labels = [];\r\n\r\n\t\t\tfor (var i = currentHour, ii = currentHour - 24; i > ii; i -= 1) {\r\n\t\t\t\tvar hour = i < 0 ? 24 + i : i;\r\n\t\t\t\tlabels.push(hour + ':00');\r\n\t\t\t}\r\n\r\n\t\t\treturn labels.reverse();\r\n\t\t},\r\n\r\n\t\tgetDaysArray: function (from, amount) {\r\n\t\t\tvar currentDay = new Date(from || Date.now()).getTime();\r\n\t\t\tvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n\t\t\tvar labels = [];\r\n\t\t\tvar tmpDate;\r\n\r\n\t\t\tfor (var x = (amount || 30) - 1; x >= 0; x -= 1) {\r\n\t\t\t\ttmpDate = new Date(currentDay - (1000 * 60 * 60 * 24 * x));\r\n\t\t\t\tlabels.push(months[tmpDate.getMonth()] + ' ' + tmpDate.getDate());\r\n\t\t\t}\r\n\r\n\t\t\treturn labels;\r\n\t\t},\r\n\r\n\t\t/* Retrieved from http://stackoverflow.com/a/7557433 @ 27 Mar 2016 */\r\n\t\tisElementInViewport: function (el) {\r\n\t\t\t// special bonus for those using jQuery\r\n\t\t\tif (typeof jQuery === 'function' && el instanceof jQuery) {\r\n\t\t\t\tel = el[0];\r\n\t\t\t}\r\n\r\n\t\t\tvar rect = el.getBoundingClientRect();\r\n\r\n\t\t\treturn (\r\n\t\t\t\trect.top >= 0 &&\r\n\t\t\t\trect.left >= 0 &&\r\n\t\t\t\trect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /* or $(window).height() */\r\n\t\t\t\trect.right <= (window.innerWidth || document.documentElement.clientWidth) /* or $(window).width() */\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\t// get all the url params in a single key/value hash\r\n\t\tparams: function (options) {\r\n\t\t\tvar a;\r\n\t\t\tvar hash = {};\r\n\t\t\tvar params;\r\n\r\n\t\t\toptions = options || {};\r\n\t\t\toptions.skipToType = options.skipToType || {};\r\n\r\n\t\t\tif (options.url) {\r\n\t\t\t\ta = utils.urlToLocation(options.url);\r\n\t\t\t}\r\n\t\t\tparams = (a ? a.search : window.location.search).substring(1).split('&');\r\n\r\n\t\t\tparams.forEach(function (param) {\r\n\t\t\t\tvar val = param.split('=');\r\n\t\t\t\tvar key = decodeURI(val[0]);\r\n\t\t\t\tvar value = options.skipToType[key] ? decodeURI(val[1]) : utils.toType(decodeURI(val[1]));\r\n\r\n\t\t\t\tif (key) {\r\n\t\t\t\t\tif (key.substr(-2, 2) === '[]') {\r\n\t\t\t\t\t\tkey = key.slice(0, -2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!hash[key]) {\r\n\t\t\t\t\t\thash[key] = value;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (!$.isArray(hash[key])) {\r\n\t\t\t\t\t\t\thash[key] = [hash[key]];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thash[key].push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn hash;\r\n\t\t},\r\n\r\n\t\tparam: function (key) {\r\n\t\t\treturn this.params()[key];\r\n\t\t},\r\n\r\n\t\turlToLocation: function (url) {\r\n\t\t\treturn $('<a href=\"' + url + '\" />')[0];\r\n\t\t},\r\n\r\n\t\t// return boolean if string 'true' or string 'false', or if a parsable string which is a number\r\n\t\t// also supports JSON object and/or arrays parsing\r\n\t\ttoType: function (str) {\r\n\t\t\tvar type = typeof str;\r\n\t\t\tif (type !== 'string') {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t\tvar nb = parseFloat(str);\r\n\t\t\tif (!isNaN(nb) && isFinite(str)) {\r\n\t\t\t\treturn nb;\r\n\t\t\t}\r\n\t\t\tif (str === 'false') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (str === 'true') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tstr = JSON.parse(str);\r\n\t\t\t} catch (e) {}\r\n\r\n\t\t\treturn str;\r\n\t\t},\r\n\r\n\t\t// Safely get/set chained properties on an object\r\n\t\t// set example: utils.props(A, 'a.b.c.d', 10) // sets A to {a: {b: {c: {d: 10}}}}, and returns 10\r\n\t\t// get example: utils.props(A, 'a.b.c') // returns {d: 10}\r\n\t\t// get example: utils.props(A, 'a.b.c.foo.bar') // returns undefined without throwing a TypeError\r\n\t\t// credits to github.com/gkindel\r\n\t\tprops: function (obj, props, value) {\r\n\t\t\tif (obj === undefined) {\r\n\t\t\t\tobj = window;\r\n\t\t\t}\r\n\t\t\tif (props == null) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t\tvar i = props.indexOf('.');\r\n\t\t\tif (i === -1) {\r\n\t\t\t\tif (value !== undefined) {\r\n\t\t\t\t\tobj[props] = value;\r\n\t\t\t\t}\r\n\t\t\t\treturn obj[props];\r\n\t\t\t}\r\n\t\t\tvar prop = props.slice(0, i);\r\n\t\t\tvar newProps = props.slice(i + 1);\r\n\r\n\t\t\tif (props !== undefined && !(obj[prop] instanceof Object)) {\r\n\t\t\t\tobj[prop] = {};\r\n\t\t\t}\r\n\r\n\t\t\treturn utils.props(obj[prop], newProps, value);\r\n\t\t},\r\n\r\n\t\tisInternalURI: function (targetLocation, referenceLocation, relative_path) {\r\n\t\t\treturn targetLocation.host === '' ||\t// Relative paths are always internal links\r\n\t\t\t\t(\r\n\t\t\t\t\ttargetLocation.host === referenceLocation.host && targetLocation.protocol === referenceLocation.protocol &&\t// Otherwise need to check if protocol and host match\r\n\t\t\t\t\t(relative_path.length > 0 ? targetLocation.pathname.indexOf(relative_path) === 0 : true)\t// Subfolder installs need this additional check\r\n\t\t\t\t);\r\n\t\t},\r\n\r\n\t\trtrim: function (str) {\r\n\t\t\treturn str.replace(/\\s+$/g, '');\r\n\t\t},\r\n\r\n\t\tdebounce: function (func, wait, immediate) {\r\n\t\t\t// modified from https://davidwalsh.name/javascript-debounce-function\r\n\t\t\tvar timeout;\r\n\t\t\treturn function () {\r\n\t\t\t\tvar context = this;\r\n\t\t\t\tvar args = arguments;\r\n\t\t\t\tvar later = function () {\r\n\t\t\t\t\ttimeout = null;\r\n\t\t\t\t\tif (!immediate) {\r\n\t\t\t\t\t\tfunc.apply(context, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tvar callNow = immediate && !timeout;\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = setTimeout(later, wait);\r\n\t\t\t\tif (callNow) {\r\n\t\t\t\t\tfunc.apply(context, args);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t};\r\n\r\n\t/* eslint \"no-extend-native\": \"off\" */\r\n\tif (typeof String.prototype.startsWith !== 'function') {\r\n\t\tString.prototype.startsWith = function (prefix) {\r\n\t\t\tif (this.length < prefix.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn this.slice(0, prefix.length) === prefix;\r\n\t\t};\r\n\t}\r\n\r\n\tif (typeof String.prototype.endsWith !== 'function') {\r\n\t\tString.prototype.endsWith = function (suffix) {\r\n\t\t\tif (this.length < suffix.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (suffix.length === 0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn this.slice(-suffix.length) === suffix;\r\n\t\t};\r\n\t}\r\n\r\n\treturn utils;\r\n}));\r\n","'use strict';\r\n\r\n\r\nvar app = window.app || {};\r\nvar socket;\r\napp.isConnected = false;\r\n\r\n(function () {\r\n\tvar reconnecting = false;\r\n\r\n\tvar ioParams = {\r\n\t\treconnectionAttempts: config.maxReconnectionAttempts,\r\n\t\treconnectionDelay: config.reconnectionDelay,\r\n\t\ttransports: config.socketioTransports,\r\n\t\tpath: config.relative_path + '/socket.io',\r\n\t};\r\n\r\n\tsocket = io(config.websocketAddress, ioParams);\r\n\r\n\tsocket.on('connect', onConnect);\r\n\r\n\tsocket.on('reconnecting', onReconnecting);\r\n\r\n\tsocket.on('disconnect', onDisconnect);\r\n\r\n\tsocket.on('reconnect_failed', function () {\r\n\t\t// Wait ten times the reconnection delay and then start over\r\n\t\tsetTimeout(socket.connect.bind(socket), parseInt(config.reconnectionDelay, 10) * 10);\r\n\t});\r\n\r\n\tsocket.on('checkSession', function (uid) {\r\n\t\tif (parseInt(uid, 10) !== parseInt(app.user.uid, 10)) {\r\n\t\t\tapp.handleInvalidSession();\r\n\t\t}\r\n\t});\r\n\r\n\tsocket.on('setHostname', function (hostname) {\r\n\t\tapp.upstreamHost = hostname;\r\n\t});\r\n\r\n\tsocket.on('event:banned', onEventBanned);\r\n\r\n\tsocket.on('event:alert', app.alert);\r\n\r\n\tfunction onConnect() {\r\n\t\tapp.isConnected = true;\r\n\r\n\t\tif (!reconnecting) {\r\n\t\t\tapp.showMessages();\r\n\t\t\t$(window).trigger('action:connected');\r\n\t\t}\r\n\r\n\t\tif (reconnecting) {\r\n\t\t\tvar reconnectEl = $('#reconnect');\r\n\t\t\tvar reconnectAlert = $('#reconnect-alert');\r\n\r\n\t\t\treconnectEl.tooltip('destroy');\r\n\t\t\treconnectEl.html('<i class=\"fa fa-check\"></i>');\r\n\t\t\treconnectAlert.fadeOut(500);\r\n\t\t\treconnecting = false;\r\n\r\n\t\t\treJoinCurrentRoom();\r\n\r\n\t\t\tsocket.emit('meta.reconnected');\r\n\r\n\t\t\t$(window).trigger('action:reconnected');\r\n\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\treconnectEl.removeClass('active').addClass('hide');\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction reJoinCurrentRoom() {\r\n\t\tvar\turl_parts = window.location.pathname.slice(config.relative_path.length).split('/').slice(1);\r\n\t\tvar room;\r\n\r\n\t\tswitch (url_parts[0]) {\r\n\t\tcase 'user':\r\n\t\t\troom = 'user/' + (ajaxify.data ? ajaxify.data.theirid : 0);\r\n\t\t\tbreak;\r\n\t\tcase 'topic':\r\n\t\t\troom = 'topic_' + url_parts[1];\r\n\t\t\tbreak;\r\n\t\tcase 'category':\r\n\t\t\troom = 'category_' + url_parts[1];\r\n\t\t\tbreak;\r\n\t\tcase 'recent':\r\n\t\t\troom = 'recent_topics';\r\n\t\t\tbreak;\r\n\t\tcase 'unread':\r\n\t\t\troom = 'unread_topics';\r\n\t\t\tbreak;\r\n\t\tcase 'popular':\r\n\t\t\troom = 'popular_topics';\r\n\t\t\tbreak;\r\n\t\tcase 'admin':\r\n\t\t\troom = 'admin';\r\n\t\t\tbreak;\r\n\t\tcase 'categories':\r\n\t\t\troom = 'categories';\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tapp.currentRoom = '';\r\n\t\tapp.enterRoom(room);\r\n\t}\r\n\r\n\tfunction onReconnecting() {\r\n\t\treconnecting = true;\r\n\t\tvar reconnectEl = $('#reconnect');\r\n\t\tvar reconnectAlert = $('#reconnect-alert');\r\n\r\n\t\tif (!reconnectEl.hasClass('active')) {\r\n\t\t\treconnectEl.html('<i class=\"fa fa-spinner fa-spin\"></i>');\r\n\t\t\treconnectAlert.fadeIn(500).removeClass('hide');\r\n\t\t}\r\n\r\n\t\treconnectEl.addClass('active').removeClass('hide').tooltip({\r\n\t\t\tplacement: 'bottom',\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onDisconnect() {\r\n\t\t$(window).trigger('action:disconnected');\r\n\t\tapp.isConnected = false;\r\n\t}\r\n\r\n\tfunction onEventBanned(data) {\r\n\t\tvar message = data.until ? '[[error:user-banned-reason-until, ' + $.timeago(data.until) + ', ' + data.reason + ']]' : '[[error:user-banned-reason, ' + data.reason + ']]';\r\n\r\n\t\tbootbox.alert({\r\n\t\t\ttitle: '[[error:user-banned]]',\r\n\t\t\tmessage: message,\r\n\t\t\tcloseButton: false,\r\n\t\t\tcallback: function () {\r\n\t\t\t\twindow.location.href = config.relative_path + '/';\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}());\r\n","'use strict';\r\n\r\n\r\nvar app = window.app || {};\r\n\r\napp.isFocused = true;\r\napp.currentRoom = null;\r\napp.widgets = {};\r\napp.cacheBuster = null;\r\n\r\n(function () {\r\n\tvar params = utils.params();\r\n\tvar showWelcomeMessage = !!params.loggedin;\r\n\tvar registerMessage = params.register;\r\n\r\n\trequire(['benchpress'], function (Benchpress) {\r\n\t\tBenchpress.setGlobal('config', config);\r\n\t\tif (Object.defineProperty) {\r\n\t\t\tObject.defineProperty(window, 'templates', {\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tget: function () {\r\n\t\t\t\t\tconsole.warn('[deprecated] Accessing benchpress (formerly known as templates.js) globally is deprecated. Use `require([\"benchpress\"], function (Benchpress) { ... })` instead');\r\n\t\t\t\t\treturn Benchpress;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\twindow.templates = Benchpress;\r\n\t\t}\r\n\t});\r\n\r\n\tapp.cacheBuster = config['cache-buster'];\r\n\r\n\tbootbox.setDefaults({\r\n\t\tlocale: config.userLang,\r\n\t});\r\n\r\n\tapp.load = function () {\r\n\t\tapp.loadProgressiveStylesheet();\r\n\r\n\t\toverrides.overrideTimeago();\r\n\r\n\t\tvar url = ajaxify.start(window.location.pathname.slice(1) + window.location.search + window.location.hash);\r\n\t\tajaxify.updateHistory(url, true);\r\n\t\tajaxify.parseData();\r\n\t\tajaxify.end(url, app.template);\r\n\r\n\t\thandleStatusChange();\r\n\r\n\t\tif (config.searchEnabled) {\r\n\t\t\tapp.handleSearch();\r\n\t\t}\r\n\r\n\t\t$('body').on('click', '#new_topic', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tapp.newTopic();\r\n\t\t});\r\n\r\n\t\trequire(['components'], function (components) {\r\n\t\t\tcomponents.get('user/logout').on('click', app.logout);\r\n\t\t});\r\n\r\n\t\tVisibility.change(function (event, state) {\r\n\t\t\tif (state === 'visible') {\r\n\t\t\t\tapp.isFocused = true;\r\n\t\t\t\tapp.alternatingTitle('');\r\n\t\t\t} else if (state === 'hidden') {\r\n\t\t\t\tapp.isFocused = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcreateHeaderTooltips();\r\n\t\tapp.showEmailConfirmWarning();\r\n\t\tapp.showCookieWarning();\r\n\r\n\t\tsocket.removeAllListeners('event:nodebb.ready');\r\n\t\tsocket.on('event:nodebb.ready', function (data) {\r\n\t\t\tif ((data.hostname === app.upstreamHost) && (!app.cacheBuster || app.cacheBuster !== data['cache-buster'])) {\r\n\t\t\t\tapp.cacheBuster = data['cache-buster'];\r\n\r\n\t\t\t\tapp.alert({\r\n\t\t\t\t\talert_id: 'forum_updated',\r\n\t\t\t\t\ttitle: '[[global:updated.title]]',\r\n\t\t\t\t\tmessage: '[[global:updated.message]]',\r\n\t\t\t\t\tclickfn: function () {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tsocket.on('event:livereload', function () {\r\n\t\t\tif (app.user.isAdmin && !ajaxify.currentPage.match(/admin/)) {\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\trequire(['taskbar', 'helpers', 'forum/pagination'], function (taskbar, helpers, pagination) {\r\n\t\t\ttaskbar.init();\r\n\r\n\t\t\thelpers.register();\r\n\r\n\t\t\tpagination.init();\r\n\r\n\t\t\t$(window).trigger('action:app.load');\r\n\t\t});\r\n\t};\r\n\r\n\tapp.logout = function (e) {\r\n\t\tif (e) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t\t$(window).trigger('action:app.logout');\r\n\r\n\t\t/*\r\n\t\t\tSet session refresh flag (otherwise the session check will trip and throw invalid session modal)\r\n\t\t\tWe know the session is/will be invalid (uid mismatch) because the user is logging out\r\n\t\t*/\r\n\t\tapp.flags = app.flags || {};\r\n\t\tapp.flags._sessionRefresh = true;\r\n\r\n\t\t$.ajax(config.relative_path + '/logout', {\r\n\t\t\ttype: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'x-csrf-token': config.csrf_token,\r\n\t\t\t},\r\n\t\t\tsuccess: function () {\r\n\t\t\t\tvar payload = {\r\n\t\t\t\t\tnext: config.relative_path + '/',\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$(window).trigger('action:app.loggedOut', payload);\r\n\t\t\t\twindow.location.href = payload.next;\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tapp.alert = function (params) {\r\n\t\trequire(['alerts'], function (alerts) {\r\n\t\t\talerts.alert(params);\r\n\t\t});\r\n\t};\r\n\r\n\tapp.removeAlert = function (id) {\r\n\t\trequire(['alerts'], function (alerts) {\r\n\t\t\talerts.remove(id);\r\n\t\t});\r\n\t};\r\n\r\n\tapp.alertSuccess = function (message, timeout) {\r\n\t\tapp.alert({\r\n\t\t\ttitle: '[[global:alert.success]]',\r\n\t\t\tmessage: message,\r\n\t\t\ttype: 'success',\r\n\t\t\ttimeout: timeout || 5000,\r\n\t\t});\r\n\t};\r\n\r\n\tapp.alertError = function (message, timeout) {\r\n\t\tmessage = message.message || message;\r\n\r\n\t\tif (message === '[[error:invalid-session]]') {\r\n\t\t\treturn app.handleInvalidSession();\r\n\t\t}\r\n\r\n\t\tapp.alert({\r\n\t\t\ttitle: '[[global:alert.error]]',\r\n\t\t\tmessage: message,\r\n\t\t\ttype: 'danger',\r\n\t\t\ttimeout: timeout || 10000,\r\n\t\t});\r\n\t};\r\n\r\n\tapp.handleInvalidSession = function () {\r\n\t\tif (app.flags && app.flags._sessionRefresh) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tapp.flags = app.flags || {};\r\n\t\tapp.flags._sessionRefresh = true;\r\n\r\n\t\trequire(['translator'], function (translator) {\r\n\t\t\ttranslator.translate('[[error:invalid-session-text]]', function (translated) {\r\n\t\t\t\tbootbox.alert({\r\n\t\t\t\t\ttitle: '[[error:invalid-session]]',\r\n\t\t\t\t\tmessage: translated,\r\n\t\t\t\t\tcloseButton: false,\r\n\t\t\t\t\tcallback: function () {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tapp.enterRoom = function (room, callback) {\r\n\t\tcallback = callback || function () {};\r\n\t\tif (socket && app.user.uid && app.currentRoom !== room) {\r\n\t\t\tvar previousRoom = app.currentRoom;\r\n\t\t\tapp.currentRoom = room;\r\n\t\t\tsocket.emit('meta.rooms.enter', {\r\n\t\t\t\tenter: room,\r\n\t\t\t}, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tapp.currentRoom = previousRoom;\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcallback();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tapp.leaveCurrentRoom = function () {\r\n\t\tif (!socket) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar previousRoom = app.currentRoom;\r\n\t\tapp.currentRoom = '';\r\n\t\tsocket.emit('meta.rooms.leaveCurrent', function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\tapp.currentRoom = previousRoom;\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tfunction highlightNavigationLink() {\r\n\t\tvar path = window.location.pathname;\r\n\t\t$('#main-nav li').removeClass('active');\r\n\t\tif (path) {\r\n\t\t\t$('#main-nav li').removeClass('active').find('a[href=\"' + path + '\"]').parent().addClass('active');\r\n\t\t}\r\n\t}\r\n\r\n\tapp.createUserTooltips = function (els, placement) {\r\n\t\tels = els || $('body');\r\n\t\tels.find('.avatar,img[title].teaser-pic,img[title].user-img,div.user-icon,span.user-icon').each(function () {\r\n\t\t\tif (!utils.isTouchDevice()) {\r\n\t\t\t\t$(this).tooltip({\r\n\t\t\t\t\tplacement: placement || $(this).attr('title-placement') || 'top',\r\n\t\t\t\t\ttitle: $(this).attr('title'),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tapp.createStatusTooltips = function () {\r\n\t\tif (!utils.isTouchDevice()) {\r\n\t\t\t$('body').tooltip({\r\n\t\t\t\tselector: '.fa-circle.status',\r\n\t\t\t\tplacement: 'top',\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tapp.replaceSelfLinks = function (selector) {\r\n\t\tselector = selector || $('a');\r\n\t\tselector.each(function () {\r\n\t\t\tvar href = $(this).attr('href');\r\n\t\t\tif (href && app.user.userslug && href.indexOf('user/_self_') !== -1) {\r\n\t\t\t\t$(this).attr('href', href.replace(/user\\/_self_/g, 'user/' + app.user.userslug));\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tapp.processPage = function () {\r\n\t\thighlightNavigationLink();\r\n\r\n\t\t$('.timeago').timeago();\r\n\r\n\t\tutils.makeNumbersHumanReadable($('.human-readable-number'));\r\n\r\n\t\tutils.addCommasToNumbers($('.formatted-number'));\r\n\r\n\t\tapp.createUserTooltips();\r\n\r\n\t\tapp.createStatusTooltips();\r\n\r\n\t\tapp.replaceSelfLinks();\r\n\r\n\t\t// Scroll back to top of page\r\n\t\tif (!ajaxify.isCold()) {\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t};\r\n\r\n\tapp.showMessages = function () {\r\n\t\tvar messages = {\r\n\t\t\tlogin: {\r\n\t\t\t\tformat: 'alert',\r\n\t\t\t\ttitle: '[[global:welcome_back]] ' + app.user.username + '!',\r\n\t\t\t\tmessage: '[[global:you_have_successfully_logged_in]]',\r\n\t\t\t},\r\n\t\t\tregister: {\r\n\t\t\t\tformat: 'modal',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tfunction showAlert(type, message) {\r\n\t\t\tswitch (messages[type].format) {\r\n\t\t\tcase 'alert':\r\n\t\t\t\tapp.alert({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\ttitle: messages[type].title,\r\n\t\t\t\t\tmessage: messages[type].message,\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'modal':\r\n\t\t\t\trequire(['translator'], function (translator) {\r\n\t\t\t\t\ttranslator.translate(message || messages[type].message, function (translated) {\r\n\t\t\t\t\t\tbootbox.alert({\r\n\t\t\t\t\t\t\ttitle: messages[type].title,\r\n\t\t\t\t\t\t\tmessage: translated,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (showWelcomeMessage) {\r\n\t\t\tshowWelcomeMessage = false;\r\n\t\t\t$(document).ready(function () {\r\n\t\t\t\tshowAlert('login');\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (registerMessage) {\r\n\t\t\t$(document).ready(function () {\r\n\t\t\t\tshowAlert('register', decodeURIComponent(registerMessage));\r\n\t\t\t\tregisterMessage = false;\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tapp.openChat = function (roomId, uid) {\r\n\t\tif (!app.user.uid) {\r\n\t\t\treturn app.alertError('[[error:not-logged-in]]');\r\n\t\t}\r\n\r\n\t\trequire(['chat'], function (chat) {\r\n\t\t\tfunction loadAndCenter(chatModal) {\r\n\t\t\t\tchat.load(chatModal.attr('UUID'));\r\n\t\t\t\tchat.center(chatModal);\r\n\t\t\t\tchat.focusInput(chatModal);\r\n\t\t\t}\r\n\r\n\t\t\tif (chat.modalExists(roomId)) {\r\n\t\t\t\tloadAndCenter(chat.getModal(roomId));\r\n\t\t\t} else {\r\n\t\t\t\tsocket.emit('modules.chats.loadRoom', { roomId: roomId, uid: uid || app.user.uid }, function (err, roomData) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\troomData.users = roomData.users.filter(function (user) {\r\n\t\t\t\t\t\treturn user && parseInt(user.uid, 10) !== parseInt(app.user.uid, 10);\r\n\t\t\t\t\t});\r\n\t\t\t\t\troomData.uid = uid || app.user.uid;\r\n\t\t\t\t\tchat.createModal(roomData, loadAndCenter);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tapp.newChat = function (touid, callback) {\r\n\t\tfunction createChat() {\r\n\t\t\tsocket.emit('modules.chats.newRoom', { touid: touid }, function (err, roomId) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!ajaxify.data.template.chats) {\r\n\t\t\t\t\tapp.openChat(roomId);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tajaxify.go('chats/' + roomId);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcallback(false, roomId);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tcallback = callback || function () {};\r\n\t\tif (!app.user.uid) {\r\n\t\t\treturn app.alertError('[[error:not-logged-in]]');\r\n\t\t}\r\n\r\n\t\tif (parseInt(touid, 10) === parseInt(app.user.uid, 10)) {\r\n\t\t\treturn app.alertError('[[error:cant-chat-with-yourself]]');\r\n\t\t}\r\n\t\tsocket.emit('modules.chats.isDnD', touid, function (err, isDnD) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\t\t\tif (!isDnD) {\r\n\t\t\t\treturn createChat();\r\n\t\t\t}\r\n\t\t\tbootbox.confirm('[[modules:chat.confirm-chat-with-dnd-user]]', function (ok) {\r\n\t\t\t\tif (ok) {\r\n\t\t\t\t\tcreateChat();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tvar\ttitleObj = {\r\n\t\tactive: false,\r\n\t\tinterval: undefined,\r\n\t\ttitles: [],\r\n\t};\r\n\r\n\tapp.alternatingTitle = function (title) {\r\n\t\tif (typeof title !== 'string') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (title.length > 0 && !app.isFocused) {\r\n\t\t\tif (!titleObj.titles[0]) {\r\n\t\t\t\ttitleObj.titles[0] = window.document.title;\r\n\t\t\t}\r\n\r\n\t\t\trequire(['translator'], function (translator) {\r\n\t\t\t\ttranslator.translate(title, function (translated) {\r\n\t\t\t\t\ttitleObj.titles[1] = translated;\r\n\t\t\t\t\tif (titleObj.interval) {\r\n\t\t\t\t\t\tclearInterval(titleObj.interval);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttitleObj.interval = setInterval(function () {\r\n\t\t\t\t\t\tvar title = titleObj.titles[titleObj.titles.indexOf(window.document.title) ^ 1];\r\n\t\t\t\t\t\tif (title) {\r\n\t\t\t\t\t\t\twindow.document.title = $('<div/>').html(title).text();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (titleObj.interval) {\r\n\t\t\t\tclearInterval(titleObj.interval);\r\n\t\t\t}\r\n\t\t\tif (titleObj.titles[0]) {\r\n\t\t\t\twindow.document.title = $('<div/>').html(titleObj.titles[0]).text();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tapp.refreshTitle = function (title) {\r\n\t\tif (!title) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trequire(['translator'], function (translator) {\r\n\t\t\ttitle = config.titleLayout.replace(/&#123;/g, '{').replace(/&#125;/g, '}')\r\n\t\t\t\t.replace('{pageTitle}', function () { return title; })\r\n\t\t\t\t.replace('{browserTitle}', function () { return config.browserTitle; });\r\n\r\n\t\t\t// Allow translation strings in title on ajaxify (#5927)\r\n\t\t\ttitle = translator.unescape(title);\r\n\r\n\t\t\ttranslator.translate(title, function (translated) {\r\n\t\t\t\ttitleObj.titles[0] = translated;\r\n\t\t\t\tapp.alternatingTitle('');\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tapp.toggleNavbar = function (state) {\r\n\t\tvar navbarEl = $('.navbar');\r\n\t\tif (navbarEl) {\r\n\t\t\tnavbarEl.toggleClass('hidden', !state);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction createHeaderTooltips() {\r\n\t\tvar env = utils.findBootstrapEnvironment();\r\n\t\tif (env === 'xs' || env === 'sm') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('#header-menu li a[title]').each(function () {\r\n\t\t\tif (!utils.isTouchDevice()) {\r\n\t\t\t\t$(this).tooltip({\r\n\t\t\t\t\tplacement: 'bottom',\r\n\t\t\t\t\ttrigger: 'hover',\r\n\t\t\t\t\ttitle: $(this).attr('title'),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!utils.isTouchDevice()) {\r\n\t\t\t$('#search-form').parent().tooltip({\r\n\t\t\t\tplacement: 'bottom',\r\n\t\t\t\ttrigger: 'hover',\r\n\t\t\t\ttitle: $('#search-button i').attr('title'),\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (!utils.isTouchDevice()) {\r\n\t\t\t$('#user_dropdown').tooltip({\r\n\t\t\t\tplacement: 'bottom',\r\n\t\t\t\ttrigger: 'hover',\r\n\t\t\t\ttitle: $('#user_dropdown').attr('title'),\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tapp.handleSearch = function () {\r\n\t\tvar searchButton = $('#search-button');\r\n\t\tvar searchFields = $('#search-fields');\r\n\t\tvar searchInput = $('#search-fields input');\r\n\r\n\t\t$('#search-form .advanced-search-link').on('mousedown', function () {\r\n\t\t\tajaxify.go('/search');\r\n\t\t});\r\n\r\n\t\t$('#search-form').on('submit', dismissSearch);\r\n\t\tsearchInput.on('blur', dismissSearch);\r\n\r\n\t\tfunction dismissSearch() {\r\n\t\t\tsearchFields.addClass('hidden');\r\n\t\t\tsearchButton.removeClass('hidden');\r\n\t\t}\r\n\r\n\t\tsearchButton.on('click', function (e) {\r\n\t\t\tif (!config.loggedIn && !config.allowGuestSearching) {\r\n\t\t\t\tapp.alert({\r\n\t\t\t\t\tmessage: '[[error:search-requires-login]]',\r\n\t\t\t\t\ttimeout: 3000,\r\n\t\t\t\t});\r\n\t\t\t\tajaxify.go('login');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tapp.prepareSearch();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\t$('#search-form').on('submit', function () {\r\n\t\t\tvar input = $(this).find('input');\r\n\t\t\trequire(['search'], function (search) {\r\n\t\t\t\tvar data = search.getSearchPreferences();\r\n\t\t\t\tdata.term = input.val();\r\n\t\t\t\tsearch.query(data, function () {\r\n\t\t\t\t\tinput.val('');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\r\n\tapp.prepareSearch = function () {\r\n\t\t$('#search-fields').removeClass('hidden');\r\n\t\t$('#search-button').addClass('hidden');\r\n\t\t$('#search-fields input').focus();\r\n\t};\r\n\r\n\tfunction handleStatusChange() {\r\n\t\t$('[component=\"header/usercontrol\"] [data-status]').off('click').on('click', function (e) {\r\n\t\t\tvar status = $(this).attr('data-status');\r\n\t\t\tsocket.emit('user.setStatus', status, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\t$('[data-uid=\"' + app.user.uid + '\"] [component=\"user/status\"], [component=\"header/profilelink\"] [component=\"user/status\"]')\r\n\t\t\t\t\t.removeClass('away online dnd offline')\r\n\t\t\t\t\t.addClass(status);\r\n\r\n\t\t\t\tapp.user.status = status;\r\n\t\t\t});\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n\r\n\tapp.updateUserStatus = function (el, status) {\r\n\t\tif (!el.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\trequire(['translator'], function (translator) {\r\n\t\t\ttranslator.translate('[[global:' + status + ']]', function (translated) {\r\n\t\t\t\tel.removeClass('online offline dnd away')\r\n\t\t\t\t\t.addClass(status)\r\n\t\t\t\t\t.attr('title', translated)\r\n\t\t\t\t\t.attr('data-original-title', translated);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tapp.newTopic = function (cid, tags) {\r\n\t\t$(window).trigger('action:composer.topic.new', {\r\n\t\t\tcid: cid || ajaxify.data.cid || 0,\r\n\t\t\ttags: tags || (ajaxify.data.tag ? [ajaxify.data.tag] : []),\r\n\t\t});\r\n\t};\r\n\r\n\tapp.loadJQueryUI = function (callback) {\r\n\t\tif (typeof $().autocomplete === 'function') {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tvar scriptEl = document.createElement('script');\r\n\t\tscriptEl.type = 'text/javascript';\r\n\t\tscriptEl.src = config.relative_path + '/assets/vendor/jquery/js/jquery-ui.js?' + config['cache-buster'];\r\n\t\tscriptEl.onload = callback;\r\n\t\tdocument.head.appendChild(scriptEl);\r\n\t};\r\n\r\n\tapp.showEmailConfirmWarning = function (err) {\r\n\t\tif (!config.requireEmailConfirmation || !app.user.uid) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar msg = {\r\n\t\t\talert_id: 'email_confirm',\r\n\t\t\ttype: 'warning',\r\n\t\t\ttimeout: 0,\r\n\t\t};\r\n\r\n\t\tif (!app.user.email) {\r\n\t\t\tmsg.message = '[[error:no-email-to-confirm]]';\r\n\t\t\tmsg.clickfn = function () {\r\n\t\t\t\tapp.removeAlert('email_confirm');\r\n\t\t\t\tajaxify.go('user/' + app.user.userslug + '/edit');\r\n\t\t\t};\r\n\t\t\tapp.alert(msg);\r\n\t\t} else if (!app.user['email:confirmed'] && !app.user.isEmailConfirmSent) {\r\n\t\t\tmsg.message = err ? err.message : '[[error:email-not-confirmed]]';\r\n\t\t\tmsg.clickfn = function () {\r\n\t\t\t\tapp.removeAlert('email_confirm');\r\n\t\t\t\tsocket.emit('user.emailConfirm', {}, function (err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tapp.alertSuccess('[[notifications:email-confirm-sent]]');\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tapp.alert(msg);\r\n\t\t} else if (!app.user['email:confirmed'] && app.user.isEmailConfirmSent) {\r\n\t\t\tmsg.message = '[[error:email-not-confirmed-email-sent]]';\r\n\t\t\tapp.alert(msg);\r\n\t\t}\r\n\t};\r\n\r\n\tapp.parseAndTranslate = function (template, blockName, data, callback) {\r\n\t\trequire(['translator', 'benchpress'], function (translator, Benchpress) {\r\n\t\t\tfunction translate(html, callback) {\r\n\t\t\t\ttranslator.translate(html, function (translatedHTML) {\r\n\t\t\t\t\ttranslatedHTML = translator.unescape(translatedHTML);\r\n\t\t\t\t\tcallback($(translatedHTML));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof blockName === 'string') {\r\n\t\t\t\tBenchpress.parse(template, blockName, data, function (html) {\r\n\t\t\t\t\ttranslate(html, callback);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tcallback = data;\r\n\t\t\t\tdata = blockName;\r\n\t\t\t\tBenchpress.parse(template, data, function (html) {\r\n\t\t\t\t\ttranslate(html, callback);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tapp.loadProgressiveStylesheet = function () {\r\n\t\tvar linkEl = document.createElement('link');\r\n\t\tlinkEl.rel = 'stylesheet';\r\n\t\tlinkEl.href = config.relative_path + '/assets/js-enabled.css';\r\n\r\n\t\tdocument.head.appendChild(linkEl);\r\n\t};\r\n\r\n\tapp.showCookieWarning = function () {\r\n\t\trequire(['translator', 'storage'], function (translator, storage) {\r\n\t\t\tif (!config.cookies.enabled || !navigator.cookieEnabled) {\r\n\t\t\t\t// Skip warning if cookie consent subsystem disabled (obviously), or cookies not in use\r\n\t\t\t\treturn;\r\n\t\t\t} else if (window.location.pathname.startsWith(config.relative_path + '/admin')) {\r\n\t\t\t\t// No need to show cookie consent warning in ACP\r\n\t\t\t\treturn;\r\n\t\t\t} else if (storage.getItem('cookieconsent') === '1') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconfig.cookies.message = translator.unescape(config.cookies.message);\r\n\t\t\tconfig.cookies.dismiss = translator.unescape(config.cookies.dismiss);\r\n\t\t\tconfig.cookies.link = translator.unescape(config.cookies.link);\r\n\r\n\t\t\tapp.parseAndTranslate('partials/cookie-consent', config.cookies, function (html) {\r\n\t\t\t\t$(document.body).append(html);\r\n\r\n\t\t\t\tvar warningEl = $('.cookie-consent');\r\n\t\t\t\tvar dismissEl = warningEl.find('button');\r\n\t\t\t\tdismissEl.on('click', function () {\r\n\t\t\t\t\t// Save consent cookie and remove warning element\r\n\t\t\t\t\tstorage.setItem('cookieconsent', '1');\r\n\t\t\t\t\twarningEl.remove();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n}());\r\n","'use strict';\r\n\r\n\r\nvar ajaxify = window.ajaxify || {};\r\n\r\n$(document).ready(function () {\r\n\tvar location = document.location || window.location;\r\n\tvar rootUrl = location.protocol + '//' + (location.hostname || location.host) + (location.port ? ':' + location.port : '');\r\n\tvar apiXHR = null;\r\n\tvar ajaxifyTimer;\r\n\r\n\tvar translator;\r\n\tvar Benchpress;\r\n\tvar retry = true;\r\n\tvar previousBodyClass = '';\r\n\r\n\t// Dumb hack to fool ajaxify into thinking translator is still a global\r\n\t// When ajaxify is migrated to a require.js module, then this can be merged into the \"define\" call\r\n\trequire(['translator', 'benchpress'], function (_translator, _Benchpress) {\r\n\t\ttranslator = _translator;\r\n\t\tBenchpress = _Benchpress;\r\n\t});\r\n\r\n\t$(window).on('popstate', function (ev) {\r\n\t\tev = ev.originalEvent;\r\n\r\n\t\tif (ev !== null && ev.state) {\r\n\t\t\tif (ev.state.url === null && ev.state.returnPath !== undefined) {\r\n\t\t\t\twindow.history.replaceState({\r\n\t\t\t\t\turl: ev.state.returnPath,\r\n\t\t\t\t}, ev.state.returnPath, config.relative_path + '/' + ev.state.returnPath);\r\n\t\t\t} else if (ev.state.url !== undefined) {\r\n\t\t\t\tajaxify.go(ev.state.url, function () {\r\n\t\t\t\t\t$(window).trigger('action:popstate', { url: ev.state.url });\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tajaxify.count = 0;\r\n\tajaxify.currentPage = null;\r\n\r\n\tajaxify.go = function (url, callback, quiet) {\r\n\t\tif (!socket.connected) {\r\n\t\t\tif (ajaxify.reconnectAction) {\r\n\t\t\t\t$(window).off('action:reconnected', ajaxify.reconnectAction);\r\n\t\t\t}\r\n\t\t\tajaxify.reconnectAction = function (e) {\r\n\t\t\t\tajaxify.go(url, callback, quiet);\r\n\t\t\t\t$(window).off(e);\r\n\t\t\t};\r\n\t\t\t$(window).on('action:reconnected', ajaxify.reconnectAction);\r\n\t\t}\r\n\r\n\t\t// Abort subsequent requests if clicked multiple times within a short window of time\r\n\t\tif (ajaxifyTimer && (Date.now() - ajaxifyTimer) < 500) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tajaxifyTimer = Date.now();\r\n\r\n\t\tif (ajaxify.handleRedirects(url)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tapp.leaveCurrentRoom();\r\n\r\n\t\t$(window).off('scroll');\r\n\r\n\t\tif ($('#content').hasClass('ajaxifying') && apiXHR) {\r\n\t\t\tapiXHR.abort();\r\n\t\t}\r\n\r\n\t\tapp.previousUrl = window.location.href;\r\n\r\n\t\turl = ajaxify.start(url);\r\n\r\n\t\t// If any listeners alter url and set it to an empty string, abort the ajaxification\r\n\t\tif (url === null) {\r\n\t\t\t$(window).trigger('action:ajaxify.end', { url: url, tpl_url: ajaxify.data.template.name, title: ajaxify.data.title });\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tpreviousBodyClass = ajaxify.data.bodyClass;\r\n\t\t$('#footer, #content').removeClass('hide').addClass('ajaxifying');\r\n\r\n\t\tajaxify.loadData(url, function (err, data) {\r\n\t\t\tif (!err || (err && err.data && (parseInt(err.data.status, 10) !== 302 && parseInt(err.data.status, 10) !== 308))) {\r\n\t\t\t\tajaxify.updateHistory(url, quiet);\r\n\t\t\t}\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\treturn onAjaxError(err, url, callback, quiet);\r\n\t\t\t}\r\n\r\n\t\t\tretry = true;\r\n\t\t\tapp.template = data.template.name;\r\n\r\n\t\t\trenderTemplate(url, data.template.name, data, callback);\r\n\t\t});\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\tajaxify.isCold = function () {\r\n\t\treturn ajaxify.count <= 1;\r\n\t};\r\n\r\n\tajaxify.handleRedirects = function (url) {\r\n\t\turl = ajaxify.removeRelativePath(url.replace(/^\\/|\\/$/g, '')).toLowerCase();\r\n\t\tvar isClientToAdmin = url.startsWith('admin') && window.location.pathname.indexOf(RELATIVE_PATH + '/admin') !== 0;\r\n\t\tvar isAdminToClient = !url.startsWith('admin') && window.location.pathname.indexOf(RELATIVE_PATH + '/admin') === 0;\r\n\t\tvar uploadsOrApi = url.startsWith('assets/') || url.startsWith('uploads') || url.startsWith('api');\r\n\r\n\t\tif (isClientToAdmin || isAdminToClient || uploadsOrApi) {\r\n\t\t\twindow.open(RELATIVE_PATH + '/' + url, '_top');\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tajaxify.start = function (url) {\r\n\t\turl = ajaxify.removeRelativePath(url.replace(/^\\/|\\/$/g, ''));\r\n\r\n\t\tvar payload = {\r\n\t\t\turl: url,\r\n\t\t};\r\n\r\n\t\t$(window).trigger('action:ajaxify.start', payload);\r\n\r\n\t\tajaxify.count += 1;\r\n\r\n\t\treturn payload.url;\r\n\t};\r\n\r\n\tajaxify.updateHistory = function (url, quiet) {\r\n\t\tajaxify.currentPage = url.split(/[?#]/)[0];\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\twindow.history[!quiet ? 'pushState' : 'replaceState']({\r\n\t\t\t\turl: url,\r\n\t\t\t}, url, RELATIVE_PATH + '/' + url);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction onAjaxError(err, url, callback, quiet) {\r\n\t\tvar data = err.data;\r\n\t\tvar textStatus = err.textStatus;\r\n\r\n\t\tif (data) {\r\n\t\t\tvar status = parseInt(data.status, 10);\r\n\t\t\tif (status === 403 || status === 404 || status === 500 || status === 502 || status === 503) {\r\n\t\t\t\tif (status === 502 && retry) {\r\n\t\t\t\t\tretry = false;\r\n\t\t\t\t\tajaxifyTimer = undefined;\r\n\t\t\t\t\treturn ajaxify.go(url, callback, quiet);\r\n\t\t\t\t}\r\n\t\t\t\tif (status === 502) {\r\n\t\t\t\t\tstatus = 500;\r\n\t\t\t\t}\r\n\t\t\t\tif (data.responseJSON) {\r\n\t\t\t\t\tdata.responseJSON.config = config;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('#footer, #content').removeClass('hide').addClass('ajaxifying');\r\n\t\t\t\treturn renderTemplate(url, status.toString(), data.responseJSON || {}, callback);\r\n\t\t\t} else if (status === 401) {\r\n\t\t\t\tapp.alertError('[[global:please_log_in]]');\r\n\t\t\t\tapp.previousUrl = url;\r\n\t\t\t\twindow.location.href = config.relative_path + '/login';\r\n\t\t\t} else if (status === 302 || status === 308) {\r\n\t\t\t\tif (data.responseJSON && data.responseJSON.external) {\r\n\t\t\t\t\twindow.location.href = data.responseJSON.external;\r\n\t\t\t\t} else if (typeof data.responseJSON === 'string') {\r\n\t\t\t\t\tajaxifyTimer = undefined;\r\n\t\t\t\t\tajaxify.go(data.responseJSON.slice(1), callback, quiet);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (textStatus !== 'abort') {\r\n\t\t\tapp.alertError(data.responseJSON.error);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderTemplate(url, tpl_url, data, callback) {\r\n\t\t$(window).trigger('action:ajaxify.loadingTemplates', {});\r\n\r\n\t\tBenchpress.parse(tpl_url, data, function (template) {\r\n\t\t\ttranslator.translate(template, function (translatedTemplate) {\r\n\t\t\t\ttranslatedTemplate = translator.unescape(translatedTemplate);\r\n\t\t\t\t$('body').removeClass(previousBodyClass).addClass(data.bodyClass);\r\n\t\t\t\t$('#content').html(translatedTemplate);\r\n\r\n\t\t\t\tajaxify.end(url, tpl_url);\r\n\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('#content, #footer').removeClass('ajaxifying');\r\n\r\n\t\t\t\tapp.refreshTitle(data.title);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tajaxify.end = function (url, tpl_url) {\r\n\t\tvar count = 2;\r\n\t\tfunction done() {\r\n\t\t\tcount -= 1;\r\n\t\t\tif (count === 0) {\r\n\t\t\t\t$(window).trigger('action:ajaxify.end', { url: url, tpl_url: tpl_url, title: ajaxify.data.title });\r\n\t\t\t}\r\n\t\t}\r\n\t\tajaxify.loadScript(tpl_url, done);\r\n\t\tajaxify.widgets.render(tpl_url, done);\r\n\r\n\t\t$(window).trigger('action:ajaxify.contentLoaded', { url: url, tpl: tpl_url });\r\n\r\n\t\tapp.processPage();\r\n\t};\r\n\r\n\tajaxify.parseData = function () {\r\n\t\tvar dataEl = $('#ajaxify-data');\r\n\t\tif (dataEl.length) {\r\n\t\t\tajaxify.data = JSON.parse(dataEl.text());\r\n\t\t\tdataEl.remove();\r\n\t\t}\r\n\t};\r\n\r\n\tajaxify.removeRelativePath = function (url) {\r\n\t\tif (url.startsWith(RELATIVE_PATH.slice(1))) {\r\n\t\t\turl = url.slice(RELATIVE_PATH.length);\r\n\t\t}\r\n\t\treturn url;\r\n\t};\r\n\r\n\tajaxify.refresh = function (callback) {\r\n\t\tajaxify.go(ajaxify.currentPage + window.location.search + window.location.hash, callback, true);\r\n\t};\r\n\r\n\tajaxify.loadScript = function (tpl_url, callback) {\r\n\t\tvar location = !app.inAdmin ? 'forum/' : '';\r\n\r\n\t\tif (tpl_url.startsWith('admin')) {\r\n\t\t\tlocation = '';\r\n\t\t}\r\n\t\tvar data = {\r\n\t\t\ttpl_url: tpl_url,\r\n\t\t\tscripts: [location + tpl_url],\r\n\t\t};\r\n\r\n\t\t$(window).trigger('action:script.load', data);\r\n\r\n\t\t// Require and parse modules\r\n\t\tvar outstanding = data.scripts.length;\r\n\r\n\t\tdata.scripts.map(function (script) {\r\n\t\t\tif (typeof script === 'function') {\r\n\t\t\t\treturn function (next) {\r\n\t\t\t\t\tscript();\r\n\t\t\t\t\tnext();\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (typeof script === 'string') {\r\n\t\t\t\treturn function (next) {\r\n\t\t\t\t\trequire([script], function (script) {\r\n\t\t\t\t\t\tif (script && script.init) {\r\n\t\t\t\t\t\t\tscript.init();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}, function () {\r\n\t\t\t\t\t\t// ignore 404 error\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}).filter(Boolean).forEach(function (fn) {\r\n\t\t\tfn(function () {\r\n\t\t\t\toutstanding -= 1;\r\n\t\t\t\tif (outstanding === 0) {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tajaxify.loadData = function (url, callback) {\r\n\t\turl = ajaxify.removeRelativePath(url);\r\n\r\n\t\t$(window).trigger('action:ajaxify.loadingData', { url: url });\r\n\r\n\t\tapiXHR = $.ajax({\r\n\t\t\turl: RELATIVE_PATH + '/api/' + url,\r\n\t\t\tcache: false,\r\n\t\t\theaders: {\r\n\t\t\t\t'X-Return-To': app.previousUrl,\r\n\t\t\t},\r\n\t\t\tsuccess: function (data, textStatus, xhr) {\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (xhr.getResponseHeader('X-Redirect')) {\r\n\t\t\t\t\treturn callback({\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tstatus: 302,\r\n\t\t\t\t\t\t\tresponseJSON: data,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttextStatus: 'error',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tajaxify.data = data;\r\n\t\t\t\tdata.config = config;\r\n\r\n\t\t\t\t$(window).trigger('action:ajaxify.dataLoaded', { url: url, data: data });\r\n\r\n\t\t\t\tcallback(null, data);\r\n\t\t\t},\r\n\t\t\terror: function (data, textStatus) {\r\n\t\t\t\tif (data.status === 0 && textStatus === 'error') {\r\n\t\t\t\t\tdata.status = 500;\r\n\t\t\t\t}\r\n\t\t\t\tcallback({\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\ttextStatus: textStatus,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tajaxify.loadTemplate = function (template, callback) {\r\n\t\trequire([config.relative_path + '/assets/templates/' + template + '.js'], callback, function (err) {\r\n\t\t\tconsole.error('Unable to load template: ' + template);\r\n\t\t\tthrow err;\r\n\t\t});\r\n\t};\r\n\r\n\tfunction ajaxifyAnchors() {\r\n\t\tfunction hrefEmpty(href) {\r\n\t\t\treturn href === undefined || href === '' || href === 'javascript:;';\r\n\t\t}\r\n\r\n\t\tvar contentEl = document.getElementById('content');\r\n\r\n\t\t// Enhancing all anchors to ajaxify...\r\n\t\t$(document.body).on('click', 'a', function (e) {\r\n\t\t\tvar _self = this;\r\n\t\t\tif (this.target !== '' || (this.protocol !== 'http:' && this.protocol !== 'https:')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar internalLink = utils.isInternalURI(this, window.location, RELATIVE_PATH);\r\n\r\n\t\t\tvar process = function () {\r\n\t\t\t\tif (!e.ctrlKey && !e.shiftKey && !e.metaKey && e.which === 1) {\r\n\t\t\t\t\tif (internalLink) {\r\n\t\t\t\t\t\tvar pathname = this.href.replace(rootUrl + RELATIVE_PATH + '/', '');\r\n\r\n\t\t\t\t\t\t// Special handling for urls with hashes\r\n\t\t\t\t\t\tif (window.location.pathname === this.pathname && this.hash.length) {\r\n\t\t\t\t\t\t\twindow.location.hash = this.hash;\r\n\t\t\t\t\t\t} else if (ajaxify.go(pathname)) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (window.location.pathname !== '/outgoing') {\r\n\t\t\t\t\t\tif (config.openOutgoingLinksInNewTab && $.contains(contentEl, this)) {\r\n\t\t\t\t\t\t\twindow.open(this.href, '_blank');\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t} else if (config.useOutgoingLinksPage) {\r\n\t\t\t\t\t\t\tvar safeUrls = config.outgoingLinksWhitelist.trim().split(/[\\s,]+/g).filter(Boolean);\r\n\t\t\t\t\t\t\tvar href = this.href;\r\n\t\t\t\t\t\t\tif (!safeUrls.length || !safeUrls.some(function (url) { return href.indexOf(url) !== -1; })) {\r\n\t\t\t\t\t\t\t\tajaxify.go('outgoing?url=' + encodeURIComponent(href));\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif ($(this).attr('data-ajaxify') === 'false') {\r\n\t\t\t\tif (!internalLink) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn e.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\t// Default behaviour for rss feeds\r\n\t\t\tif (internalLink && $(this).attr('href') && $(this).attr('href').endsWith('.rss')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (hrefEmpty(this.href) || this.protocol === 'javascript:' || $(this).attr('href') === '#') {\r\n\t\t\t\treturn e.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tif (app.flags && app.flags.hasOwnProperty('_unsaved') && app.flags._unsaved === true) {\r\n\t\t\t\tif (e.ctrlKey) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttranslator.translate('[[global:unsaved-changes]]', function (text) {\r\n\t\t\t\t\tbootbox.confirm(text, function (navigate) {\r\n\t\t\t\t\t\tif (navigate) {\r\n\t\t\t\t\t\t\tapp.flags._unsaved = false;\r\n\t\t\t\t\t\t\tprocess.call(_self);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\treturn e.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tprocess.call(_self);\r\n\t\t});\r\n\t}\r\n\r\n\trequire(['benchpress'], function (Benchpress) {\r\n\t\tBenchpress.registerLoader(ajaxify.loadTemplate);\r\n\t});\r\n\r\n\tif (window.history && window.history.pushState) {\r\n\t\t// Progressive Enhancement, ajaxify available only to modern browsers\r\n\t\tajaxifyAnchors();\r\n\t}\r\n\r\n\tapp.load();\r\n});\r\n","'use strict';\r\n\r\n\r\nvar overrides = window.overrides || {};\r\n\r\nif (typeof window !== 'undefined') {\r\n\t(function ($) {\r\n\t\trequire(['translator'], function (translator) {\r\n\t\t\t$.fn.getCursorPosition = function () {\r\n\t\t\t\tvar el = $(this).get(0);\r\n\t\t\t\tvar pos = 0;\r\n\t\t\t\tif ('selectionStart' in el) {\r\n\t\t\t\t\tpos = el.selectionStart;\r\n\t\t\t\t} else if ('selection' in document) {\r\n\t\t\t\t\tel.focus();\r\n\t\t\t\t\tvar Sel = document.selection.createRange();\r\n\t\t\t\t\tvar SelLength = document.selection.createRange().text.length;\r\n\t\t\t\t\tSel.moveStart('character', -el.value.length);\r\n\t\t\t\t\tpos = Sel.text.length - SelLength;\r\n\t\t\t\t}\r\n\t\t\t\treturn pos;\r\n\t\t\t};\r\n\r\n\t\t\t$.fn.selectRange = function (start, end) {\r\n\t\t\t\tif (!end) {\r\n\t\t\t\t\tend = start;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\tif (this.setSelectionRange) {\r\n\t\t\t\t\t\tthis.focus();\r\n\t\t\t\t\t\tthis.setSelectionRange(start, end);\r\n\t\t\t\t\t} else if (this.createTextRange) {\r\n\t\t\t\t\t\tvar range = this.createTextRange();\r\n\t\t\t\t\t\trange.collapse(true);\r\n\t\t\t\t\t\trange.moveEnd('character', end);\r\n\t\t\t\t\t\trange.moveStart('character', start);\r\n\t\t\t\t\t\trange.select();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t// http://stackoverflow.com/questions/511088/use-javascript-to-place-cursor-at-end-of-text-in-text-input-element\r\n\t\t\t$.fn.putCursorAtEnd = function () {\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\t$(this).focus();\r\n\r\n\t\t\t\t\tif (this.setSelectionRange) {\r\n\t\t\t\t\t\tvar len = $(this).val().length * 2;\r\n\t\t\t\t\t\tthis.setSelectionRange(len, len);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).val($(this).val());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.scrollTop = 999999;\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t$.fn.translateHtml = function (str) {\r\n\t\t\t\treturn translate(this, 'html', str);\r\n\t\t\t};\r\n\r\n\t\t\t$.fn.translateText = function (str) {\r\n\t\t\t\treturn translate(this, 'text', str);\r\n\t\t\t};\r\n\r\n\t\t\t$.fn.translateVal = function (str) {\r\n\t\t\t\treturn translate(this, 'val', str);\r\n\t\t\t};\r\n\r\n\t\t\t$.fn.translateAttr = function (attr, str) {\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\tvar el = $(this);\r\n\t\t\t\t\ttranslator.translate(str, function (translated) {\r\n\t\t\t\t\t\tel.attr(attr, translated);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tfunction translate(elements, type, str) {\r\n\t\t\t\treturn elements.each(function () {\r\n\t\t\t\t\tvar el = $(this);\r\n\t\t\t\t\ttranslator.translate(str, function (translated) {\r\n\t\t\t\t\t\tel[type](translated);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}(jQuery || { fn: {} }));\r\n\r\n\t(function () {\r\n\t\t// FIX FOR #1245 - https://github.com/NodeBB/NodeBB/issues/1245\r\n\t\t// from http://stackoverflow.com/questions/15931962/bootstrap-dropdown-disappear-with-right-click-on-firefox\r\n\t\t// obtain a reference to the original handler\r\n\t\tvar _clearMenus = $._data(document, 'events').click.filter(function (el) {\r\n\t\t\treturn el.namespace === 'bs.data-api.dropdown' && el.selector === undefined;\r\n\t\t});\r\n\r\n\t\tif (_clearMenus.length) {\r\n\t\t\t_clearMenus = _clearMenus[0].handler;\r\n\t\t}\r\n\r\n\t\t// disable the old listener\r\n\t\t$(document)\r\n\t\t\t.off('click.data-api.dropdown', _clearMenus)\r\n\t\t\t.on('click.data-api.dropdown', function (e) {\r\n\t\t\t\t// call the handler only when not right-click\r\n\t\t\t\tif (e.button !== 2) {\r\n\t\t\t\t\t_clearMenus();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}());\r\n\r\n\toverrides.overrideTimeago = function () {\r\n\t\tvar timeagoFn = $.fn.timeago;\r\n\t\tif (parseInt(config.timeagoCutoff, 10) === 0) {\r\n\t\t\t$.timeago.settings.cutoff = 1;\r\n\t\t} else if (parseInt(config.timeagoCutoff, 10) > 0) {\r\n\t\t\t$.timeago.settings.cutoff = 1000 * 60 * 60 * 24 * (parseInt(config.timeagoCutoff, 10) || 30);\r\n\t\t}\r\n\r\n\t\t$.timeago.settings.allowFuture = true;\r\n\r\n\t\t$.fn.timeago = function () {\r\n\t\t\tvar els = $(this);\r\n\r\n\t\t\t// Convert \"old\" format to new format (#5108)\r\n\t\t\tvar options = { year: 'numeric', month: 'short', day: 'numeric', hour: 'numeric', minute: 'numeric' };\r\n\t\t\tvar iso;\r\n\t\t\tels.each(function () {\r\n\t\t\t\tiso = this.getAttribute('title');\r\n\t\t\t\tthis.setAttribute('datetime', iso);\r\n\t\t\t\t$(this).text(new Date(iso).toLocaleString(config.userLang.replace('_', '-'), options));\r\n\t\t\t});\r\n\r\n\t\t\ttimeagoFn.apply(this, arguments);\r\n\t\t};\r\n\t};\r\n}\r\n","'use strict';\r\n\r\n(function (ajaxify) {\r\n\tajaxify.widgets = {};\r\n\r\n\tajaxify.widgets.render = function (template, callback) {\r\n\t\tcallback = callback || function () {};\r\n\r\n\t\tif (template.match(/^admin/)) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tvar locations = Object.keys(ajaxify.data.widgets);\r\n\r\n\t\tlocations.forEach(function (location) {\r\n\t\t\tvar area = $('#content [widget-area=\"' + location + '\"]');\r\n\t\t\tif (area.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar widgetsAtLocation = ajaxify.data.widgets[location] || [];\r\n\t\t\tvar html = '';\r\n\r\n\t\t\twidgetsAtLocation.forEach(function (widget) {\r\n\t\t\t\thtml += widget.html;\r\n\t\t\t});\r\n\r\n\t\t\tif (location === 'footer' && !$('#content [widget-area=\"footer\"]').length) {\r\n\t\t\t\t$('#content').append($('<div class=\"row\"><div widget-area=\"footer\" class=\"col-xs-12\"></div></div>'));\r\n\t\t\t} else if (location === 'sidebar' && !$('#content [widget-area=\"sidebar\"]').length) {\r\n\t\t\t\tif ($('[component=\"account/cover\"]').length) {\r\n\t\t\t\t\t$('[component=\"account/cover\"]').nextAll().wrapAll($('<div class=\"row\"><div class=\"col-lg-9 col-xs-12\"></div><div widget-area=\"sidebar\" class=\"col-lg-3 col-xs-12\"></div></div></div>'));\r\n\t\t\t\t} else if ($('[component=\"groups/cover\"]').length) {\r\n\t\t\t\t\t$('[component=\"groups/cover\"]').nextAll().wrapAll($('<div class=\"row\"><div class=\"col-lg-9 col-xs-12\"></div><div widget-area=\"sidebar\" class=\"col-lg-3 col-xs-12\"></div></div></div>'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$('#content > *').wrapAll($('<div class=\"row\"><div class=\"col-lg-9 col-xs-12\"></div><div widget-area=\"sidebar\" class=\"col-lg-3 col-xs-12\"></div></div></div>'));\r\n\t\t\t\t}\r\n\t\t\t} else if (location === 'header' && !$('#content [widget-area=\"header\"]').length) {\r\n\t\t\t\t$('#content').prepend($('<div class=\"row\"><div widget-area=\"header\" class=\"col-xs-12\"></div></div>'));\r\n\t\t\t}\r\n\r\n\t\t\tarea = $('#content [widget-area=\"' + location + '\"]');\r\n\t\t\tif (html && area.length) {\r\n\t\t\t\tarea.html(html);\r\n\t\t\t}\r\n\r\n\t\t\tif (widgetsAtLocation.length) {\r\n\t\t\t\tarea.removeClass('hidden');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar widgetAreas = $('#content [widget-area]');\r\n\t\twidgetAreas.find('img:not(.not-responsive)').addClass('img-responsive');\r\n\t\twidgetAreas.find('.timeago').timeago();\r\n\t\twidgetAreas.find('img[title].teaser-pic,img[title].user-img').each(function () {\r\n\t\t\t$(this).tooltip({\r\n\t\t\t\tplacement: 'top',\r\n\t\t\t\ttitle: $(this).attr('title'),\r\n\t\t\t});\r\n\t\t});\r\n\t\t$(window).trigger('action:widgets.loaded', {});\r\n\t\tcallback();\r\n\t};\r\n}(ajaxify || {}));\r\n","'use strict';\r\n\r\n\r\ndefine('forum/footer', ['notifications', 'chat', 'components', 'translator'], function (Notifications, Chat, components, translator) {\r\n\tNotifications.prepareDOM();\r\n\tChat.prepareDOM();\r\n\ttranslator.prepareDOM();\r\n\r\n\tfunction updateUnreadTopicCount(url, count) {\r\n\t\tif (!utils.isNumber(count)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('a[href=\"' + config.relative_path + url + '\"].navigation-link i')\r\n\t\t\t.toggleClass('unread-count', count > 0)\r\n\t\t\t.attr('data-content', count > 99 ? '99+' : count);\r\n\t}\r\n\r\n\tfunction updateUnreadChatCount(count) {\r\n\t\tcomponents.get('chat/icon')\r\n\t\t\t.toggleClass('unread-count', count > 0)\r\n\t\t\t.attr('data-content', count > 99 ? '99+' : count);\r\n\t}\r\n\r\n\tfunction initUnreadTopics() {\r\n\t\tvar unreadTopics = {};\r\n\r\n\t\tfunction onNewPost(data) {\r\n\t\t\tif (data && data.posts && data.posts.length) {\r\n\t\t\t\tvar post = data.posts[0];\r\n\r\n\t\t\t\tif (parseInt(post.uid, 10) !== parseInt(app.user.uid, 10) && !unreadTopics[post.topic.tid]) {\r\n\t\t\t\t\tincreaseUnreadCount(data);\r\n\t\t\t\t\tmarkTopicsUnread(post.topic.tid);\r\n\t\t\t\t\tunreadTopics[post.topic.tid] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction increaseUnreadCount(data) {\r\n\t\t\tvar post = data.posts[0];\r\n\r\n\t\t\tvar unreadTopicCount = parseInt($('a[href=\"' + config.relative_path + '/unread\"].navigation-link i').attr('data-content'), 10) + 1;\r\n\t\t\tupdateUnreadTopicCount('/unread', unreadTopicCount);\r\n\r\n\t\t\tvar isNewTopic = post.isMain && parseInt(post.uid, 10) !== parseInt(app.user.uid, 10);\r\n\t\t\tif (isNewTopic) {\r\n\t\t\t\tvar unreadNewTopicCount = parseInt($('a[href=\"' + config.relative_path + '/unread/new\"].navigation-link i').attr('data-content'), 10) + 1;\r\n\t\t\t\tupdateUnreadTopicCount('/unread/new', unreadNewTopicCount);\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.isFollowed', post.topic.tid, function (err, isFollowed) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tif (isFollowed) {\r\n\t\t\t\t\tvar unreadWatchedTopicCount = parseInt($('a[href=\"' + config.relative_path + '/unread/watched\"].navigation-link i').attr('data-content'), 10) + 1;\r\n\t\t\t\t\tupdateUnreadTopicCount('/unread/watched', unreadWatchedTopicCount);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction markTopicsUnread(tid) {\r\n\t\t\t$('[data-tid=\"' + tid + '\"]').addClass('unread');\r\n\t\t}\r\n\r\n\t\t$(window).on('action:ajaxify.end', function (ev, data) {\r\n\t\t\tif (data.url) {\r\n\t\t\t\tvar tid = data.url.match(/^topic\\/(\\d+)/);\r\n\r\n\t\t\t\tif (tid && tid[1]) {\r\n\t\t\t\t\tdelete unreadTopics[tid[1]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on('event:new_post', onNewPost);\r\n\t}\r\n\r\n\t// DEPRECATED: remove in 1.8.0\r\n\tif (app.user.uid) {\r\n\t\tsocket.emit('user.getUnreadCounts', function (err, data) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alert(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tupdateUnreadCounters(data);\r\n\r\n\t\t\tupdateUnreadChatCount(data.unreadChatCount);\r\n\t\t\tNotifications.updateNotifCount(data.unreadNotificationCount);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction updateUnreadCounters(data) {\r\n\t\tupdateUnreadTopicCount('/unread', data.unreadTopicCount);\r\n\t\tupdateUnreadTopicCount('/unread/new', data.unreadNewTopicCount);\r\n\t\tupdateUnreadTopicCount('/unread/watched', data.unreadWatchedTopicCount);\r\n\t}\r\n\r\n\tsocket.on('event:unread.updateCount', updateUnreadCounters);\r\n\tsocket.on('event:unread.updateChatCount', updateUnreadChatCount);\r\n\r\n\tinitUnreadTopics();\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/chats', [\r\n\t'components',\r\n\t'translator',\r\n\t'mousetrap',\r\n\t'forum/chats/recent',\r\n\t'forum/chats/search',\r\n\t'forum/chats/messages',\r\n\t'benchpress',\r\n], function (components, translator, mousetrap, recentChats, search, messages, Benchpress) {\r\n\tvar Chats = {\r\n\t\tinitialised: false,\r\n\t};\r\n\r\n\tvar newMessage = false;\r\n\r\n\tChats.init = function () {\r\n\t\tvar env = utils.findBootstrapEnvironment();\r\n\r\n\t\tif (!Chats.initialised) {\r\n\t\t\tChats.addSocketListeners();\r\n\t\t\tChats.addGlobalEventListeners();\r\n\t\t}\r\n\r\n\t\trecentChats.init();\r\n\r\n\t\tChats.addEventListeners();\r\n\t\tChats.createAutoComplete($('[component=\"chat/input\"]'));\r\n\t\tChats.resizeMainWindow();\r\n\r\n\t\tif (env === 'md' || env === 'lg') {\r\n\t\t\tChats.addHotkeys();\r\n\t\t}\r\n\r\n\t\t$(document).ready(function () {\r\n\t\t\t$(window).trigger('action:chat.loaded', $('.chats-full'));\r\n\t\t});\r\n\r\n\t\tChats.initialised = true;\r\n\t\tmessages.scrollToBottom($('.expanded-chat ul.chat-content'));\r\n\r\n\t\tsearch.init();\r\n\r\n\t\tif (ajaxify.data.hasOwnProperty('roomId')) {\r\n\t\t\tcomponents.get('chat/input').focus();\r\n\t\t}\r\n\t};\r\n\r\n\tChats.addEventListeners = function () {\r\n\t\tChats.addSendHandlers(ajaxify.data.roomId, $('.chat-input'), $('.expanded-chat button[data-action=\"send\"]'));\r\n\t\tChats.addPopoutHandler();\r\n\t\tChats.addActionHandlers(components.get('chat/messages'), ajaxify.data.roomId);\r\n\t\tChats.addMemberHandler(ajaxify.data.roomId, components.get('chat/controls').find('[data-action=\"members\"]'));\r\n\t\tChats.addRenameHandler(ajaxify.data.roomId, components.get('chat/controls').find('[data-action=\"rename\"]'));\r\n\t\tChats.addLeaveHandler(ajaxify.data.roomId, components.get('chat/controls').find('[data-action=\"leave\"]'));\r\n\t\tChats.addScrollHandler(ajaxify.data.roomId, ajaxify.data.uid, $('.chat-content'));\r\n\t\tChats.addCharactersLeftHandler($('[component=\"chat/main-wrapper\"]'));\r\n\t};\r\n\r\n\tChats.addPopoutHandler = function () {\r\n\t\t$('[data-action=\"pop-out\"]').on('click', function () {\r\n\t\t\tvar text = components.get('chat/input').val();\r\n\t\t\tvar roomId = ajaxify.data.roomId;\r\n\r\n\t\t\tif (app.previousUrl && app.previousUrl.match(/chats/)) {\r\n\t\t\t\tajaxify.go('user/' + ajaxify.data.userslug + '/chats', function () {\r\n\t\t\t\t\tapp.openChat(roomId, ajaxify.data.uid);\r\n\t\t\t\t}, true);\r\n\t\t\t} else {\r\n\t\t\t\twindow.history.go(-1);\r\n\t\t\t\tapp.openChat(roomId, ajaxify.data.uid);\r\n\t\t\t}\r\n\r\n\t\t\t$(window).one('action:chat.loaded', function () {\r\n\t\t\t\tcomponents.get('chat/input').val(text);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addScrollHandler = function (roomId, uid, el) {\r\n\t\tvar loading = false;\r\n\t\tel.off('scroll').on('scroll', function () {\r\n\t\t\tif (loading) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar top = (el[0].scrollHeight - el.height()) * 0.1;\r\n\t\t\tif (el.scrollTop() >= top) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tloading = true;\r\n\t\t\tvar start = parseInt(el.children('[data-mid]').length, 10);\r\n\t\t\tsocket.emit('modules.chats.getMessages', {\r\n\t\t\t\troomId: roomId,\r\n\t\t\t\tuid: uid,\r\n\t\t\t\tstart: start,\r\n\t\t\t}, function (err, data) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tmessages.parseMessage(data, function (html) {\r\n\t\t\t\t\tvar currentScrollTop = el.scrollTop();\r\n\t\t\t\t\tvar previousHeight = el[0].scrollHeight;\r\n\t\t\t\t\thtml = $(html);\r\n\t\t\t\t\tel.prepend(html);\r\n\t\t\t\t\thtml.find('.timeago').timeago();\r\n\t\t\t\t\thtml.find('img:not(.not-responsive)').addClass('img-responsive');\r\n\t\t\t\t\tel.scrollTop((el[0].scrollHeight - previousHeight) + currentScrollTop);\r\n\t\t\t\t\tloading = false;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addCharactersLeftHandler = function (parent) {\r\n\t\tvar element = parent.find('[component=\"chat/input\"]');\r\n\t\telement.on('change keyup paste', function () {\r\n\t\t\tmessages.updateRemainingLength(parent);\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addActionHandlers = function (element, roomId) {\r\n\t\telement.on('click', '[data-action]', function () {\r\n\t\t\tvar messageId = $(this).parents('[data-mid]').attr('data-mid');\r\n\t\t\tvar action = this.getAttribute('data-action');\r\n\r\n\t\t\tswitch (action) {\r\n\t\t\tcase 'edit':\r\n\t\t\t\tvar inputEl = $('[data-roomid=\"' + roomId + '\"] [component=\"chat/input\"]');\r\n\t\t\t\tmessages.prepEdit(inputEl, messageId, roomId);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'delete':\r\n\t\t\t\tmessages.delete(messageId, roomId);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 'restore':\r\n\t\t\t\tmessages.restore(messageId, roomId);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addHotkeys = function () {\r\n\t\tmousetrap.bind('ctrl+up', function () {\r\n\t\t\tvar activeContact = $('.chats-list .bg-info');\r\n\t\t\tvar prev = activeContact.prev();\r\n\r\n\t\t\tif (prev.length) {\r\n\t\t\t\tChats.switchChat(prev.attr('data-roomid'));\r\n\t\t\t}\r\n\t\t});\r\n\t\tmousetrap.bind('ctrl+down', function () {\r\n\t\t\tvar activeContact = $('.chats-list .bg-info');\r\n\t\t\tvar next = activeContact.next();\r\n\r\n\t\t\tif (next.length) {\r\n\t\t\t\tChats.switchChat(next.attr('data-roomid'));\r\n\t\t\t}\r\n\t\t});\r\n\t\tmousetrap.bind('up', function (e) {\r\n\t\t\tif (e.target === components.get('chat/input').get(0)) {\r\n\t\t\t\t// Retrieve message id from messages list\r\n\t\t\t\tvar message = components.get('chat/messages').find('.chat-message[data-self=\"1\"]').last();\r\n\t\t\t\tvar lastMid = message.attr('data-mid');\r\n\t\t\t\tvar inputEl = components.get('chat/input');\r\n\r\n\t\t\t\tmessages.prepEdit(inputEl, lastMid, ajaxify.data.roomId);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addMemberHandler = function (roomId, buttonEl) {\r\n\t\tvar modal;\r\n\r\n\t\tbuttonEl.on('click', function () {\r\n\t\t\tBenchpress.parse('partials/modals/manage_room', {}, function (html) {\r\n\t\t\t\ttranslator.translate(html, function (html) {\r\n\t\t\t\t\tmodal = bootbox.dialog({\r\n\t\t\t\t\t\ttitle: '[[modules:chat.manage-room]]',\r\n\t\t\t\t\t\tmessage: html,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tmodal.attr('component', 'chat/manage-modal');\r\n\r\n\t\t\t\t\tChats.refreshParticipantsList(roomId, modal);\r\n\r\n\t\t\t\t\tvar searchInput = modal.find('input');\r\n\t\t\t\t\tvar errorEl = modal.find('.text-danger');\r\n\t\t\t\t\trequire(['autocomplete', 'translator'], function (autocomplete, translator) {\r\n\t\t\t\t\t\tautocomplete.user(searchInput, function (event, selected) {\r\n\t\t\t\t\t\t\terrorEl.text('');\r\n\t\t\t\t\t\t\tsocket.emit('modules.chats.addUserToRoom', {\r\n\t\t\t\t\t\t\t\troomId: roomId,\r\n\t\t\t\t\t\t\t\tusername: selected.item.user.name,\r\n\t\t\t\t\t\t\t}, function (err) {\r\n\t\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\t\ttranslator.translate(err.message, function (translated) {\r\n\t\t\t\t\t\t\t\t\t\terrorEl.text(translated);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tChats.refreshParticipantsList(roomId, modal);\r\n\t\t\t\t\t\t\t\tsearchInput.val('');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addLeaveHandler = function (roomId, buttonEl) {\r\n\t\tbuttonEl.on('click', function () {\r\n\t\t\tbootbox.confirm({\r\n\t\t\t\tsize: 'small',\r\n\t\t\t\ttitle: '[[modules:chat.leave]]',\r\n\t\t\t\tmessage: '<p>[[modules:chat.leave-prompt]]</p><p class=\"help-block\">[[modules:chat.leave-help]]</p>',\r\n\t\t\t\tcallback: function (ok) {\r\n\t\t\t\t\tif (ok) {\r\n\t\t\t\t\t\tsocket.emit('modules.chats.leave', roomId, function (err) {\r\n\t\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Return user to chats page. If modal, close modal.\r\n\t\t\t\t\t\t\tvar modal = buttonEl.parents('.chat-modal');\r\n\t\t\t\t\t\t\tif (modal.length) {\r\n\t\t\t\t\t\t\t\trequire(['chat'], function (chatLib) {\r\n\t\t\t\t\t\t\t\t\tchatLib.close(modal);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tajaxify.go('chats');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tChats.refreshParticipantsList = function (roomId, modal) {\r\n\t\tsocket.emit('modules.chats.getUsersInRoom', { roomId: roomId }, function (err, users) {\r\n\t\t\tvar listEl = modal.find('.list-group');\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\treturn translator.translate('[[error:invalid-data]]', function (translated) {\r\n\t\t\t\t\tlistEl.find('li').text(translated);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tBenchpress.parse('partials/modals/manage_room_users', {\r\n\t\t\t\tusers: users,\r\n\t\t\t}, function (html) {\r\n\t\t\t\tlistEl.html(html);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addRenameHandler = function (roomId, buttonEl, roomName) {\r\n\t\tvar modal;\r\n\r\n\t\tbuttonEl.on('click', function () {\r\n\t\t\tBenchpress.parse('partials/modals/rename_room', {\r\n\t\t\t\tname: roomName || ajaxify.data.roomName,\r\n\t\t\t}, function (html) {\r\n\t\t\t\ttranslator.translate(html, function (html) {\r\n\t\t\t\t\tmodal = bootbox.dialog({\r\n\t\t\t\t\t\ttitle: '[[modules:chat.rename-room]]',\r\n\t\t\t\t\t\tmessage: html,\r\n\t\t\t\t\t\tbuttons: {\r\n\t\t\t\t\t\t\tsave: {\r\n\t\t\t\t\t\t\t\tlabel: '[[global:save]]',\r\n\t\t\t\t\t\t\t\tclassName: 'btn-primary',\r\n\t\t\t\t\t\t\t\tcallback: submit,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tfunction submit() {\r\n\t\t\tsocket.emit('modules.chats.renameRoom', {\r\n\t\t\t\troomId: roomId,\r\n\t\t\t\tnewName: modal.find('#roomName').val(),\r\n\t\t\t}, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tChats.addSendHandlers = function (roomId, inputEl, sendEl) {\r\n\t\tinputEl.off('keypress').on('keypress', function (e) {\r\n\t\t\tif (e.which === 13 && !e.shiftKey) {\r\n\t\t\t\tmessages.sendMessage(roomId, inputEl);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsendEl.off('click').on('click', function () {\r\n\t\t\tmessages.sendMessage(roomId, inputEl);\r\n\t\t\tinputEl.focus();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\r\n\tChats.createAutoComplete = function (element) {\r\n\t\tvar data = {\r\n\t\t\telement: element,\r\n\t\t\tstrategies: [],\r\n\t\t\toptions: {\r\n\t\t\t\tzIndex: 20000,\r\n\t\t\t\tlistPosition: function (position) {\r\n\t\t\t\t\tthis.$el.css(this._applyPlacement(position));\r\n\t\t\t\t\tthis.$el.css('position', 'absolute');\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t$(window).trigger('chat:autocomplete:init', data);\r\n\t\tif (data.strategies.length) {\r\n\t\t\tdata.element.textcomplete(data.strategies, data.options);\r\n\t\t}\r\n\t};\r\n\r\n\tChats.leave = function (el) {\r\n\t\tvar roomId = el.attr('data-roomid');\r\n\t\tsocket.emit('modules.chats.leave', roomId, function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\t\t\tif (parseInt(roomId, 10) === parseInt(ajaxify.data.roomId, 10)) {\r\n\t\t\t\tajaxify.go('user/' + ajaxify.data.userslug + '/chats');\r\n\t\t\t} else {\r\n\t\t\t\tel.remove();\r\n\t\t\t}\r\n\t\t\trequire(['chat'], function (chat) {\r\n\t\t\t\tvar modal = chat.getModal(roomId);\r\n\t\t\t\tif (modal.length) {\r\n\t\t\t\t\tchat.close(modal);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tChats.switchChat = function (roomid) {\r\n\t\tvar url = 'user/' + ajaxify.data.userslug + '/chats/' + roomid;\r\n\t\tif (self.fetch) {\r\n\t\t\tfetch(config.relative_path + '/api/' + url, { credentials: 'include' })\r\n\t\t\t\t.then(function (response) {\r\n\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\tresponse.json().then(function (payload) {\r\n\t\t\t\t\t\t\tapp.parseAndTranslate('partials/chats/message-window', payload, function (html) {\r\n\t\t\t\t\t\t\t\tcomponents.get('chat/main-wrapper').html(html);\r\n\t\t\t\t\t\t\t\thtml.find('.timeago').timeago();\r\n\t\t\t\t\t\t\t\tChats.resizeMainWindow();\r\n\t\t\t\t\t\t\t\tajaxify.data = payload;\r\n\t\t\t\t\t\t\t\tChats.setActive();\r\n\t\t\t\t\t\t\t\tChats.addEventListeners();\r\n\t\t\t\t\t\t\t\t$(window).trigger('action:chat.loaded', $('.chats-full'));\r\n\t\t\t\t\t\t\t\tmessages.scrollToBottom($('.expanded-chat ul.chat-content'));\r\n\t\t\t\t\t\t\t\tif (history.pushState) {\r\n\t\t\t\t\t\t\t\t\thistory.pushState({\r\n\t\t\t\t\t\t\t\t\t\turl: 'user/' + payload.userslug + '/chats/' + payload.roomId,\r\n\t\t\t\t\t\t\t\t\t}, null, window.location.protocol + '//' + window.location.host + config.relative_path + '/user/' + payload.userslug + '/chats/' + payload.roomId);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.warn('[search] Received ' + response.status);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.warn('[search] ' + error.message);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tajaxify.go(url);\r\n\t\t}\r\n\t};\r\n\r\n\tChats.addGlobalEventListeners = function () {\r\n\t\t$(window).on('resize', Chats.resizeMainWindow);\r\n\t\t$(window).on('mousemove keypress click', function () {\r\n\t\t\tif (newMessage && ajaxify.data.roomId) {\r\n\t\t\t\tsocket.emit('modules.chats.markRead', ajaxify.data.roomId);\r\n\t\t\t\tnewMessage = false;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tChats.addSocketListeners = function () {\r\n\t\tsocket.on('event:chats.receive', function (data) {\r\n\t\t\tif (parseInt(data.roomId, 10) === parseInt(ajaxify.data.roomId, 10)) {\r\n\t\t\t\tnewMessage = data.self === 0;\r\n\t\t\t\tdata.message.self = data.self;\r\n\r\n\t\t\t\tmessages.appendChatMessage($('.expanded-chat .chat-content'), data.message);\r\n\t\t\t} else if (ajaxify.data.template.chats) {\r\n\t\t\t\tvar roomEl = $('[data-roomid=' + data.roomId + ']');\r\n\r\n\t\t\t\tif (roomEl.length > 0) {\r\n\t\t\t\t\troomEl.addClass('unread');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar recentEl = components.get('chat/recent');\r\n\t\t\t\t\tBenchpress.parse('partials/chats/recent_room', {\r\n\t\t\t\t\t\trooms: {\r\n\t\t\t\t\t\t\troomId: data.roomId,\r\n\t\t\t\t\t\t\tlastUser: data.message.fromUser,\r\n\t\t\t\t\t\t\tusernames: data.message.fromUser.username,\r\n\t\t\t\t\t\t\tunread: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}, function (html) {\r\n\t\t\t\t\t\ttranslator.translate(html, function (translated) {\r\n\t\t\t\t\t\t\trecentEl.prepend(translated);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on('event:user_status_change', function (data) {\r\n\t\t\tapp.updateUserStatus($('.chats-list [data-uid=\"' + data.uid + '\"] [component=\"user/status\"]'), data.status);\r\n\t\t});\r\n\r\n\t\tmessages.onChatMessageEdit();\r\n\r\n\t\tsocket.on('event:chats.roomRename', function (data) {\r\n\t\t\tvar roomEl = components.get('chat/recent/room', data.roomId);\r\n\t\t\tvar titleEl = roomEl.find('[component=\"chat/title\"]');\r\n\t\t\tajaxify.data.roomName = data.newName;\r\n\r\n\t\t\ttitleEl.text(data.newName);\r\n\t\t});\r\n\t};\r\n\r\n\tChats.resizeMainWindow = function () {\r\n\t\tvar viewportHeight = $(window).height();\r\n\t\tvar fromTop = components.get('chat/main-wrapper').offset().top || components.get('chat/nav-wrapper').offset().top;\r\n\t\t$('.chats-full').height(viewportHeight - fromTop - 1);\r\n\r\n\t\tChats.setActive();\r\n\t};\r\n\r\n\tChats.setActive = function () {\r\n\t\tif (ajaxify.data.roomId) {\r\n\t\t\tsocket.emit('modules.chats.markRead', ajaxify.data.roomId);\r\n\t\t\t$('[data-roomid=\"' + ajaxify.data.roomId + '\"]').toggleClass('unread', false);\r\n\t\t\t$('.expanded-chat [component=\"chat/input\"]').focus();\r\n\t\t}\r\n\t\t$('.chats-list li').removeClass('bg-info');\r\n\t\t$('.chats-list li[data-roomid=\"' + ajaxify.data.roomId + '\"]').addClass('bg-info');\r\n\r\n\t\tcomponents.get('chat/nav-wrapper').attr('data-loaded', ajaxify.data.roomId ? '1' : '0');\r\n\t};\r\n\r\n\r\n\treturn Chats;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/infinitescroll', function () {\r\n\tvar scroll = {};\r\n\tvar callback;\r\n\tvar previousScrollTop = 0;\r\n\tvar loadingMore\t= false;\r\n\tvar container;\r\n\r\n\tscroll.init = function (el, cb) {\r\n\t\tif (typeof el === 'function') {\r\n\t\t\tcallback = el;\r\n\t\t\tcontainer = $('body');\r\n\t\t} else {\r\n\t\t\tcallback = cb;\r\n\t\t\tcontainer = el || $('body');\r\n\t\t}\r\n\r\n\t\t$(window).off('scroll', onScroll).on('scroll', onScroll);\r\n\t};\r\n\r\n\tfunction onScroll() {\r\n\t\tvar bsEnv = utils.findBootstrapEnvironment();\r\n\t\tvar mobileComposerOpen = (bsEnv === 'xs' || bsEnv === 'sm') && $('html').hasClass('composing');\r\n\t\tif (loadingMore || mobileComposerOpen) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar currentScrollTop = $(window).scrollTop();\r\n\t\tvar wh = $(window).height();\r\n\t\tvar viewportHeight = container.height() - wh;\r\n\t\tvar offsetTop = container.offset() ? container.offset().top : 0;\r\n\t\tvar scrollPercent = 100 * (currentScrollTop - offsetTop) / (viewportHeight <= 0 ? wh : viewportHeight);\r\n\r\n\t\tvar top = 20;\r\n\t\tvar bottom = 80;\r\n\r\n\t\tvar direction = currentScrollTop > previousScrollTop ? 1 : -1;\r\n\r\n\t\tif (scrollPercent < top && currentScrollTop < previousScrollTop) {\r\n\t\t\tcallback(direction);\r\n\t\t} else if (scrollPercent > bottom && currentScrollTop > previousScrollTop) {\r\n\t\t\tcallback(direction);\r\n\t\t} else if (scrollPercent < 0 && direction > 0 && viewportHeight < 0) {\r\n\t\t\tcallback(direction);\r\n\t\t}\r\n\r\n\t\tpreviousScrollTop = currentScrollTop;\r\n\t}\r\n\r\n\tscroll.loadMore = function (method, data, callback) {\r\n\t\tif (loadingMore) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tloadingMore = true;\r\n\r\n\t\tvar hookData = { method: method, data: data };\r\n\t\t$(window).trigger('action:infinitescroll.loadmore', hookData);\r\n\r\n\t\tsocket.emit(hookData.method, hookData.data, function (err, data) {\r\n\t\t\tif (err) {\r\n\t\t\t\tloadingMore = false;\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\t\t\tcallback(data, function () {\r\n\t\t\t\tloadingMore = false;\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tscroll.removeExtra = function (els, direction, count) {\r\n\t\tif (els.length <= count) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar removeCount = els.length - count;\r\n\t\tif (direction > 0) {\r\n\t\t\tvar height = $(document).height();\r\n\t\t\tvar scrollTop = $(window).scrollTop();\r\n\r\n\t\t\tels.slice(0, removeCount).remove();\r\n\r\n\t\t\t$(window).scrollTop(scrollTop + ($(document).height() - height));\r\n\t\t} else {\r\n\t\t\tels.slice(els.length - removeCount).remove();\r\n\t\t}\r\n\t};\r\n\r\n\treturn scroll;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/pagination', function () {\r\n\tvar pagination = {};\r\n\r\n\tpagination.init = function () {\r\n\t\t$('body').on('click', '[component=\"pagination/select-page\"]', function () {\r\n\t\t\tbootbox.prompt('[[global:enter_page_number]]', function (pageNum) {\r\n\t\t\t\tpagination.loadPage(pageNum);\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\r\n\tpagination.loadPage = function (page, callback) {\r\n\t\tcallback = callback || function () {};\r\n\t\tpage = parseInt(page, 10);\r\n\t\tif (!utils.isNumber(page) || page < 1 || page > ajaxify.data.pagination.pageCount) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar query = utils.params();\r\n\t\tquery.page = page;\r\n\r\n\t\tvar url = window.location.pathname + '?' + $.param(query);\r\n\t\tajaxify.go(url, callback);\r\n\t};\r\n\r\n\treturn pagination;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/recent', ['forum/infinitescroll', 'components'], function (infinitescroll, components) {\r\n\tvar\tRecent = {};\r\n\r\n\tvar newTopicCount = 0;\r\n\tvar newPostCount = 0;\r\n\r\n\t$(window).on('action:ajaxify.start', function (ev, data) {\r\n\t\tif (ajaxify.currentPage !== data.url) {\r\n\t\t\tRecent.removeListeners();\r\n\t\t}\r\n\t});\r\n\r\n\tRecent.init = function () {\r\n\t\tapp.enterRoom('recent_topics');\r\n\r\n\t\tRecent.watchForNewPosts();\r\n\r\n\t\tRecent.handleCategorySelection();\r\n\r\n\t\t$('#new-topics-alert').on('click', function () {\r\n\t\t\t$(this).addClass('hide');\r\n\t\t});\r\n\r\n\t\tif (!config.usePagination) {\r\n\t\t\tinfinitescroll.init(Recent.loadMoreTopics);\r\n\t\t}\r\n\r\n\t\t$(window).trigger('action:topics.loaded', { topics: ajaxify.data.topics });\r\n\t};\r\n\r\n\tRecent.watchForNewPosts = function () {\r\n\t\tnewPostCount = 0;\r\n\t\tnewTopicCount = 0;\r\n\t\tRecent.removeListeners();\r\n\t\tsocket.on('event:new_topic', onNewTopic);\r\n\t\tsocket.on('event:new_post', onNewPost);\r\n\t};\r\n\r\n\tfunction onNewTopic(data) {\r\n\t\tif (ajaxify.data.selectedCids && ajaxify.data.selectedCids.indexOf(parseInt(data.cid, 10)) === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (ajaxify.data.selectedFilter && ajaxify.data.selectedFilter.filter === 'watched') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (ajaxify.data.template.category && parseInt(ajaxify.data.cid, 10) !== parseInt(data.cid, 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnewTopicCount += 1;\r\n\t\tRecent.updateAlertText();\r\n\t}\r\n\r\n\tfunction onNewPost(data) {\r\n\t\tfunction showAlert() {\r\n\t\t\tnewPostCount += 1;\r\n\t\t\tRecent.updateAlertText();\r\n\t\t}\r\n\r\n\t\tvar post = data.posts[0];\r\n\t\tif (!post || !post.topic) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (parseInt(post.topic.mainPid, 10) === parseInt(post.pid, 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (ajaxify.data.selectedCids && ajaxify.data.selectedCids.indexOf(parseInt(post.topic.cid, 10)) === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (ajaxify.data.selectedFilter && ajaxify.data.selectedFilter.filter === 'new') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (ajaxify.data.template.category && parseInt(ajaxify.data.cid, 10) !== parseInt(post.topic.cid, 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (ajaxify.data.selectedFilter && ajaxify.data.selectedFilter.filter === 'watched') {\r\n\t\t\tsocket.emit('topics.isFollowed', post.tid, function (err, isFollowed) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tif (isFollowed) {\r\n\t\t\t\t\tshowAlert();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tshowAlert();\r\n\t}\r\n\r\n\tRecent.handleCategorySelection = function () {\r\n\t\tfunction getSelectedCids() {\r\n\t\t\tvar cids = [];\r\n\t\t\t$('[component=\"category/list\"] [data-cid]').each(function (index, el) {\r\n\t\t\t\tif ($(el).find('i.fa-check').length) {\r\n\t\t\t\t\tcids.push(parseInt($(el).attr('data-cid'), 10));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcids.sort(function (a, b) {\r\n\t\t\t\treturn a - b;\r\n\t\t\t});\r\n\t\t\treturn cids;\r\n\t\t}\r\n\r\n\t\t$('[component=\"category/dropdown\"]').on('hidden.bs.dropdown', function () {\r\n\t\t\tvar cids = getSelectedCids();\r\n\t\t\tvar changed = ajaxify.data.selectedCids.length !== cids.length;\r\n\t\t\tajaxify.data.selectedCids.forEach(function (cid, index) {\r\n\t\t\t\tif (cid !== cids[index]) {\r\n\t\t\t\t\tchanged = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (changed) {\r\n\t\t\t\tvar url = ajaxify.data.selectedFilter.url;\r\n\t\t\t\tif (cids.length) {\r\n\t\t\t\t\turl += '?' + decodeURIComponent($.param({ cid: cids }));\r\n\t\t\t\t}\r\n\t\t\t\tajaxify.go(url);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('[component=\"category/list\"]').on('click', '[data-cid]', function (ev) {\r\n\t\t\tfunction selectChildren(parentCid, flag) {\r\n\t\t\t\t$('[component=\"category/list\"] [data-parent-cid=\"' + parentCid + '\"] [component=\"category/select/icon\"]').toggleClass('fa-check', flag);\r\n\t\t\t\t$('[component=\"category/list\"] [data-parent-cid=\"' + parentCid + '\"]').each(function (index, el) {\r\n\t\t\t\t\tselectChildren($(el).attr('data-cid'), flag);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tvar categoryEl = $(this);\r\n\t\t\tvar cid = $(this).attr('data-cid');\r\n\t\t\tif (ev.ctrlKey) {\r\n\t\t\t\tselectChildren(cid, !categoryEl.find('[component=\"category/select/icon\"]').hasClass('fa-check'));\r\n\t\t\t}\r\n\t\t\tcategoryEl.find('[component=\"category/select/icon\"]').toggleClass('fa-check');\r\n\t\t\t$('[component=\"category/list\"] li').first().find('i').toggleClass('fa-check', !getSelectedCids().length);\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\r\n\tRecent.removeListeners = function () {\r\n\t\tsocket.removeListener('event:new_topic', onNewTopic);\r\n\t\tsocket.removeListener('event:new_post', onNewPost);\r\n\t};\r\n\r\n\tRecent.updateAlertText = function () {\r\n\t\tvar text = '';\r\n\r\n\t\tif (newTopicCount === 0) {\r\n\t\t\tif (newPostCount === 1) {\r\n\t\t\t\ttext = '[[recent:there-is-a-new-post]]';\r\n\t\t\t} else if (newPostCount > 1) {\r\n\t\t\t\ttext = '[[recent:there-are-new-posts, ' + newPostCount + ']]';\r\n\t\t\t}\r\n\t\t} else if (newTopicCount === 1) {\r\n\t\t\tif (newPostCount === 0) {\r\n\t\t\t\ttext = '[[recent:there-is-a-new-topic]]';\r\n\t\t\t} else if (newPostCount === 1) {\r\n\t\t\t\ttext = '[[recent:there-is-a-new-topic-and-a-new-post]]';\r\n\t\t\t} else if (newPostCount > 1) {\r\n\t\t\t\ttext = '[[recent:there-is-a-new-topic-and-new-posts, ' + newPostCount + ']]';\r\n\t\t\t}\r\n\t\t} else if (newTopicCount > 1) {\r\n\t\t\tif (newPostCount === 0) {\r\n\t\t\t\ttext = '[[recent:there-are-new-topics, ' + newTopicCount + ']]';\r\n\t\t\t} else if (newPostCount === 1) {\r\n\t\t\t\ttext = '[[recent:there-are-new-topics-and-a-new-post, ' + newTopicCount + ']]';\r\n\t\t\t} else if (newPostCount > 1) {\r\n\t\t\t\ttext = '[[recent:there-are-new-topics-and-new-posts, ' + newTopicCount + ', ' + newPostCount + ']]';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttext += ' [[recent:click-here-to-reload]]';\r\n\r\n\t\t$('#new-topics-alert').translateText(text).removeClass('hide').fadeIn('slow');\r\n\t\t$('#category-no-topics').addClass('hide');\r\n\t};\r\n\r\n\tRecent.loadMoreTopics = function (direction) {\r\n\t\tif (direction < 0 || !$('[component=\"category\"]').length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tinfinitescroll.loadMore('topics.loadMoreRecentTopics', {\r\n\t\t\tafter: $('[component=\"category\"]').attr('data-nextstart'),\r\n\t\t\tcount: config.topicsPerPage,\r\n\t\t\tcid: utils.params().cid,\r\n\t\t\tfilter: ajaxify.data.selectedFilter.filter,\r\n\t\t\tset: $('[component=\"category\"]').attr('data-set') ? $('[component=\"category\"]').attr('data-set') : 'topics:recent',\r\n\t\t}, function (data, done) {\r\n\t\t\tif (data.topics && data.topics.length) {\r\n\t\t\t\tRecent.onTopicsLoaded('recent', data.topics, false, done);\r\n\t\t\t} else {\r\n\t\t\t\tdone();\r\n\t\t\t}\r\n\t\t\t$('[component=\"category\"]').attr('data-nextstart', data.nextStart);\r\n\t\t});\r\n\t};\r\n\r\n\tRecent.onTopicsLoaded = function (templateName, topics, showSelect, callback) {\r\n\t\ttopics = topics.filter(function (topic) {\r\n\t\t\treturn !components.get('category/topic', 'tid', topic.tid).length;\r\n\t\t});\r\n\r\n\t\tif (!topics.length) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tapp.parseAndTranslate(templateName, 'topics', { topics: topics, showSelect: showSelect }, function (html) {\r\n\t\t\t$('#category-no-topics').remove();\r\n\r\n\t\t\thtml.insertAfter($('[component=\"category/topic\"]').last());\r\n\t\t\thtml.find('.timeago').timeago();\r\n\t\t\tapp.createUserTooltips();\r\n\t\t\tutils.makeNumbersHumanReadable(html.find('.human-readable-number'));\r\n\t\t\t$(window).trigger('action:topics.loaded', { topics: topics });\r\n\t\t\tcallback();\r\n\t\t});\r\n\t};\r\n\r\n\treturn Recent;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/unread', ['forum/recent', 'topicSelect', 'forum/infinitescroll', 'components'], function (recent, topicSelect, infinitescroll, components) {\r\n\tvar Unread = {};\r\n\r\n\t$(window).on('action:ajaxify.start', function (ev, data) {\r\n\t\tif (ajaxify.currentPage !== data.url) {\r\n\t\t\trecent.removeListeners();\r\n\t\t}\r\n\t});\r\n\r\n\tUnread.init = function () {\r\n\t\tapp.enterRoom('unread_topics');\r\n\r\n\t\t$('#new-topics-alert').on('click', function () {\r\n\t\t\t$(this).addClass('hide');\r\n\t\t});\r\n\r\n\t\trecent.watchForNewPosts();\r\n\r\n\t\trecent.handleCategorySelection();\r\n\r\n\t\t$(window).trigger('action:topics.loaded', { topics: ajaxify.data.topics });\r\n\r\n\t\t$('#markSelectedRead').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.markAsRead', tids, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoneRemovingTids(tids);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('#markAllRead').on('click', function () {\r\n\t\t\tsocket.emit('topics.markAllRead', function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tapp.alertSuccess('[[unread:topics_marked_as_read.success]]');\r\n\r\n\t\t\t\t$('[component=\"category\"]').empty();\r\n\t\t\t\t$('[component=\"pagination\"]').addClass('hidden');\r\n\t\t\t\t$('#category-no-topics').removeClass('hidden');\r\n\t\t\t\t$('.markread').addClass('hidden');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$('.markread').on('click', '.category', function () {\r\n\t\t\tfunction getCategoryTids(cid) {\r\n\t\t\t\tvar tids = [];\r\n\t\t\t\tcomponents.get('category/topic', 'cid', cid).each(function () {\r\n\t\t\t\t\ttids.push($(this).attr('data-tid'));\r\n\t\t\t\t});\r\n\t\t\t\treturn tids;\r\n\t\t\t}\r\n\t\t\tvar cid = $(this).attr('data-cid');\r\n\t\t\tvar tids = getCategoryTids(cid);\r\n\r\n\t\t\tsocket.emit('topics.markCategoryTopicsRead', cid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdoneRemovingTids(tids);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\ttopicSelect.init();\r\n\r\n\t\tif ($('body').height() <= $(window).height() && $('[component=\"category\"]').children().length >= 20) {\r\n\t\t\t$('#load-more-btn').show();\r\n\t\t}\r\n\r\n\t\t$('#load-more-btn').on('click', function () {\r\n\t\t\tloadMoreTopics();\r\n\t\t});\r\n\r\n\t\tif (!config.usePagination) {\r\n\t\t\tinfinitescroll.init(loadMoreTopics);\r\n\t\t}\r\n\r\n\t\tfunction loadMoreTopics(direction) {\r\n\t\t\tif (direction < 0 || !$('[component=\"category\"]').length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tinfinitescroll.loadMore('topics.loadMoreUnreadTopics', {\r\n\t\t\t\tafter: $('[component=\"category\"]').attr('data-nextstart'),\r\n\t\t\t\tcount: config.topicsPerPage,\r\n\t\t\t\tcid: utils.params().cid,\r\n\t\t\t\tfilter: ajaxify.data.selectedFilter.filter,\r\n\t\t\t}, function (data, done) {\r\n\t\t\t\tif (data.topics && data.topics.length) {\r\n\t\t\t\t\trecent.onTopicsLoaded('unread', data.topics, true, done);\r\n\t\t\t\t\t$('[component=\"category\"]').attr('data-nextstart', data.nextStart);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdone();\r\n\t\t\t\t\t$('#load-more-btn').hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tfunction doneRemovingTids(tids) {\r\n\t\tremoveTids(tids);\r\n\r\n\t\tapp.alertSuccess('[[unread:topics_marked_as_read.success]]');\r\n\r\n\t\tif (!$('[component=\"category\"]').children().length) {\r\n\t\t\t$('#category-no-topics').removeClass('hidden');\r\n\t\t\t$('.markread').addClass('hidden');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction removeTids(tids) {\r\n\t\tfor (var i = 0; i < tids.length; i += 1) {\r\n\t\t\tcomponents.get('category/topic', 'tid', tids[i]).remove();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn Unread;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic', [\r\n\t'forum/infinitescroll',\r\n\t'forum/topic/threadTools',\r\n\t'forum/topic/postTools',\r\n\t'forum/topic/events',\r\n\t'forum/topic/posts',\r\n\t'forum/topic/images',\r\n\t'forum/topic/replies',\r\n\t'navigator',\r\n\t'sort',\r\n\t'components',\r\n\t'storage',\r\n], function (infinitescroll, threadTools, postTools, events, posts, images, replies, navigator, sort, components, storage) {\r\n\tvar\tTopic = {};\r\n\tvar currentUrl = '';\r\n\r\n\t$(window).on('action:ajaxify.start', function (ev, data) {\r\n\t\tif (Topic.replaceURLTimeout) {\r\n\t\t\tclearTimeout(Topic.replaceURLTimeout);\r\n\t\t\tTopic.replaceURLTimeout = 0;\r\n\t\t}\r\n\r\n\t\tif (!String(data.url).startsWith('topic/')) {\r\n\t\t\tnavigator.disable();\r\n\t\t\tcomponents.get('navbar/title').find('span').text('').hide();\r\n\t\t\tapp.removeAlert('bookmark');\r\n\r\n\t\t\tevents.removeListeners();\r\n\r\n\t\t\trequire(['search'], function (search) {\r\n\t\t\t\tif (search.topicDOM.active) {\r\n\t\t\t\t\tsearch.topicDOM.end();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tTopic.init = function () {\r\n\t\tvar tid = ajaxify.data.tid;\r\n\r\n\t\t$(window).trigger('action:topic.loading');\r\n\r\n\t\tapp.enterRoom('topic_' + tid);\r\n\r\n\t\tposts.processPage(components.get('post'));\r\n\r\n\t\tpostTools.init(tid);\r\n\t\tthreadTools.init(tid);\r\n\t\treplies.init(tid);\r\n\t\tevents.init();\r\n\r\n\t\tsort.handleSort('topicPostSort', 'user.setTopicSort', 'topic/' + ajaxify.data.slug);\r\n\r\n\t\tif (!config.usePagination) {\r\n\t\t\tinfinitescroll.init($('[component=\"topic\"]'), posts.loadMorePosts);\r\n\t\t}\r\n\r\n\t\taddBlockQuoteHandler();\r\n\r\n\t\taddParentHandler();\r\n\r\n\t\tnavigator.init('[component=\"post\"]', ajaxify.data.postcount, Topic.toTop, Topic.toBottom, Topic.navigatorCallback, Topic.calculateIndex);\r\n\r\n\t\thandleBookmark(tid);\r\n\r\n\t\t$(window).on('scroll', updateTopicTitle);\r\n\r\n\t\thandleTopicSearch();\r\n\r\n\t\t$(window).trigger('action:topic.loaded', ajaxify.data);\r\n\t};\r\n\r\n\tfunction handleTopicSearch() {\r\n\t\trequire(['search', 'mousetrap'], function (search, mousetrap) {\r\n\t\t\t$('.topic-search').off('click')\r\n\t\t\t\t.on('click', '.prev', function () {\r\n\t\t\t\t\tsearch.topicDOM.prev();\r\n\t\t\t\t})\r\n\t\t\t\t.on('click', '.next', function () {\r\n\t\t\t\t\tsearch.topicDOM.next();\r\n\t\t\t\t});\r\n\r\n\t\t\tmousetrap.bind('ctrl+f', function (e) {\r\n\t\t\t\tif (config.topicSearchEnabled) {\r\n\t\t\t\t\t// If in topic, open search window and populate, otherwise regular behaviour\r\n\t\t\t\t\tvar match = ajaxify.currentPage.match(/^topic\\/([\\d]+)/);\r\n\t\t\t\t\tvar tid;\r\n\t\t\t\t\tif (match) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\ttid = match[1];\r\n\t\t\t\t\t\t$('#search-fields input').val('in:topic-' + tid + ' ');\r\n\t\t\t\t\t\tapp.prepareSearch();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tTopic.toTop = function () {\r\n\t\tnavigator.scrollTop(0);\r\n\t};\r\n\r\n\tTopic.toBottom = function () {\r\n\t\tsocket.emit('topics.postcount', ajaxify.data.tid, function (err, postCount) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\t\t\tif (config.topicPostSort !== 'oldest_to_newest') {\r\n\t\t\t\tpostCount = 2;\r\n\t\t\t}\r\n\t\t\tnavigator.scrollBottom(postCount - 1);\r\n\t\t});\r\n\t};\r\n\r\n\tfunction handleBookmark(tid) {\r\n\t\t// use the user's bookmark data if available, fallback to local if available\r\n\t\tvar bookmark = ajaxify.data.bookmark || storage.getItem('topic:' + tid + ':bookmark');\r\n\t\tvar postIndex = ajaxify.data.postIndex;\r\n\r\n\t\tif (postIndex > 0) {\r\n\t\t\tif (components.get('post/anchor', postIndex - 1).length) {\r\n\t\t\t\treturn navigator.scrollToPostIndex(postIndex - 1, true, 0);\r\n\t\t\t}\r\n\t\t} else if (bookmark && (!config.usePagination || (config.usePagination && ajaxify.data.pagination.currentPage === 1)) && ajaxify.data.postcount > ajaxify.data.bookmarkThreshold) {\r\n\t\t\tapp.alert({\r\n\t\t\t\talert_id: 'bookmark',\r\n\t\t\t\tmessage: '[[topic:bookmark_instructions]]',\r\n\t\t\t\ttimeout: 0,\r\n\t\t\t\ttype: 'info',\r\n\t\t\t\tclickfn: function () {\r\n\t\t\t\t\tnavigator.scrollToIndex(parseInt(bookmark - 1, 10), true);\r\n\t\t\t\t},\r\n\t\t\t\tclosefn: function () {\r\n\t\t\t\t\tstorage.removeItem('topic:' + tid + ':bookmark');\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tapp.removeAlert('bookmark');\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction addBlockQuoteHandler() {\r\n\t\tcomponents.get('topic').on('click', 'blockquote .toggle', function () {\r\n\t\t\tvar blockQuote = $(this).parent('blockquote');\r\n\t\t\tvar toggle = $(this);\r\n\t\t\tblockQuote.toggleClass('uncollapsed');\r\n\t\t\tvar collapsed = !blockQuote.hasClass('uncollapsed');\r\n\t\t\ttoggle.toggleClass('fa-angle-down', collapsed).toggleClass('fa-angle-up', !collapsed);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction addParentHandler() {\r\n\t\tcomponents.get('topic').on('click', '[component=\"post/parent\"]', function (e) {\r\n\t\t\tvar toPid = $(this).attr('data-topid');\r\n\r\n\t\t\tvar toPost = $('[component=\"topic\"]>[component=\"post\"][data-pid=\"' + toPid + '\"]');\r\n\t\t\tif (toPost.length) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tnavigator.scrollToIndex(toPost.attr('data-index'), true);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction updateTopicTitle() {\r\n\t\tvar span = components.get('navbar/title').find('span');\r\n\t\tif ($(window).scrollTop() > 50 && span.hasClass('hidden')) {\r\n\t\t\tspan.html(ajaxify.data.title).removeClass('hidden');\r\n\t\t} else if ($(window).scrollTop() <= 50 && !span.hasClass('hidden')) {\r\n\t\t\tspan.html('').addClass('hidden');\r\n\t\t}\r\n\t\tif ($(window).scrollTop() > 300) {\r\n\t\t\tapp.removeAlert('bookmark');\r\n\t\t}\r\n\t}\r\n\r\n\tTopic.calculateIndex = function (index, elementCount) {\r\n\t\tif (index !== 1 && config.topicPostSort !== 'oldest_to_newest') {\r\n\t\t\treturn elementCount - index + 2;\r\n\t\t}\r\n\t\treturn index;\r\n\t};\r\n\r\n\tTopic.navigatorCallback = function (index, elementCount, threshold) {\r\n\t\tvar path = ajaxify.removeRelativePath(window.location.pathname.slice(1));\r\n\t\tif (!path.startsWith('topic')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (navigator.scrollActive) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\timages.loadImages(threshold);\r\n\r\n\t\tvar newUrl = 'topic/' + ajaxify.data.slug + (index > 1 ? ('/' + index) : '');\r\n\r\n\t\tif (newUrl !== currentUrl) {\r\n\t\t\tif (Topic.replaceURLTimeout) {\r\n\t\t\t\tclearTimeout(Topic.replaceURLTimeout);\r\n\t\t\t}\r\n\r\n\t\t\tTopic.replaceURLTimeout = setTimeout(function () {\r\n\t\t\t\tif (index >= elementCount && app.user.uid) {\r\n\t\t\t\t\tsocket.emit('topics.markAsRead', [ajaxify.data.tid]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tupdateUserBookmark(index);\r\n\r\n\t\t\t\tTopic.replaceURLTimeout = 0;\r\n\t\t\t\tif (history.replaceState) {\r\n\t\t\t\t\tvar search = window.location.search || '';\r\n\t\t\t\t\tif (!config.usePagination) {\r\n\t\t\t\t\t\tsearch = (search && !/^\\?page=\\d+$/.test(search) ? search : '');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thistory.replaceState({\r\n\t\t\t\t\t\turl: newUrl + search,\r\n\t\t\t\t\t}, null, window.location.protocol + '//' + window.location.host + RELATIVE_PATH + '/' + newUrl + search);\r\n\t\t\t\t}\r\n\t\t\t\tcurrentUrl = newUrl;\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction updateUserBookmark(index) {\r\n\t\tvar bookmarkKey = 'topic:' + ajaxify.data.tid + ':bookmark';\r\n\t\tvar currentBookmark = ajaxify.data.bookmark || storage.getItem(bookmarkKey);\r\n\r\n\t\tif (ajaxify.data.postcount > ajaxify.data.bookmarkThreshold && (!currentBookmark || parseInt(index, 10) > parseInt(currentBookmark, 10) || ajaxify.data.postcount < parseInt(currentBookmark, 10))) {\r\n\t\t\tif (app.user.uid) {\r\n\t\t\t\tsocket.emit('topics.bookmark', {\r\n\t\t\t\t\ttid: ajaxify.data.tid,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tajaxify.data.bookmark = index;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tstorage.setItem(bookmarkKey, index);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// removes the bookmark alert when we get to / past the bookmark\r\n\t\tif (!currentBookmark || parseInt(index, 10) >= parseInt(currentBookmark, 10)) {\r\n\t\t\tapp.removeAlert('bookmark');\r\n\t\t}\r\n\t}\r\n\r\n\r\n\treturn Topic;\r\n});\r\n","\r\n'use strict';\r\n\r\n\r\ndefine('forum/topic/events', [\r\n\t'forum/topic/postTools',\r\n\t'forum/topic/threadTools',\r\n\t'forum/topic/posts',\r\n\t'forum/topic/images',\r\n\t'components',\r\n\t'translator',\r\n\t'benchpress',\r\n], function (postTools, threadTools, posts, images, components, translator, Benchpress) {\r\n\tvar Events = {};\r\n\r\n\tvar events = {\r\n\t\t'event:user_status_change': onUserStatusChange,\r\n\t\t'event:voted': updatePostVotesAndUserReputation,\r\n\t\t'event:bookmarked': updateBookmarkCount,\r\n\r\n\t\t'event:topic_deleted': threadTools.setDeleteState,\r\n\t\t'event:topic_restored': threadTools.setDeleteState,\r\n\t\t'event:topic_purged': onTopicPurged,\r\n\r\n\t\t'event:topic_locked': threadTools.setLockedState,\r\n\t\t'event:topic_unlocked': threadTools.setLockedState,\r\n\r\n\t\t'event:topic_pinned': threadTools.setPinnedState,\r\n\t\t'event:topic_unpinned': threadTools.setPinnedState,\r\n\r\n\t\t'event:topic_moved': onTopicMoved,\r\n\r\n\t\t'event:post_edited': onPostEdited,\r\n\t\t'event:post_purged': onPostPurged,\r\n\r\n\t\t'event:post_deleted': togglePostDeleteState,\r\n\t\t'event:post_restored': togglePostDeleteState,\r\n\r\n\t\t'posts.bookmark': togglePostBookmark,\r\n\t\t'posts.unbookmark': togglePostBookmark,\r\n\r\n\t\t'posts.upvote': togglePostVote,\r\n\t\t'posts.downvote': togglePostVote,\r\n\t\t'posts.unvote': togglePostVote,\r\n\r\n\t\t'event:new_notification': onNewNotification,\r\n\t\t'event:new_post': posts.onNewPost,\r\n\t};\r\n\r\n\tEvents.init = function () {\r\n\t\tEvents.removeListeners();\r\n\t\tfor (var eventName in events) {\r\n\t\t\tif (events.hasOwnProperty(eventName)) {\r\n\t\t\t\tsocket.on(eventName, events[eventName]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tEvents.removeListeners = function () {\r\n\t\tfor (var eventName in events) {\r\n\t\t\tif (events.hasOwnProperty(eventName)) {\r\n\t\t\t\tsocket.removeListener(eventName, events[eventName]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction onUserStatusChange(data) {\r\n\t\tapp.updateUserStatus($('[data-uid=\"' + data.uid + '\"] [component=\"user/status\"]'), data.status);\r\n\t}\r\n\r\n\tfunction updatePostVotesAndUserReputation(data) {\r\n\t\tvar votes = $('[data-pid=\"' + data.post.pid + '\"] [component=\"post/vote-count\"]').filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t});\r\n\t\tvar reputationElements = $('.reputation[data-uid=\"' + data.post.uid + '\"]');\r\n\t\tvotes.html(data.post.votes).attr('data-votes', data.post.votes);\r\n\t\treputationElements.html(data.user.reputation).attr('data-reputation', data.user.reputation);\r\n\t}\r\n\r\n\tfunction updateBookmarkCount(data) {\r\n\t\t$('[data-pid=\"' + data.post.pid + '\"] .bookmarkCount').filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t}).html(data.post.bookmarks).attr('data-bookmarks', data.post.bookmarks);\r\n\t}\r\n\r\n\tfunction onTopicPurged() {\r\n\t\tif (ajaxify.data.category && ajaxify.data.category.slug) {\r\n\t\t\tajaxify.go('category/' + ajaxify.data.category.slug, null, true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onTopicMoved(data) {\r\n\t\tif (data && data.slug) {\r\n\t\t\tajaxify.go('topic/' + data.slug, null, true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onPostEdited(data) {\r\n\t\tif (!data || !data.post) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar editedPostEl = components.get('post/content', data.post.pid).filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t});\r\n\r\n\t\tvar editorEl = $('[data-pid=\"' + data.post.pid + '\"] [component=\"post/editor\"]').filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t});\r\n\t\tvar topicTitle = components.get('topic/title');\r\n\t\tvar navbarTitle = components.get('navbar/title').find('span');\r\n\t\tvar breadCrumb = components.get('breadcrumb/current');\r\n\r\n\t\tif (topicTitle.length && data.topic.title && topicTitle.html() !== data.topic.title) {\r\n\t\t\tajaxify.data.title = data.topic.title;\r\n\t\t\tvar newUrl = 'topic/' + data.topic.slug + (window.location.search ? window.location.search : '');\r\n\t\t\thistory.replaceState({ url: newUrl }, null, window.location.protocol + '//' + window.location.host + config.relative_path + '/' + newUrl);\r\n\r\n\t\t\ttopicTitle.fadeOut(250, function () {\r\n\t\t\t\ttopicTitle.html(data.topic.title).fadeIn(250);\r\n\t\t\t});\r\n\t\t\tbreadCrumb.fadeOut(250, function () {\r\n\t\t\t\tbreadCrumb.html(data.topic.title).fadeIn(250);\r\n\t\t\t});\r\n\t\t\tnavbarTitle.fadeOut(250, function () {\r\n\t\t\t\tnavbarTitle.html(data.topic.title).fadeIn(250);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\teditedPostEl.fadeOut(250, function () {\r\n\t\t\teditedPostEl.html(translator.unescape(data.post.content));\r\n\t\t\teditedPostEl.find('img:not(.not-responsive)').addClass('img-responsive');\r\n\t\t\tapp.replaceSelfLinks(editedPostEl.find('a'));\r\n\t\t\timages.wrapImagesInLinks(editedPostEl.parent());\r\n\t\t\timages.unloadImages(editedPostEl.parent());\r\n\t\t\timages.loadImages();\r\n\t\t\teditedPostEl.fadeIn(250);\r\n\r\n\t\t\tvar editData = {\r\n\t\t\t\teditor: data.editor,\r\n\t\t\t\teditedISO: utils.toISOString(data.post.edited),\r\n\t\t\t};\r\n\r\n\t\t\tBenchpress.parse('partials/topic/post-editor', editData, function (html) {\r\n\t\t\t\ttranslator.translate(html, function (translated) {\r\n\t\t\t\t\thtml = $(translated);\r\n\t\t\t\t\teditorEl.replaceWith(html);\r\n\t\t\t\t\t$('[data-pid=\"' + data.post.pid + '\"] [component=\"post/editor\"] .timeago').timeago();\r\n\t\t\t\t\t$(window).trigger('action:posts.edited', data);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tif (data.topic.tags && tagsUpdated(data.topic.tags)) {\r\n\t\t\tBenchpress.parse('partials/post_bar', 'tags', { tags: data.topic.tags }, function (html) {\r\n\t\t\t\tvar tags = $('.tags');\r\n\r\n\t\t\t\ttags.fadeOut(250, function () {\r\n\t\t\t\t\ttags.html(html).fadeIn(250);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction tagsUpdated(tags) {\r\n\t\tif (tags.length !== $('.tags').first().children().length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < tags.length; i += 1) {\r\n\t\t\tif (!$('.tags .tag-item[data-tag=\"' + tags[i].value + '\"]').length) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction onPostPurged(postData) {\r\n\t\tcomponents.get('post', 'pid', postData.pid).fadeOut(500, function () {\r\n\t\t\t$(this).remove();\r\n\t\t\tposts.showBottomPostBar();\r\n\t\t});\r\n\t\tajaxify.data.postcount -= 1;\r\n\t\tpostTools.updatePostCount(ajaxify.data.postcount);\r\n\t\trequire(['forum/topic/replies'], function (replies) {\r\n\t\t\treplies.onPostPurged(postData);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction togglePostDeleteState(data) {\r\n\t\tvar postEl = components.get('post', 'pid', data.pid);\r\n\r\n\t\tif (!postEl.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tpostEl.toggleClass('deleted');\r\n\t\tvar isDeleted = postEl.hasClass('deleted');\r\n\t\tpostTools.toggle(data.pid, isDeleted);\r\n\r\n\t\tif (!ajaxify.data.privileges.isAdminOrMod && parseInt(data.uid, 10) !== parseInt(app.user.uid, 10)) {\r\n\t\t\tpostEl.find('[component=\"post/tools\"]').toggleClass('hidden', isDeleted);\r\n\t\t\tif (isDeleted) {\r\n\t\t\t\tpostEl.find('[component=\"post/content\"]').translateHtml('[[topic:post_is_deleted]]');\r\n\t\t\t} else {\r\n\t\t\t\tpostEl.find('[component=\"post/content\"]').html(translator.unescape(data.content));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction togglePostBookmark(data) {\r\n\t\tvar el = $('[data-pid=\"' + data.post.pid + '\"] [component=\"post/bookmark\"]').filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t});\r\n\t\tif (!el.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tel.attr('data-bookmarked', data.isBookmarked);\r\n\r\n\t\tel.find('[component=\"post/bookmark/on\"]').toggleClass('hidden', !data.isBookmarked);\r\n\t\tel.find('[component=\"post/bookmark/off\"]').toggleClass('hidden', data.isBookmarked);\r\n\t}\r\n\r\n\tfunction togglePostVote(data) {\r\n\t\tvar post = $('[data-pid=\"' + data.post.pid + '\"]');\r\n\t\tpost.find('[component=\"post/upvote\"]').filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t}).toggleClass('upvoted', data.upvote);\r\n\t\tpost.find('[component=\"post/downvote\"]').filter(function (index, el) {\r\n\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\r\n\t\t}).toggleClass('downvoted', data.downvote);\r\n\t}\r\n\r\n\tfunction onNewNotification(data) {\r\n\t\tvar tid = ajaxify.data.tid;\r\n\t\tif (data && data.tid && parseInt(data.tid, 10) === parseInt(tid, 10)) {\r\n\t\t\tsocket.emit('topics.markTopicNotificationsRead', [tid]);\r\n\t\t}\r\n\t}\r\n\r\n\treturn Events;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/merge', function () {\r\n\tvar Merge = {};\r\n\tvar modal;\r\n\tvar mergeBtn;\r\n\r\n\tvar selectedTids = {};\r\n\r\n\tMerge.init = function () {\r\n\t\t$('.category').on('click', '[component=\"topic/merge\"]', onMergeTopicsClicked);\r\n\t};\r\n\r\n\tfunction onMergeTopicsClicked() {\r\n\t\tif (modal) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tapp.parseAndTranslate('partials/merge_topics_modal', {}, function (html) {\r\n\t\t\tmodal = html;\r\n\r\n\t\t\t$('body').append(modal);\r\n\r\n\t\t\tmergeBtn = modal.find('#merge_topics_confirm');\r\n\r\n\t\t\tmodal.find('.close,#merge_topics_cancel').on('click', closeModal);\r\n\r\n\t\t\t$('[component=\"category\"]').on('click', '[component=\"category/topic\"] a', onTopicClicked);\r\n\r\n\t\t\tshowTopicsSelected();\r\n\r\n\t\t\tmergeBtn.on('click', function () {\r\n\t\t\t\tmergeTopics(mergeBtn);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onTopicClicked(ev) {\r\n\t\tvar tid = $(this).parents('[component=\"category/topic\"]').attr('data-tid');\r\n\t\tsocket.emit('topics.getTopic', tid, function (err, topicData) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err);\r\n\t\t\t}\r\n\t\t\tvar title = topicData ? topicData.title : 'No title';\r\n\t\t\tif (selectedTids[tid]) {\r\n\t\t\t\tdelete selectedTids[tid];\r\n\t\t\t} else {\r\n\t\t\t\tselectedTids[tid] = title;\r\n\t\t\t}\r\n\t\t\tcheckButtonEnable();\r\n\t\t\tshowTopicsSelected();\r\n\t\t});\r\n\t\tev.preventDefault();\r\n\t\tev.stopPropagation();\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction mergeTopics(btn) {\r\n\t\tbtn.attr('disabled', true);\r\n\t\tvar tids = Object.keys(selectedTids);\r\n\t\tsocket.emit('topics.merge', tids, function (err) {\r\n\t\t\tbtn.removeAttr('disabled');\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\t\t\tajaxify.go('/topic/' + tids[0]);\r\n\t\t\tcloseModal();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction showTopicsSelected() {\r\n\t\tvar tids = Object.keys(selectedTids);\r\n\t\ttids.sort(function (a, b) {\r\n\t\t\treturn a - b;\r\n\t\t});\r\n\r\n\t\tvar topics = tids.map(function (tid) {\r\n\t\t\treturn { tid: tid, title: selectedTids[tid] };\r\n\t\t});\r\n\r\n\t\tif (tids.length) {\r\n\t\t\tapp.parseAndTranslate('partials/merge_topics_modal', 'topics', { topics: topics }, function (html) {\r\n\t\t\t\tmodal.find('.topics-section').html(html);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmodal.find('.topics-section').translateHtml('[[error:no-topics-selected]]');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction checkButtonEnable() {\r\n\t\tif (Object.keys(selectedTids).length) {\r\n\t\t\tmergeBtn.removeAttr('disabled');\r\n\t\t} else {\r\n\t\t\tmergeBtn.attr('disabled', true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction closeModal() {\r\n\t\tif (modal) {\r\n\t\t\tmodal.remove();\r\n\t\t\tmodal = null;\r\n\t\t}\r\n\t\tselectedTids = {};\r\n\t\t$('[component=\"category/topic\"]').off('click', 'a', onTopicClicked);\r\n\t}\r\n\r\n\treturn Merge;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/fork', ['components', 'postSelect'], function (components, postSelect) {\r\n\tvar Fork = {};\r\n\tvar forkModal;\r\n\tvar forkCommit;\r\n\r\n\tFork.init = function () {\r\n\t\t$('.topic').on('click', '[component=\"topic/fork\"]', onForkThreadClicked);\r\n\t\t$(window).on('action:ajaxify.start', onAjaxifyStart);\r\n\t};\r\n\r\n\tfunction onAjaxifyStart() {\r\n\t\tcloseForkModal();\r\n\t\t$(window).off('action:ajaxify.start', onAjaxifyStart);\r\n\t}\r\n\r\n\tfunction onForkThreadClicked() {\r\n\t\tapp.parseAndTranslate('partials/fork_thread_modal', {}, function (html) {\r\n\t\t\tforkModal = html;\r\n\r\n\t\t\tforkCommit = forkModal.find('#fork_thread_commit');\r\n\r\n\t\t\t$(document.body).append(forkModal);\r\n\r\n\t\t\tforkModal.find('.close,#fork_thread_cancel').on('click', closeForkModal);\r\n\t\t\tforkModal.find('#fork-title').on('keyup', checkForkButtonEnable);\r\n\r\n\t\t\tpostSelect.init(function () {\r\n\t\t\t\tcheckForkButtonEnable();\r\n\t\t\t\tshowPostsSelected();\r\n\t\t\t});\r\n\t\t\tshowPostsSelected();\r\n\r\n\t\t\tforkCommit.on('click', createTopicFromPosts);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction createTopicFromPosts() {\r\n\t\tforkCommit.attr('disabled', true);\r\n\t\tsocket.emit('topics.createTopicFromPosts', {\r\n\t\t\ttitle: forkModal.find('#fork-title').val(),\r\n\t\t\tpids: postSelect.pids,\r\n\t\t\tfromTid: ajaxify.data.tid,\r\n\t\t}, function (err, newTopic) {\r\n\t\t\tfunction fadeOutAndRemove(pid) {\r\n\t\t\t\tcomponents.get('post', 'pid', pid).fadeOut(500, function () {\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tforkCommit.removeAttr('disabled');\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tapp.alert({\r\n\t\t\t\ttimeout: 5000,\r\n\t\t\t\ttitle: '[[global:alert.success]]',\r\n\t\t\t\tmessage: '[[topic:fork_success]]',\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tclickfn: function () {\r\n\t\t\t\t\tajaxify.go('topic/' + newTopic.slug);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tpostSelect.pids.forEach(function (pid) {\r\n\t\t\t\tfadeOutAndRemove(pid);\r\n\t\t\t});\r\n\r\n\t\t\tcloseForkModal();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction showPostsSelected() {\r\n\t\tif (postSelect.pids.length) {\r\n\t\t\tforkModal.find('#fork-pids').translateHtml('[[topic:fork_pid_count, ' + postSelect.pids.length + ']]');\r\n\t\t} else {\r\n\t\t\tforkModal.find('#fork-pids').translateHtml('[[topic:fork_no_pids]]');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction checkForkButtonEnable() {\r\n\t\tif (forkModal.find('#fork-title').val().length && postSelect.pids.length) {\r\n\t\t\tforkCommit.removeAttr('disabled');\r\n\t\t} else {\r\n\t\t\tforkCommit.attr('disabled', true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction closeForkModal() {\r\n\t\tif (forkModal) {\r\n\t\t\tforkModal.remove();\r\n\t\t\tforkModal = null;\r\n\t\t}\r\n\r\n\t\tpostSelect.disable();\r\n\t}\r\n\r\n\treturn Fork;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/move', ['categorySelector'], function (categorySelector) {\r\n\tvar Move = {};\r\n\tvar modal;\r\n\tvar selectedCategory;\r\n\r\n\tMove.init = function (tids, currentCid, onComplete) {\r\n\t\tMove.tids = tids;\r\n\t\tMove.currentCid = currentCid;\r\n\t\tMove.onComplete = onComplete;\r\n\t\tMove.moveAll = !tids;\r\n\r\n\t\tsocket.emit('categories.getMoveCategories', onCategoriesLoaded);\r\n\t};\r\n\r\n\tfunction onCategoriesLoaded(err, categories) {\r\n\t\tif (err) {\r\n\t\t\treturn app.alertError(err.message);\r\n\t\t}\r\n\r\n\t\tparseModal(categories, function () {\r\n\t\t\tmodal.on('hidden.bs.modal', function () {\r\n\t\t\t\tmodal.remove();\r\n\t\t\t});\r\n\r\n\t\t\tmodal.find('#move-confirm').addClass('hide');\r\n\r\n\t\t\tif (Move.moveAll || (Move.tids && Move.tids.length > 1)) {\r\n\t\t\t\tmodal.find('.modal-header h3').translateText('[[topic:move_topics]]');\r\n\t\t\t}\r\n\r\n\t\t\tcategorySelector.init(modal.find('[component=\"category-selector\"]'), onCategorySelected);\r\n\r\n\t\t\tmodal.find('#move_thread_commit').on('click', onCommitClicked);\r\n\r\n\t\t\tmodal.modal('show');\r\n\t\t});\r\n\t}\r\n\r\n\tfunction parseModal(categories, callback) {\r\n\t\tapp.parseAndTranslate('partials/move_thread_modal', { categories: categories }, function (html) {\r\n\t\t\tmodal = $(html);\r\n\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onCategorySelected(category) {\r\n\t\tselectedCategory = category;\r\n\t\tmodal.find('#move_thread_commit').prop('disabled', false);\r\n\t}\r\n\r\n\tfunction onCommitClicked() {\r\n\t\tvar commitEl = modal.find('#move_thread_commit');\r\n\r\n\t\tif (!commitEl.prop('disabled') && selectedCategory && selectedCategory.cid) {\r\n\t\t\tcommitEl.prop('disabled', true);\r\n\r\n\t\t\tmoveTopics();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction moveTopics() {\r\n\t\tvar data = {\r\n\t\t\ttids: Move.tids,\r\n\t\t\tcid: selectedCategory.cid,\r\n\t\t\tcurrentCid: Move.currentCid,\r\n\t\t};\r\n\r\n\t\t$(window).trigger('action:topic.move', data);\r\n\r\n\t\tsocket.emit(Move.moveAll ? 'topics.moveAll' : 'topics.move', data, function (err) {\r\n\t\t\tmodal.modal('hide');\r\n\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tapp.alertSuccess('[[topic:topic_move_success, ' + selectedCategory.name + ']]');\r\n\t\t\tif (typeof Move.onComplete === 'function') {\r\n\t\t\t\tMove.onComplete();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\treturn Move;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/posts', [\r\n\t'forum/pagination',\r\n\t'forum/infinitescroll',\r\n\t'forum/topic/postTools',\r\n\t'forum/topic/images',\r\n\t'navigator',\r\n\t'components',\r\n], function (pagination, infinitescroll, postTools, images, navigator, components) {\r\n\tvar Posts = { };\r\n\r\n\tPosts.onNewPost = function (data) {\r\n\t\tif (!data || !data.posts || !data.posts.length || parseInt(data.posts[0].tid, 10) !== parseInt(ajaxify.data.tid, 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdata.loggedIn = !!app.user.uid;\r\n\t\tdata.privileges = ajaxify.data.privileges;\r\n\r\n\t\t// prevent timeago in future by setting timestamp to 1 sec behind now\r\n\t\tdata.posts[0].timestamp = Date.now() - 1000;\r\n\t\tdata.posts[0].timestampISO = utils.toISOString(data.posts[0].timestamp);\r\n\r\n\t\tPosts.modifyPostsByPrivileges(data.posts);\r\n\r\n\t\tupdatePostCounts(data.posts);\r\n\r\n\t\tajaxify.data.postcount += 1;\r\n\t\tpostTools.updatePostCount(ajaxify.data.postcount);\r\n\r\n\t\tif (config.usePagination) {\r\n\t\t\tonNewPostPagination(data);\r\n\t\t} else {\r\n\t\t\tonNewPostInfiniteScroll(data);\r\n\t\t}\r\n\r\n\t\trequire(['forum/topic/replies'], function (replies) {\r\n\t\t\treplies.onNewPost(data);\r\n\t\t});\r\n\t};\r\n\r\n\tPosts.modifyPostsByPrivileges = function (posts) {\r\n\t\tposts.forEach(function (post) {\r\n\t\t\tpost.selfPost = !!app.user.uid && parseInt(post.uid, 10) === parseInt(app.user.uid, 10);\r\n\t\t\tpost.display_edit_tools = (ajaxify.data.privileges['posts:edit'] && post.selfPost) || ajaxify.data.privileges.isAdminOrMod;\r\n\t\t\tpost.display_delete_tools = (ajaxify.data.privileges['posts:delete'] && post.selfPost) || ajaxify.data.privileges.isAdminOrMod;\r\n\t\t\tpost.display_moderator_tools = post.display_edit_tools || post.display_delete_tools;\r\n\t\t\tpost.display_move_tools = ajaxify.data.privileges.isAdminOrMod;\r\n\t\t\tpost.display_post_menu = ajaxify.data.privileges.isAdminOrMod || (post.selfPost && !ajaxify.data.locked) || ((app.user.uid || ajaxify.data.postSharing.length) && !post.deleted);\r\n\t\t});\r\n\t};\r\n\r\n\tfunction updatePostCounts(posts) {\r\n\t\tfor (var i = 0; i < posts.length; i += 1) {\r\n\t\t\tvar cmp = components.get('user/postcount', posts[i].uid);\r\n\t\t\tcmp.html(parseInt(cmp.attr('data-postcount'), 10) + 1);\r\n\t\t\tutils.addCommasToNumbers(cmp);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onNewPostPagination(data) {\r\n\t\tfunction scrollToPost() {\r\n\t\t\tscrollToPostIfSelf(data.posts[0]);\r\n\t\t\timages.loadImages();\r\n\t\t}\r\n\r\n\t\tvar posts = data.posts;\r\n\r\n\t\tajaxify.data.pagination.pageCount = Math.max(1, Math.ceil(posts[0].topic.postcount / config.postsPerPage));\r\n\t\tvar direction = config.topicPostSort === 'oldest_to_newest' || config.topicPostSort === 'most_votes' ? 1 : -1;\r\n\r\n\t\tvar isPostVisible = (ajaxify.data.pagination.currentPage === ajaxify.data.pagination.pageCount && direction === 1) ||\r\n\t\t\t\t\t\t\t(ajaxify.data.pagination.currentPage === 1 && direction === -1);\r\n\r\n\t\tif (isPostVisible) {\r\n\t\t\tcreateNewPosts(data, components.get('post').not('[data-index=0]'), direction, scrollToPost);\r\n\t\t} else if (ajaxify.data.scrollToMyPost && parseInt(posts[0].uid, 10) === parseInt(app.user.uid, 10)) {\r\n\t\t\t// https://github.com/NodeBB/NodeBB/issues/5004#issuecomment-247157441\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tpagination.loadPage(ajaxify.data.pagination.pageCount, scrollToPost);\r\n\t\t\t}, 250);\r\n\t\t} else {\r\n\t\t\tupdatePagination();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updatePagination() {\r\n\t\t$.get(config.relative_path + '/api/topic/pagination/' + ajaxify.data.tid, { page: ajaxify.data.pagination.currentPage }, function (paginationData) {\r\n\t\t\tapp.parseAndTranslate('partials/paginator', { pagination: paginationData }, function (html) {\r\n\t\t\t\t$('[component=\"pagination\"]').after(html).remove();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onNewPostInfiniteScroll(data) {\r\n\t\tvar direction = config.topicPostSort === 'oldest_to_newest' || config.topicPostSort === 'most_votes' ? 1 : -1;\r\n\r\n\t\tvar isPreviousPostAdded = $('[component=\"post\"][data-index=\"' + (data.posts[0].index - 1) + '\"]').length;\r\n\t\tif (!isPreviousPostAdded && (!data.posts[0].selfPost || !ajaxify.data.scrollToMyPost)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!isPreviousPostAdded && data.posts[0].selfPost) {\r\n\t\t\treturn ajaxify.go('post/' + data.posts[0].pid);\r\n\t\t}\r\n\r\n\t\tcreateNewPosts(data, components.get('post').not('[data-index=0]'), direction, function (html) {\r\n\t\t\tif (html) {\r\n\t\t\t\thtml.addClass('new');\r\n\t\t\t}\r\n\t\t\tscrollToPostIfSelf(data.posts[0]);\r\n\t\t\timages.loadImages();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction scrollToPostIfSelf(post) {\r\n\t\tif (post.selfPost && ajaxify.data.scrollToMyPost) {\r\n\t\t\tnavigator.scrollBottom(post.index);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction createNewPosts(data, repliesSelector, direction, callback) {\r\n\t\tcallback = callback || function () {};\r\n\t\tif (!data || (data.posts && !data.posts.length)) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tfunction removeAlreadyAddedPosts() {\r\n\t\t\tvar newPosts = $('[component=\"post\"].new');\r\n\r\n\t\t\tif (newPosts.length === data.posts.length) {\r\n\t\t\t\tvar allSamePids = true;\r\n\t\t\t\tnewPosts.each(function (index, el) {\r\n\t\t\t\t\tif (parseInt($(el).attr('data-pid'), 10) !== parseInt(data.posts[index].pid, 10)) {\r\n\t\t\t\t\t\tallSamePids = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (allSamePids) {\r\n\t\t\t\t\tnewPosts.each(function () {\r\n\t\t\t\t\t\t$(this).removeClass('new');\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdata.posts.length = 0;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (newPosts.length && data.posts.length > 1) {\r\n\t\t\t\tdata.posts.forEach(function (post) {\r\n\t\t\t\t\tvar p = components.get('post', 'pid', post.pid);\r\n\t\t\t\t\tif (p.hasClass('new')) {\r\n\t\t\t\t\t\tp.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tdata.posts = data.posts.filter(function (post) {\r\n\t\t\t\treturn $('[component=\"post\"][data-pid=\"' + post.pid + '\"]').length === 0;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tremoveAlreadyAddedPosts();\r\n\r\n\t\tif (!data.posts.length) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tvar after;\r\n\t\tvar before;\r\n\r\n\t\tif (direction > 0 && repliesSelector.length) {\r\n\t\t\tafter = repliesSelector.last();\r\n\t\t} else if (direction < 0 && repliesSelector.length) {\r\n\t\t\tbefore = repliesSelector.first();\r\n\t\t}\r\n\r\n\t\tdata.slug = ajaxify.data.slug;\r\n\r\n\t\t$(window).trigger('action:posts.loading', { posts: data.posts, after: after, before: before });\r\n\r\n\t\tapp.parseAndTranslate('topic', 'posts', data, function (html) {\r\n\t\t\thtml = html.filter(function () {\r\n\t\t\t\tvar pid = $(this).attr('data-pid');\r\n\t\t\t\treturn pid && $('[component=\"post\"][data-pid=\"' + pid + '\"]').length === 0;\r\n\t\t\t});\r\n\r\n\t\t\tif (after) {\r\n\t\t\t\thtml.insertAfter(after);\r\n\t\t\t} else if (before) {\r\n\t\t\t\t// Save document height and position for future reference (about 5 lines down)\r\n\t\t\t\tvar height = $(document).height();\r\n\t\t\t\tvar scrollTop = $(window).scrollTop();\r\n\r\n\t\t\t\thtml.insertBefore(before);\r\n\r\n\t\t\t\t// Now restore the relative position the user was on prior to new post insertion\r\n\t\t\t\t$(window).scrollTop(scrollTop + ($(document).height() - height));\r\n\t\t\t} else {\r\n\t\t\t\tcomponents.get('topic').append(html);\r\n\t\t\t}\r\n\r\n\t\t\tinfinitescroll.removeExtra($('[component=\"post\"]'), direction, config.postsPerPage * 2);\r\n\r\n\t\t\t$(window).trigger('action:posts.loaded', { posts: data.posts });\r\n\r\n\t\t\tPosts.processPage(html);\r\n\r\n\t\t\tcallback(html);\r\n\t\t});\r\n\t}\r\n\r\n\tPosts.loadMorePosts = function (direction) {\r\n\t\tif (!components.get('topic').length || navigator.scrollActive || Posts._infiniteScrollTimeout) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tPosts._infiniteScrollTimeout = setTimeout(function () {\r\n\t\t\tdelete Posts._infiniteScrollTimeout;\r\n\t\t}, 1000);\r\n\t\tvar replies = components.get('topic').find(components.get('post').not('[data-index=0]').not('.new'));\r\n\t\tvar afterEl = direction > 0 ? replies.last() : replies.first();\r\n\t\tvar after = parseInt(afterEl.attr('data-index'), 10) || 0;\r\n\r\n\t\tvar tid = ajaxify.data.tid;\r\n\t\tif (!utils.isNumber(tid) || !utils.isNumber(after) || (direction < 0 && components.get('post', 'index', 0).length)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar indicatorEl = $('.loading-indicator');\r\n\t\tif (!indicatorEl.is(':animated')) {\r\n\t\t\tindicatorEl.fadeIn();\r\n\t\t}\r\n\r\n\t\tinfinitescroll.loadMore('topics.loadMore', {\r\n\t\t\ttid: tid,\r\n\t\t\tafter: after,\r\n\t\t\tcount: config.postsPerPage,\r\n\t\t\tdirection: direction,\r\n\t\t\ttopicPostSort: config.topicPostSort,\r\n\t\t}, function (data, done) {\r\n\t\t\tindicatorEl.fadeOut();\r\n\r\n\t\t\tif (data && data.posts && data.posts.length) {\r\n\t\t\t\tcreateNewPosts(data, replies, direction, done);\r\n\t\t\t} else {\r\n\t\t\t\tnavigator.update();\r\n\t\t\t\tdone();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tPosts.processPage = function (posts) {\r\n\t\timages.unloadImages(posts);\r\n\t\tPosts.showBottomPostBar();\r\n\t\tposts.find('[component=\"post/content\"] img:not(.not-responsive)').addClass('img-responsive');\r\n\t\tapp.createUserTooltips(posts);\r\n\t\tapp.replaceSelfLinks(posts.find('a'));\r\n\t\tutils.addCommasToNumbers(posts.find('.formatted-number'));\r\n\t\tutils.makeNumbersHumanReadable(posts.find('.human-readable-number'));\r\n\t\tposts.find('.timeago').timeago();\r\n\r\n\t\taddBlockquoteEllipses(posts.find('[component=\"post/content\"] > blockquote > blockquote'));\r\n\t\thidePostToolsForDeletedPosts(posts);\r\n\t};\r\n\r\n\tPosts.showBottomPostBar = function () {\r\n\t\tvar mainPost = components.get('post', 'index', 0);\r\n\t\tvar placeHolder = $('.post-bar-placeholder');\r\n\t\tvar posts = $('[component=\"post\"]');\r\n\t\tif (!!mainPost.length && posts.length > 1 && $('.post-bar').length < 2 && placeHolder.length) {\r\n\t\t\t$('.post-bar').clone().insertAfter(placeHolder);\r\n\t\t\tplaceHolder.remove();\r\n\t\t} else if (mainPost.length && posts.length < 2) {\r\n\t\t\tmainPost.find('.post-bar').remove();\r\n\t\t}\r\n\t};\r\n\r\n\tfunction hidePostToolsForDeletedPosts(posts) {\r\n\t\tposts.each(function () {\r\n\t\t\tif ($(this).hasClass('deleted')) {\r\n\t\t\t\tpostTools.toggle($(this).attr('data-pid'), true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction addBlockquoteEllipses(blockquotes) {\r\n\t\tblockquotes.each(function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif ($this.find(':hidden:not(br)').length && !$this.find('.toggle').length) {\r\n\t\t\t\t$this.append('<i class=\"fa fa-angle-down pointer toggle\"></i>');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn Posts;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/images', [\r\n\t'forum/topic/postTools',\r\n\t'navigator',\r\n\t'components',\r\n], function (postTools, navigator, components) {\r\n\tvar Images = {\r\n\t\t_imageLoaderTimeout: undefined,\r\n\t};\r\n\r\n\tImages.unloadImages = function (posts) {\r\n\t\tvar images = posts.find('[component=\"post/content\"] img:not(.not-responsive)');\r\n\r\n\t\tif (config.delayImageLoading) {\r\n\t\t\timages.each(function () {\r\n\t\t\t\t$(this).attr('data-src', $(this).attr('src'));\r\n\t\t\t}).attr('data-state', 'unloaded').attr('src', 'about:blank');\r\n\t\t} else {\r\n\t\t\timages.attr('data-state', 'loaded');\r\n\t\t\tImages.wrapImagesInLinks(posts);\r\n\t\t\t$(window).trigger('action:images.loaded');\r\n\t\t}\r\n\t};\r\n\r\n\tImages.loadImages = function (threshold) {\r\n\t\tif (Images._imageLoaderTimeout) {\r\n\t\t\tclearTimeout(Images._imageLoaderTimeout);\r\n\t\t}\r\n\r\n\t\tif (!config.delayImageLoading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tImages._imageLoaderTimeout = setTimeout(function () {\r\n\t\t\t/*\r\n\t\t\t\tIf threshold is defined, images loaded above this threshold will modify\r\n\t\t\t\tthe user's scroll position so they are not scrolled away from content\r\n\t\t\t\tthey were reading. Images loaded below this threshold will push down content.\r\n\r\n\t\t\t\tIf no threshold is defined, loaded images will push down content, as per\r\n\t\t\t\tdefault\r\n\t\t\t*/\r\n\r\n\t\t\tvar images = components.get('post/content').find('img[data-state=\"unloaded\"]');\r\n\t\t\tvar visible = images.filter(function () {\r\n\t\t\t\treturn utils.isElementInViewport(this);\r\n\t\t\t});\r\n\t\t\tvar posts = $.unique(visible.map(function () {\r\n\t\t\t\treturn $(this).parents('[component=\"post\"]').get(0);\r\n\t\t\t}));\r\n\t\t\tvar scrollTop = $(window).scrollTop();\r\n\t\t\tvar adjusting = false;\r\n\t\t\tvar adjustQueue = [];\r\n\t\t\tvar oldHeight;\r\n\t\t\tvar newHeight;\r\n\r\n\t\t\tfunction adjustPosition() {\r\n\t\t\t\tadjusting = true;\r\n\t\t\t\toldHeight = document.body.clientHeight;\r\n\r\n\t\t\t\t// Display the image\r\n\t\t\t\t$(this).attr('data-state', 'loaded');\r\n\t\t\t\tnewHeight = document.body.clientHeight;\r\n\r\n\t\t\t\tvar imageRect = this.getBoundingClientRect();\r\n\t\t\t\tif (imageRect.top < threshold) {\r\n\t\t\t\t\tscrollTop += newHeight - oldHeight;\r\n\t\t\t\t\t$(window).scrollTop(scrollTop);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (adjustQueue.length) {\r\n\t\t\t\t\tadjustQueue.pop()();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tadjusting = false;\r\n\r\n\t\t\t\t\tImages.wrapImagesInLinks(posts);\r\n\t\t\t\t\t$(window).trigger('action:images.loaded');\r\n\t\t\t\t\tposts.length = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// For each image, reset the source and adjust scrollTop when loaded\r\n\t\t\tvisible.attr('data-state', 'loading');\r\n\t\t\tvisible.each(function (index, image) {\r\n\t\t\t\timage = $(image);\r\n\r\n\t\t\t\timage.on('load', function () {\r\n\t\t\t\t\tif (!adjusting) {\r\n\t\t\t\t\t\tadjustPosition.call(this);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tadjustQueue.push(adjustPosition.bind(this));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\timage.attr('src', image.attr('data-src'));\r\n\t\t\t\timage.removeAttr('data-src');\r\n\t\t\t});\r\n\t\t}, 250);\r\n\t};\r\n\r\n\tImages.wrapImagesInLinks = function (posts) {\r\n\t\tposts.find('[component=\"post/content\"] img:not(.emoji)').each(function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar src = $this.attr('src') || '';\r\n\t\t\tvar alt = $this.attr('alt') || '';\r\n\t\t\tvar suffixRegex = /-resized(\\.[\\w]+)?$/;\r\n\r\n\t\t\tif (src === 'about:blank') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (utils.isRelativeUrl(src) && suffixRegex.test(src)) {\r\n\t\t\t\tsrc = src.replace(suffixRegex, '$1');\r\n\t\t\t}\r\n\t\t\tvar srcExt = src.split('.').slice(1).pop();\r\n\t\t\tvar altFilename = alt.split('/').pop();\r\n\t\t\tvar altExt = altFilename.split('.').slice(1).pop();\r\n\r\n\t\t\tif (!$this.parent().is('a')) {\r\n\t\t\t\t$this.wrap('<a href=\"' + src + '\" '\r\n\t\t\t\t\t+ (!srcExt && altExt ? ' download=\"' + altFilename + '\" ' : '')\r\n\t\t\t\t\t+ ' target=\"_blank\" >');\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\r\n\treturn Images;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/postTools', [\r\n\t'share',\r\n\t'navigator',\r\n\t'components',\r\n\t'translator',\r\n\t'forum/topic/votes',\r\n\t'forum/topic/move-post',\r\n\t'forum/topic/diffs',\r\n], function (share, navigator, components, translator, votes, movePost, diffs) {\r\n\tvar PostTools = {};\r\n\r\n\tvar staleReplyAnyway = false;\r\n\r\n\tPostTools.init = function (tid) {\r\n\t\tstaleReplyAnyway = false;\r\n\r\n\t\trenderMenu();\r\n\r\n\t\taddPostHandlers(tid);\r\n\r\n\t\tshare.addShareHandlers(ajaxify.data.titleRaw);\r\n\r\n\t\tvotes.addVoteHandler();\r\n\r\n\t\tPostTools.updatePostCount(ajaxify.data.postcount);\r\n\t};\r\n\r\n\tfunction renderMenu() {\r\n\t\t$('[component=\"topic\"]').on('show.bs.dropdown', '.moderator-tools', function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar dropdownMenu = $this.find('.dropdown-menu');\r\n\t\t\tif (dropdownMenu.html()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar postEl = $this.parents('[data-pid]');\r\n\t\t\tvar pid = postEl.attr('data-pid');\r\n\t\t\tvar index = parseInt(postEl.attr('data-index'), 10);\r\n\r\n\t\t\tsocket.emit('posts.loadPostTools', { pid: pid, cid: ajaxify.data.cid }, function (err, data) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tdata.posts.display_move_tools = data.posts.display_move_tools && index !== 0;\r\n\r\n\t\t\t\tapp.parseAndTranslate('partials/topic/post-menu-list', data, function (html) {\r\n\t\t\t\t\tdropdownMenu.html(html);\r\n\t\t\t\t\trequire(['clipboard'], function (clipboard) {\r\n\t\t\t\t\t\tnew clipboard('[data-clipboard-text]');\r\n\t\t\t\t\t});\r\n\t\t\t\t\t$(window).trigger('action:post.tools.load');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tPostTools.toggle = function (pid, isDeleted) {\r\n\t\tvar postEl = components.get('post', 'pid', pid);\r\n\r\n\t\tpostEl.find('[component=\"post/quote\"], [component=\"post/bookmark\"], [component=\"post/reply\"], [component=\"post/flag\"], [component=\"user/chat\"]')\r\n\t\t\t.toggleClass('hidden', isDeleted);\r\n\r\n\t\tpostEl.find('[component=\"post/delete\"]').toggleClass('hidden', isDeleted);\r\n\t\tpostEl.find('[component=\"post/restore\"]').toggleClass('hidden', !isDeleted);\r\n\t\tpostEl.find('[component=\"post/purge\"]').toggleClass('hidden', !isDeleted);\r\n\r\n\t\tpostEl.find('[component=\"post/tools\"] .dropdown-menu').html('');\r\n\t};\r\n\r\n\tPostTools.updatePostCount = function (postCount) {\r\n\t\tvar postCountEl = components.get('topic/post-count');\r\n\t\tpostCountEl.html(postCount).attr('title', postCount);\r\n\t\tutils.makeNumbersHumanReadable(postCountEl);\r\n\t\tnavigator.setCount(postCount);\r\n\t};\r\n\r\n\tfunction addPostHandlers(tid) {\r\n\t\tvar postContainer = components.get('topic');\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/quote\"]', function () {\r\n\t\t\tonQuoteClicked($(this), tid);\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/reply\"]', function () {\r\n\t\t\tonReplyClicked($(this), tid);\r\n\t\t});\r\n\r\n\t\t$('.topic').on('click', '[component=\"topic/reply\"]', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tonReplyClicked($(this), tid);\r\n\t\t});\r\n\r\n\t\t$('.topic').on('click', '[component=\"topic/reply-as-topic\"]', function () {\r\n\t\t\ttranslator.translate('[[topic:link_back, ' + ajaxify.data.titleRaw + ', ' + config.relative_path + '/topic/' + ajaxify.data.slug + ']]', function (body) {\r\n\t\t\t\t$(window).trigger('action:composer.topic.new', {\r\n\t\t\t\t\tcid: ajaxify.data.cid,\r\n\t\t\t\t\tbody: body,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/bookmark\"]', function () {\r\n\t\t\treturn bookmarkPost($(this), getData($(this), 'data-pid'));\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/upvote\"]', function () {\r\n\t\t\treturn votes.toggleVote($(this), '.upvoted', 'posts.upvote');\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/downvote\"]', function () {\r\n\t\t\treturn votes.toggleVote($(this), '.downvoted', 'posts.downvote');\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/vote-count\"]', function () {\r\n\t\t\tvotes.showVotes(getData($(this), 'data-pid'));\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/flag\"]', function () {\r\n\t\t\tvar pid = getData($(this), 'data-pid');\r\n\t\t\trequire(['flags'], function (flags) {\r\n\t\t\t\tflags.showFlagModal({\r\n\t\t\t\t\ttype: 'post',\r\n\t\t\t\t\tid: pid,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/edit\"]', function () {\r\n\t\t\tvar btn = $(this);\r\n\r\n\t\t\tvar timestamp = parseInt(getData(btn, 'data-timestamp'), 10);\r\n\t\t\tvar postEditDuration = parseInt(ajaxify.data.postEditDuration, 10);\r\n\r\n\t\t\tif (checkDuration(postEditDuration, timestamp, 'post-edit-duration-expired')) {\r\n\t\t\t\t$(window).trigger('action:composer.post.edit', {\r\n\t\t\t\t\tpid: getData(btn, 'data-pid'),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/view-history\"], [component=\"post/edit-indicator\"]', function () {\r\n\t\t\tvar btn = $(this);\r\n\t\t\tdiffs.open(getData(btn, 'data-pid'));\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/delete\"]', function () {\r\n\t\t\tvar btn = $(this);\r\n\t\t\tvar timestamp = parseInt(getData(btn, 'data-timestamp'), 10);\r\n\t\t\tvar postDeleteDuration = parseInt(ajaxify.data.postDeleteDuration, 10);\r\n\t\t\tif (checkDuration(postDeleteDuration, timestamp, 'post-delete-duration-expired')) {\r\n\t\t\t\ttogglePostDelete($(this), tid);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tfunction checkDuration(duration, postTimestamp, languageKey) {\r\n\t\t\tif (!ajaxify.data.privileges.isAdminOrMod && duration && Date.now() - postTimestamp > duration * 1000) {\r\n\t\t\t\tvar numDays = Math.floor(duration / 86400);\r\n\t\t\t\tvar numHours = Math.floor((duration % 86400) / 3600);\r\n\t\t\t\tvar numMinutes = Math.floor(((duration % 86400) % 3600) / 60);\r\n\t\t\t\tvar numSeconds = ((duration % 86400) % 3600) % 60;\r\n\t\t\t\tvar msg = '[[error:' + languageKey + ', ' + duration + ']]';\r\n\t\t\t\tif (numDays) {\r\n\t\t\t\t\tif (numHours) {\r\n\t\t\t\t\t\tmsg = '[[error:' + languageKey + '-days-hours, ' + numDays + ', ' + numHours + ']]';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmsg = '[[error:' + languageKey + '-days, ' + numDays + ']]';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (numHours) {\r\n\t\t\t\t\tif (numMinutes) {\r\n\t\t\t\t\t\tmsg = '[[error:' + languageKey + '-hours-minutes, ' + numHours + ', ' + numMinutes + ']]';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmsg = '[[error:' + languageKey + '-hours, ' + numHours + ']]';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (numMinutes) {\r\n\t\t\t\t\tif (numSeconds) {\r\n\t\t\t\t\t\tmsg = '[[error:' + languageKey + '-minutes-seconds, ' + numMinutes + ', ' + numSeconds + ']]';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmsg = '[[error:' + languageKey + '-minutes, ' + numMinutes + ']]';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tapp.alertError(msg);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/restore\"]', function () {\r\n\t\t\ttogglePostDelete($(this), tid);\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/purge\"]', function () {\r\n\t\t\tpurgePost($(this), tid);\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/move\"]', function () {\r\n\t\t\tmovePost.openMovePostModal($(this).parents('[data-pid]'));\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/ban-ip\"]', function () {\r\n\t\t\tvar ip = $(this).attr('data-ip');\r\n\t\t\tsocket.emit('blacklist.addRule', ip, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tapp.alertSuccess('[[admin/manage/blacklist:ban-ip]]');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tpostContainer.on('click', '[component=\"post/chat\"]', function () {\r\n\t\t\topenChat($(this));\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onReplyClicked(button, tid) {\r\n\t\tvar selectedNode = getSelectedNode();\r\n\r\n\t\tshowStaleWarning(function () {\r\n\t\t\tvar username = getUserSlug(button);\r\n\t\t\tif (getData(button, 'data-uid') === '0' || !getData(button, 'data-userslug')) {\r\n\t\t\t\tusername = '';\r\n\t\t\t}\r\n\r\n\t\t\tvar toPid = button.is('[component=\"post/reply\"]') ? getData(button, 'data-pid') : null;\r\n\r\n\t\t\tif (selectedNode.text && (!toPid || !selectedNode.pid || toPid === selectedNode.pid)) {\r\n\t\t\t\tusername = username || selectedNode.username;\r\n\t\t\t\t$(window).trigger('action:composer.addQuote', {\r\n\t\t\t\t\ttid: tid,\r\n\t\t\t\t\tpid: toPid,\r\n\t\t\t\t\ttopicName: ajaxify.data.titleRaw,\r\n\t\t\t\t\tusername: username,\r\n\t\t\t\t\ttext: selectedNode.text,\r\n\t\t\t\t\tselectedPid: selectedNode.pid,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t$(window).trigger('action:composer.post.new', {\r\n\t\t\t\t\ttid: tid,\r\n\t\t\t\t\tpid: toPid,\r\n\t\t\t\t\ttopicName: ajaxify.data.titleRaw,\r\n\t\t\t\t\ttext: username ? username + ' ' : '',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction onQuoteClicked(button, tid) {\r\n\t\tvar selectedNode = getSelectedNode();\r\n\r\n\t\tshowStaleWarning(function () {\r\n\t\t\tvar username = getUserSlug(button);\r\n\t\t\tvar toPid = getData(button, 'data-pid');\r\n\r\n\t\t\tfunction quote(text) {\r\n\t\t\t\t$(window).trigger('action:composer.addQuote', {\r\n\t\t\t\t\ttid: tid,\r\n\t\t\t\t\tpid: toPid,\r\n\t\t\t\t\tusername: username,\r\n\t\t\t\t\ttopicName: ajaxify.data.titleRaw,\r\n\t\t\t\t\ttext: text,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (selectedNode.text && toPid && toPid === selectedNode.pid) {\r\n\t\t\t\treturn quote(selectedNode.text);\r\n\t\t\t}\r\n\t\t\tsocket.emit('posts.getRawPost', toPid, function (err, post) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tquote(post);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getSelectedNode() {\r\n\t\tvar selectedText = '';\r\n\t\tvar selectedPid;\r\n\t\tvar username = '';\r\n\t\tvar selection = window.getSelection ? window.getSelection() : document.selection.createRange();\r\n\t\tvar postContents = $('[component=\"post\"] [component=\"post/content\"]');\r\n\t\tvar content;\r\n\t\tpostContents.each(function (index, el) {\r\n\t\t\tif (selection && selection.containsNode && el && selection.containsNode(el, true)) {\r\n\t\t\t\tcontent = el;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (content) {\r\n\t\t\tvar bounds = document.createRange();\r\n\t\t\tbounds.selectNodeContents(content);\r\n\t\t\tvar range = selection.getRangeAt(0).cloneRange();\r\n\t\t\tif (range.compareBoundaryPoints(Range.START_TO_START, bounds) < 0) {\r\n\t\t\t\trange.setStart(bounds.startContainer, bounds.startOffset);\r\n\t\t\t}\r\n\t\t\tif (range.compareBoundaryPoints(Range.END_TO_END, bounds) > 0) {\r\n\t\t\t\trange.setEnd(bounds.endContainer, bounds.endOffset);\r\n\t\t\t}\r\n\t\t\tbounds.detach();\r\n\t\t\tselectedText = range.toString();\r\n\t\t\tvar postEl = $(content).parents('[component=\"post\"]');\r\n\t\t\tselectedPid = postEl.attr('data-pid');\r\n\t\t\tusername = getUserSlug($(content));\r\n\t\t\trange.detach();\r\n\t\t}\r\n\t\treturn { text: selectedText, pid: selectedPid, username: username };\r\n\t}\r\n\r\n\tfunction bookmarkPost(button, pid) {\r\n\t\tvar method = button.attr('data-bookmarked') === 'false' ? 'posts.bookmark' : 'posts.unbookmark';\r\n\r\n\t\tsocket.emit(method, {\r\n\t\t\tpid: pid,\r\n\t\t\troom_id: 'topic_' + ajaxify.data.tid,\r\n\t\t}, function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\tapp.alertError(err.message);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction getData(button, data) {\r\n\t\treturn button.parents('[data-pid]').attr(data);\r\n\t}\r\n\r\n\tfunction getUserSlug(button) {\r\n\t\tvar slug = '';\r\n\t\tvar post = button.parents('[data-pid]');\r\n\r\n\t\tif (button.attr('component') === 'topic/reply') {\r\n\t\t\treturn slug;\r\n\t\t}\r\n\r\n\t\tif (post.length) {\r\n\t\t\tslug = post.attr('data-userslug');\r\n\t\t}\r\n\t\tif (post.length && post.attr('data-uid') !== '0') {\r\n\t\t\tslug = '@' + slug;\r\n\t\t}\r\n\r\n\t\treturn slug;\r\n\t}\r\n\r\n\tfunction togglePostDelete(button, tid) {\r\n\t\tvar pid = getData(button, 'data-pid');\r\n\t\tvar postEl = components.get('post', 'pid', pid);\r\n\t\tvar action = !postEl.hasClass('deleted') ? 'delete' : 'restore';\r\n\r\n\t\tpostAction(action, pid, tid);\r\n\t}\r\n\r\n\tfunction purgePost(button, tid) {\r\n\t\tpostAction('purge', getData(button, 'data-pid'), tid);\r\n\t}\r\n\r\n\tfunction postAction(action, pid, tid) {\r\n\t\ttranslator.translate('[[topic:post_' + action + '_confirm]]', function (msg) {\r\n\t\t\tbootbox.confirm(msg, function (confirm) {\r\n\t\t\t\tif (!confirm) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsocket.emit('posts.' + action, {\r\n\t\t\t\t\tpid: pid,\r\n\t\t\t\t\ttid: tid,\r\n\t\t\t\t}, function (err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction openChat(button) {\r\n\t\tvar post = button.parents('[data-pid]');\r\n\r\n\t\tapp.newChat(post.attr('data-uid'));\r\n\t\tbutton.parents('.btn-group').find('.dropdown-toggle').click();\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction showStaleWarning(callback) {\r\n\t\tvar staleThreshold = Math.min(Date.now() - (1000 * 60 * 60 * 24 * ajaxify.data.topicStaleDays), 8640000000000000);\r\n\t\tif (staleReplyAnyway || ajaxify.data.lastposttime >= staleThreshold) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\ttranslator.translate('[[topic:stale.warning]]', function (translated) {\r\n\t\t\tvar warning = bootbox.dialog({\r\n\t\t\t\ttitle: '[[topic:stale.title]]',\r\n\t\t\t\tmessage: translated,\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\treply: {\r\n\t\t\t\t\t\tlabel: '[[topic:stale.reply_anyway]]',\r\n\t\t\t\t\t\tclassName: 'btn-link',\r\n\t\t\t\t\t\tcallback: function () {\r\n\t\t\t\t\t\t\tstaleReplyAnyway = true;\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcreate: {\r\n\t\t\t\t\t\tlabel: '[[topic:stale.create]]',\r\n\t\t\t\t\t\tclassName: 'btn-primary',\r\n\t\t\t\t\t\tcallback: function () {\r\n\t\t\t\t\t\t\ttranslator.translate('[[topic:link_back, ' + ajaxify.data.title + ', ' + config.relative_path + '/topic/' + ajaxify.data.slug + ']]', function (body) {\r\n\t\t\t\t\t\t\t\t$(window).trigger('action:composer.topic.new', {\r\n\t\t\t\t\t\t\t\t\tcid: ajaxify.data.cid,\r\n\t\t\t\t\t\t\t\t\tbody: body,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\twarning.modal();\r\n\t\t});\r\n\t}\r\n\r\n\treturn PostTools;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/topic/threadTools', [\r\n\t'forum/topic/fork',\r\n\t'forum/topic/move',\r\n\t'forum/topic/delete-posts',\r\n\t'forum/topic/move-post',\r\n\t'components',\r\n\t'translator',\r\n\t'benchpress',\r\n], function (fork, move, deletePosts, movePosts, components, translator, Benchpress) {\r\n\tvar ThreadTools = {};\r\n\r\n\tThreadTools.init = function (tid) {\r\n\t\trenderMenu();\r\n\r\n\t\tvar topicContainer = $('.topic');\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/delete\"]', function () {\r\n\t\t\ttopicCommand('delete', tid);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/restore\"]', function () {\r\n\t\t\ttopicCommand('restore', tid);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/purge\"]', function () {\r\n\t\t\ttopicCommand('purge', tid);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/lock\"]', function () {\r\n\t\t\tsocket.emit('topics.lock', { tids: [tid], cid: ajaxify.data.cid });\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/unlock\"]', function () {\r\n\t\t\tsocket.emit('topics.unlock', { tids: [tid], cid: ajaxify.data.cid });\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/pin\"]', function () {\r\n\t\t\tsocket.emit('topics.pin', { tids: [tid], cid: ajaxify.data.cid });\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/unpin\"]', function () {\r\n\t\t\tsocket.emit('topics.unpin', { tids: [tid], cid: ajaxify.data.cid });\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/mark-unread\"]', function () {\r\n\t\t\tsocket.emit('topics.markUnread', tid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err);\r\n\t\t\t\t}\r\n\t\t\t\tapp.alertSuccess('[[topic:mark_unread.success]]');\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/mark-unread-for-all\"]', function () {\r\n\t\t\tvar btn = $(this);\r\n\t\t\tsocket.emit('topics.markAsUnreadForAll', [tid], function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tapp.alertSuccess('[[topic:markAsUnreadForAll.success]]');\r\n\t\t\t\tbtn.parents('.thread-tools.open').find('.dropdown-toggle').trigger('click');\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\ttopicContainer.on('click', '[component=\"topic/move\"]', function () {\r\n\t\t\tmove.init([tid], ajaxify.data.cid);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tdeletePosts.init();\r\n\t\tfork.init();\r\n\t\tmovePosts.init();\r\n\r\n\t\t$('.topic').on('click', '[component=\"topic/following\"]', function () {\r\n\t\t\tchangeWatching('follow');\r\n\t\t});\r\n\t\t$('.topic').on('click', '[component=\"topic/not-following\"]', function () {\r\n\t\t\tchangeWatching('unfollow');\r\n\t\t});\r\n\t\t$('.topic').on('click', '[component=\"topic/ignoring\"]', function () {\r\n\t\t\tchangeWatching('ignore');\r\n\t\t});\r\n\r\n\t\tfunction changeWatching(type) {\r\n\t\t\tsocket.emit('topics.changeWatching', { tid: tid, type: type }, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alert({\r\n\t\t\t\t\t\ttype: 'danger',\r\n\t\t\t\t\t\talert_id: 'topic_follow',\r\n\t\t\t\t\t\ttitle: '[[global:please_log_in]]',\r\n\t\t\t\t\t\tmessage: '[[topic:login_to_subscribe]]',\r\n\t\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tvar message = '';\r\n\t\t\t\tif (type === 'follow') {\r\n\t\t\t\t\tmessage = '[[topic:following_topic.message]]';\r\n\t\t\t\t} else if (type === 'unfollow') {\r\n\t\t\t\t\tmessage = '[[topic:not_following_topic.message]]';\r\n\t\t\t\t} else if (type === 'ignore') {\r\n\t\t\t\t\tmessage = '[[topic:ignoring_topic.message]]';\r\n\t\t\t\t}\r\n\t\t\t\tsetFollowState(type);\r\n\r\n\t\t\t\tapp.alert({\r\n\t\t\t\t\talert_id: 'follow_thread',\r\n\t\t\t\t\tmessage: message,\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(window).trigger('action:topics.changeWatching', { tid: tid, type: type });\r\n\t\t\t});\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction renderMenu() {\r\n\t\t$('.topic').on('show.bs.dropdown', '.thread-tools', function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar dropdownMenu = $this.find('.dropdown-menu');\r\n\t\t\tif (dropdownMenu.html()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tsocket.emit('topics.loadTopicTools', { tid: ajaxify.data.tid, cid: ajaxify.data.cid }, function (err, data) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tBenchpress.parse('partials/topic/topic-menu-list', data, function (html) {\r\n\t\t\t\t\ttranslator.translate(html, function (html) {\r\n\t\t\t\t\t\tdropdownMenu.html(html);\r\n\t\t\t\t\t\t$(window).trigger('action:topic.tools.load');\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction topicCommand(command, tid) {\r\n\t\ttranslator.translate('[[topic:thread_tools.' + command + '_confirm]]', function (msg) {\r\n\t\t\tbootbox.confirm(msg, function (confirm) {\r\n\t\t\t\tif (!confirm) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsocket.emit('topics.' + command, { tids: [tid], cid: ajaxify.data.cid }, function (err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tapp.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tThreadTools.setLockedState = function (data) {\r\n\t\tvar threadEl = components.get('topic');\r\n\t\tif (parseInt(data.tid, 10) !== parseInt(threadEl.attr('data-tid'), 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar isLocked = data.isLocked && !ajaxify.data.privileges.isAdminOrMod;\r\n\r\n\t\tcomponents.get('topic/lock').toggleClass('hidden', data.isLocked);\r\n\t\tcomponents.get('topic/unlock').toggleClass('hidden', !data.isLocked);\r\n\r\n\t\tvar hideReply = (data.isLocked || ajaxify.data.deleted) && !ajaxify.data.privileges.isAdminOrMod;\r\n\r\n\t\tcomponents.get('topic/reply/container').toggleClass('hidden', hideReply);\r\n\t\tcomponents.get('topic/reply/locked').toggleClass('hidden', ajaxify.data.privileges.isAdminOrMod || !data.isLocked || ajaxify.data.deleted);\r\n\r\n\t\tthreadEl.find('[component=\"post\"]:not(.deleted) [component=\"post/reply\"], [component=\"post\"]:not(.deleted) [component=\"post/quote\"]').toggleClass('hidden', hideReply);\r\n\t\tthreadEl.find('[component=\"post/edit\"], [component=\"post/delete\"]').toggleClass('hidden', isLocked);\r\n\r\n\t\tthreadEl.find('[component=\"post\"][data-uid=\"' + app.user.uid + '\"].deleted [component=\"post/tools\"]').toggleClass('hidden', isLocked);\r\n\r\n\t\t$('[component=\"post/header\"] i.fa-lock').toggleClass('hidden', !data.isLocked);\r\n\t\t$('[component=\"post/tools\"] .dropdown-menu').html('');\r\n\t\tajaxify.data.locked = data.isLocked;\r\n\t};\r\n\r\n\tThreadTools.setDeleteState = function (data) {\r\n\t\tvar threadEl = components.get('topic');\r\n\t\tif (parseInt(data.tid, 10) !== parseInt(threadEl.attr('data-tid'), 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcomponents.get('topic/delete').toggleClass('hidden', data.isDelete);\r\n\t\tcomponents.get('topic/restore').toggleClass('hidden', !data.isDelete);\r\n\t\tcomponents.get('topic/purge').toggleClass('hidden', !data.isDelete);\r\n\t\tcomponents.get('topic/deleted/message').toggleClass('hidden', !data.isDelete);\r\n\r\n\t\tvar hideReply = data.isDelete && !ajaxify.data.privileges.isAdminOrMod;\r\n\r\n\t\tcomponents.get('topic/reply/container').toggleClass('hidden', hideReply);\r\n\t\tcomponents.get('topic/reply/locked').toggleClass('hidden', ajaxify.data.privileges.isAdminOrMod || !ajaxify.data.locked || data.isDelete);\r\n\t\tthreadEl.find('[component=\"post\"]:not(.deleted) [component=\"post/reply\"], [component=\"post\"]:not(.deleted) [component=\"post/quote\"]').toggleClass('hidden', hideReply);\r\n\r\n\t\tthreadEl.toggleClass('deleted', data.isDelete);\r\n\t\tajaxify.data.deleted = data.isDelete;\r\n\t};\r\n\r\n\r\n\tThreadTools.setPinnedState = function (data) {\r\n\t\tvar threadEl = components.get('topic');\r\n\t\tif (parseInt(data.tid, 10) !== parseInt(threadEl.attr('data-tid'), 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcomponents.get('topic/pin').toggleClass('hidden', data.isPinned);\r\n\t\tcomponents.get('topic/unpin').toggleClass('hidden', !data.isPinned);\r\n\t\t$('[component=\"post/header\"] i.fa-thumb-tack').toggleClass('hidden', !data.isPinned);\r\n\t\tajaxify.data.pinned = data.isPinned;\r\n\t};\r\n\r\n\tfunction setFollowState(state) {\r\n\t\tvar menu = components.get('topic/following/menu');\r\n\t\tmenu.toggleClass('hidden', state !== 'follow');\r\n\t\tcomponents.get('topic/following/check').toggleClass('fa-check', state === 'follow');\r\n\r\n\t\tmenu = components.get('topic/not-following/menu');\r\n\t\tmenu.toggleClass('hidden', state !== 'unfollow');\r\n\t\tcomponents.get('topic/not-following/check').toggleClass('fa-check', state === 'unfollow');\r\n\r\n\t\tmenu = components.get('topic/ignoring/menu');\r\n\t\tmenu.toggleClass('hidden', state !== 'ignore');\r\n\t\tcomponents.get('topic/ignoring/check').toggleClass('fa-check', state === 'ignore');\r\n\t}\r\n\r\n\r\n\treturn ThreadTools;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/categories', ['components'], function (components) {\r\n\tvar\tcategories = {};\r\n\r\n\t$(window).on('action:ajaxify.start', function (ev, data) {\r\n\t\tif (ajaxify.currentPage !== data.url) {\r\n\t\t\tsocket.removeListener('event:new_post', categories.onNewPost);\r\n\t\t}\r\n\t});\r\n\r\n\tcategories.init = function () {\r\n\t\tapp.enterRoom('categories');\r\n\r\n\t\tsocket.removeListener('event:new_post', categories.onNewPost);\r\n\t\tsocket.on('event:new_post', categories.onNewPost);\r\n\r\n\t\t$('.category-header').tooltip({\r\n\t\t\tplacement: 'bottom',\r\n\t\t});\r\n\t};\r\n\r\n\tcategories.onNewPost = function (data) {\r\n\t\tif (data && data.posts && data.posts.length && data.posts[0].topic) {\r\n\t\t\trenderNewPost(data.posts[0].topic.cid, data.posts[0]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction renderNewPost(cid, post) {\r\n\t\tvar category = components.get('categories/category', 'cid', cid);\r\n\t\tvar numRecentReplies = category.attr('data-numRecentReplies');\r\n\t\tif (!numRecentReplies || !parseInt(numRecentReplies, 10)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar recentPosts = category.find('[component=\"category/posts\"]');\r\n\r\n\t\tapp.parseAndTranslate('partials/categories/lastpost', 'posts', { posts: [post] }, function (html) {\r\n\t\t\thtml.find('.post-content img:not(.not-responsive)').addClass('img-responsive');\r\n\t\t\thtml.hide();\r\n\t\t\tif (recentPosts.length === 0) {\r\n\t\t\t\thtml.appendTo(category);\r\n\t\t\t} else {\r\n\t\t\t\thtml.insertBefore(recentPosts.first());\r\n\t\t\t}\r\n\r\n\t\t\thtml.fadeIn();\r\n\r\n\t\t\tapp.createUserTooltips();\r\n\t\t\thtml.find('.timeago').timeago();\r\n\r\n\t\t\tif (category.find('[component=\"category/posts\"]').length > parseInt(numRecentReplies, 10)) {\r\n\t\t\t\trecentPosts.last().remove();\r\n\t\t\t}\r\n\r\n\t\t\t$(window).trigger('action:posts.loaded', { posts: [post] });\r\n\t\t});\r\n\t}\r\n\r\n\treturn categories;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('forum/category', [\r\n\t'forum/infinitescroll',\r\n\t'share',\r\n\t'navigator',\r\n\t'forum/category/tools',\r\n\t'forum/recent',\r\n\t'sort',\r\n\t'components',\r\n\t'translator',\r\n\t'topicSelect',\r\n\t'forum/pagination',\r\n\t'storage',\r\n], function (infinitescroll, share, navigator, categoryTools, recent, sort, components, translator, topicSelect, pagination, storage) {\r\n\tvar Category = {};\r\n\r\n\t$(window).on('action:ajaxify.start', function (ev, data) {\r\n\t\tif (!String(data.url).startsWith('category/')) {\r\n\t\t\tnavigator.disable();\r\n\r\n\t\t\tremoveListeners();\r\n\t\t}\r\n\t});\r\n\r\n\tfunction removeListeners() {\r\n\t\tcategoryTools.removeListeners();\r\n\t\trecent.removeListeners();\r\n\t}\r\n\r\n\tCategory.init = function () {\r\n\t\tvar\tcid = ajaxify.data.cid;\r\n\r\n\t\tapp.enterRoom('category_' + cid);\r\n\r\n\t\tshare.addShareHandlers(ajaxify.data.name);\r\n\r\n\t\tcategoryTools.init(cid);\r\n\t\trecent.watchForNewPosts();\r\n\r\n\t\tsort.handleSort('categoryTopicSort', 'user.setCategorySort', 'category/' + ajaxify.data.slug);\r\n\r\n\t\tenableInfiniteLoadingOrPagination();\r\n\r\n\t\t$('[component=\"category\"]').on('click', '[component=\"topic/header\"]', function () {\r\n\t\t\tvar clickedIndex = $(this).parents('[data-index]').attr('data-index');\r\n\t\t\t$('[component=\"category/topic\"]').each(function (index, el) {\r\n\t\t\t\tif ($(el).offset().top - $(window).scrollTop() > 0) {\r\n\t\t\t\t\tstorage.setItem('category:' + cid + ':bookmark', $(el).attr('data-index'));\r\n\t\t\t\t\tstorage.setItem('category:' + cid + ':bookmark:clicked', clickedIndex);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\thandleScrollToTopicIndex();\r\n\r\n\t\thandleIgnoreWatch(cid);\r\n\r\n\t\t$(window).trigger('action:topics.loaded', { topics: ajaxify.data.topics });\r\n\t\t$(window).trigger('action:category.loaded', { cid: ajaxify.data.cid });\r\n\t};\r\n\r\n\tfunction handleScrollToTopicIndex() {\r\n\t\tvar parts = window.location.pathname.split('/');\r\n\t\tvar topicIndex = parts[parts.length - 1];\r\n\t\tif (topicIndex && utils.isNumber(topicIndex)) {\r\n\t\t\ttopicIndex = Math.max(0, parseInt(topicIndex, 10) - 1);\r\n\t\t\tif (topicIndex && window.location.search.indexOf('page=') === -1) {\r\n\t\t\t\tnavigator.scrollToElement($('[component=\"category/topic\"][data-index=\"' + topicIndex + '\"]'), true, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleIgnoreWatch(cid) {\r\n\t\t$('[component=\"category/watching\"], [component=\"category/ignoring\"]').on('click', function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar command = $this.attr('component') === 'category/watching' ? 'watch' : 'ignore';\r\n\r\n\t\t\tsocket.emit('categories.' + command, cid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('[component=\"category/watching/menu\"]').toggleClass('hidden', command !== 'watch');\r\n\t\t\t\t$('[component=\"category/watching/check\"]').toggleClass('fa-check', command === 'watch');\r\n\r\n\t\t\t\t$('[component=\"category/ignoring/menu\"]').toggleClass('hidden', command !== 'ignore');\r\n\t\t\t\t$('[component=\"category/ignoring/check\"]').toggleClass('fa-check', command === 'ignore');\r\n\r\n\t\t\t\tapp.alertSuccess('[[category:' + command + '.message]]');\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tCategory.toTop = function () {\r\n\t\tnavigator.scrollTop(0);\r\n\t};\r\n\r\n\tCategory.toBottom = function () {\r\n\t\tsocket.emit('categories.getTopicCount', ajaxify.data.cid, function (err, count) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tnavigator.scrollBottom(count - 1);\r\n\t\t});\r\n\t};\r\n\r\n\tCategory.navigatorCallback = function (topIndex, bottomIndex) {\r\n\t\treturn bottomIndex;\r\n\t};\r\n\r\n\t$(window).on('action:popstate', function () {\r\n\t\tif (ajaxify.data.template.category && ajaxify.data.cid) {\r\n\t\t\tvar bookmarkIndex = storage.getItem('category:' + ajaxify.data.cid + ':bookmark');\r\n\t\t\tvar clickedIndex = storage.getItem('category:' + ajaxify.data.cid + ':bookmark:clicked');\r\n\r\n\t\t\tstorage.removeItem('category:' + ajaxify.data.cid + ':bookmark');\r\n\t\t\tstorage.removeItem('category:' + ajaxify.data.cid + ':bookmark:clicked');\r\n\r\n\t\t\tbookmarkIndex = Math.max(0, parseInt(bookmarkIndex, 10) || 0);\r\n\t\t\tclickedIndex = Math.max(0, parseInt(clickedIndex, 10) || 0);\r\n\t\t\tif (!parseInt(bookmarkIndex, 10)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (config.usePagination) {\r\n\t\t\t\tvar page = Math.ceil((parseInt(bookmarkIndex, 10) + 1) / config.topicsPerPage);\r\n\t\t\t\tif (parseInt(page, 10) !== ajaxify.data.pagination.currentPage) {\r\n\t\t\t\t\tpagination.loadPage(page, function () {\r\n\t\t\t\t\t\tCategory.scrollToTopic(bookmarkIndex, clickedIndex, 0);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tCategory.scrollToTopic(bookmarkIndex, clickedIndex, 0);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (bookmarkIndex === 0) {\r\n\t\t\t\t\tCategory.highlightTopic(clickedIndex);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('[component=\"category\"]').empty();\r\n\r\n\t\t\t\tloadTopicsAfter(Math.max(0, bookmarkIndex - 1) + 1, 1, function () {\r\n\t\t\t\t\t$(window).one('action:topics.loaded', function () {\r\n\t\t\t\t\t\tCategory.scrollToTopic(bookmarkIndex, clickedIndex, 0);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tCategory.highlightTopic = function (topicIndex) {\r\n\t\tvar highlight = components.get('category/topic', 'index', topicIndex);\r\n\r\n\t\tif (highlight.length && !highlight.hasClass('highlight')) {\r\n\t\t\thighlight.addClass('highlight');\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\thighlight.removeClass('highlight');\r\n\t\t\t}, 5000);\r\n\t\t}\r\n\t};\r\n\r\n\tCategory.scrollToTopic = function (bookmarkIndex, clickedIndex, duration, offset) {\r\n\t\tif (!bookmarkIndex) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!offset) {\r\n\t\t\toffset = 0;\r\n\t\t}\r\n\r\n\t\tvar scrollTo = components.get('category/topic', 'index', bookmarkIndex);\r\n\r\n\t\tif (scrollTo.length) {\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: (scrollTo.offset().top - offset) + 'px',\r\n\t\t\t}, duration !== undefined ? duration : 400, function () {\r\n\t\t\t\tCategory.highlightTopic(clickedIndex);\r\n\t\t\t\tnavigator.update();\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tfunction enableInfiniteLoadingOrPagination() {\r\n\t\tif (!config.usePagination) {\r\n\t\t\tnavigator.init('[component=\"category/topic\"]', ajaxify.data.topic_count, Category.toTop, Category.toBottom, Category.navigatorCallback);\r\n\t\t\tinfinitescroll.init($('[component=\"category\"]'), Category.loadMoreTopics);\r\n\t\t} else {\r\n\t\t\tnavigator.disable();\r\n\t\t}\r\n\t}\r\n\r\n\tCategory.loadMoreTopics = function (direction) {\r\n\t\tif (!$('[component=\"category\"]').length || !$('[component=\"category\"]').children().length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar topics = $('[component=\"category/topic\"]');\r\n\t\tvar afterEl = direction > 0 ? topics.last() : topics.first();\r\n\t\tvar after = (parseInt(afterEl.attr('data-index'), 10) || 0) + (direction > 0 ? 1 : 0);\r\n\r\n\t\tloadTopicsAfter(after, direction);\r\n\t};\r\n\r\n\tfunction loadTopicsAfter(after, direction, callback) {\r\n\t\tcallback = callback || function () {};\r\n\t\tif (!utils.isNumber(after) || (after === 0 && components.get('category/topic', 'index', 0).length)) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\t$(window).trigger('action:category.loading');\r\n\t\tvar params = utils.params();\r\n\t\tinfinitescroll.loadMore('categories.loadMore', {\r\n\t\t\tcid: ajaxify.data.cid,\r\n\t\t\tafter: after,\r\n\t\t\tdirection: direction,\r\n\t\t\tquery: params,\r\n\t\t\tcategoryTopicSort: config.categoryTopicSort,\r\n\t\t}, function (data, done) {\r\n\t\t\tif (data.topics && data.topics.length) {\r\n\t\t\t\tCategory.onTopicsLoaded(data, direction, done);\r\n\t\t\t} else {\r\n\t\t\t\tdone();\r\n\t\t\t}\r\n\r\n\t\t\t$(window).trigger('action:category.loaded');\r\n\t\t\tcallback();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tCategory.onTopicsLoaded = function (data, direction, callback) {\r\n\t\tif (!data || !data.topics.length) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tfunction removeAlreadyAddedTopics(topics) {\r\n\t\t\treturn topics.filter(function (topic) {\r\n\t\t\t\treturn components.get('category/topic', 'tid', topic.tid).length === 0;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdata.topics = removeAlreadyAddedTopics(data.topics);\r\n\t\tif (!data.topics.length) {\r\n\t\t\treturn callback();\r\n\t\t}\r\n\r\n\t\tdata.showSelect = data.privileges.editable;\r\n\r\n\t\tvar after;\r\n\t\tvar before;\r\n\t\tvar topics = $('[component=\"category/topic\"]');\r\n\r\n\t\tif (direction > 0 && topics.length) {\r\n\t\t\tafter = topics.last();\r\n\t\t} else if (direction < 0 && topics.length) {\r\n\t\t\tbefore = topics.first();\r\n\t\t}\r\n\r\n\t\tapp.parseAndTranslate('category', 'topics', data, function (html) {\r\n\t\t\t$('[component=\"category\"]').removeClass('hidden');\r\n\t\t\t$('.category-sidebar').removeClass('hidden');\r\n\r\n\t\t\t$('#category-no-topics').remove();\r\n\r\n\t\t\tif (after) {\r\n\t\t\t\thtml.insertAfter(after);\r\n\t\t\t} else if (before) {\r\n\t\t\t\tvar height = $(document).height();\r\n\t\t\t\tvar scrollTop = $(window).scrollTop();\r\n\r\n\t\t\t\thtml.insertBefore(before);\r\n\r\n\t\t\t\t$(window).scrollTop(scrollTop + ($(document).height() - height));\r\n\t\t\t} else {\r\n\t\t\t\t$('[component=\"category\"]').append(html);\r\n\t\t\t}\r\n\r\n\t\t\tif (!topicSelect.getSelectedTids().length) {\r\n\t\t\t\tinfinitescroll.removeExtra($('[component=\"category/topic\"]'), direction, config.topicsPerPage * 3);\r\n\t\t\t}\r\n\r\n\t\t\thtml.find('.timeago').timeago();\r\n\t\t\tapp.createUserTooltips();\r\n\t\t\tutils.makeNumbersHumanReadable(html.find('.human-readable-number'));\r\n\r\n\t\t\t$(window).trigger('action:topics.loaded', { topics: data.topics });\r\n\r\n\t\t\tcallback();\r\n\t\t});\r\n\t};\r\n\r\n\treturn Category;\r\n});\r\n","\r\n'use strict';\r\n\r\n\r\ndefine('forum/category/tools', [\r\n\t'forum/topic/move',\r\n\t'forum/topic/merge',\r\n\t'topicSelect',\r\n\t'components',\r\n\t'translator',\r\n], function (move, merge, topicSelect, components, translator) {\r\n\tvar CategoryTools = {};\r\n\r\n\tCategoryTools.init = function (cid) {\r\n\t\tCategoryTools.cid = cid;\r\n\r\n\t\ttopicSelect.init(updateDropdownOptions);\r\n\r\n\t\thandlePinnedTopicSort();\r\n\r\n\t\tcomponents.get('topic/delete').on('click', function () {\r\n\t\t\tcategoryCommand('delete', topicSelect.getSelectedTids());\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/restore').on('click', function () {\r\n\t\t\tcategoryCommand('restore', topicSelect.getSelectedTids());\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/purge').on('click', function () {\r\n\t\t\tcategoryCommand('purge', topicSelect.getSelectedTids());\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/lock').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.lock', { tids: tids, cid: CategoryTools.cid }, onCommandComplete);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/unlock').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.unlock', { tids: tids, cid: CategoryTools.cid }, onCommandComplete);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/pin').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.pin', { tids: tids, cid: CategoryTools.cid }, onCommandComplete);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/unpin').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.unpin', { tids: tids, cid: CategoryTools.cid }, onCommandComplete);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/mark-unread-for-all').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t\t}\r\n\t\t\tsocket.emit('topics.markAsUnreadForAll', tids, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tapp.alertSuccess('[[topic:markAsUnreadForAll.success]]');\r\n\t\t\t\ttids.forEach(function (tid) {\r\n\t\t\t\t\t$('[component=\"category/topic\"][data-tid=\"' + tid + '\"]').addClass('unread');\r\n\t\t\t\t});\r\n\t\t\t\tonCommandComplete();\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/move').on('click', function () {\r\n\t\t\tvar tids = topicSelect.getSelectedTids();\r\n\r\n\t\t\tif (!tids.length) {\r\n\t\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t\t}\r\n\t\t\tmove.init(tids, cid, onCommandComplete);\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tcomponents.get('topic/move-all').on('click', function () {\r\n\t\t\tmove.init(null, cid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tajaxify.refresh();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tmerge.init();\r\n\r\n\t\tCategoryTools.removeListeners();\r\n\t\tsocket.on('event:topic_deleted', setDeleteState);\r\n\t\tsocket.on('event:topic_restored', setDeleteState);\r\n\t\tsocket.on('event:topic_purged', onTopicPurged);\r\n\t\tsocket.on('event:topic_locked', setLockedState);\r\n\t\tsocket.on('event:topic_unlocked', setLockedState);\r\n\t\tsocket.on('event:topic_pinned', setPinnedState);\r\n\t\tsocket.on('event:topic_unpinned', setPinnedState);\r\n\t\tsocket.on('event:topic_moved', onTopicMoved);\r\n\t};\r\n\r\n\tfunction categoryCommand(command, tids) {\r\n\t\tif (!tids.length) {\r\n\t\t\treturn app.alertError('[[error:no-topics-selected]]');\r\n\t\t}\r\n\r\n\t\ttranslator.translate('[[topic:thread_tools.' + command + '_confirm]]', function (msg) {\r\n\t\t\tbootbox.confirm(msg, function (confirm) {\r\n\t\t\t\tif (!confirm) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsocket.emit('topics.' + command, { tids: tids, cid: CategoryTools.cid }, onDeletePurgeComplete);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tCategoryTools.removeListeners = function () {\r\n\t\tsocket.removeListener('event:topic_deleted', setDeleteState);\r\n\t\tsocket.removeListener('event:topic_restored', setDeleteState);\r\n\t\tsocket.removeListener('event:topic_purged', onTopicPurged);\r\n\t\tsocket.removeListener('event:topic_locked', setLockedState);\r\n\t\tsocket.removeListener('event:topic_unlocked', setLockedState);\r\n\t\tsocket.removeListener('event:topic_pinned', setPinnedState);\r\n\t\tsocket.removeListener('event:topic_unpinned', setPinnedState);\r\n\t\tsocket.removeListener('event:topic_moved', onTopicMoved);\r\n\t};\r\n\r\n\tfunction closeDropDown() {\r\n\t\t$('.thread-tools.open').find('.dropdown-toggle').trigger('click');\r\n\t}\r\n\r\n\tfunction onCommandComplete(err) {\r\n\t\tif (err) {\r\n\t\t\treturn app.alertError(err.message);\r\n\t\t}\r\n\t\tcloseDropDown();\r\n\t\ttopicSelect.unselectAll();\r\n\t}\r\n\r\n\tfunction onDeletePurgeComplete(err) {\r\n\t\tif (err) {\r\n\t\t\treturn app.alertError(err.message);\r\n\t\t}\r\n\t\tcloseDropDown();\r\n\t\tupdateDropdownOptions();\r\n\t}\r\n\r\n\tfunction updateDropdownOptions() {\r\n\t\tvar tids = topicSelect.getSelectedTids();\r\n\t\tvar isAnyDeleted = isAny(isTopicDeleted, tids);\r\n\t\tvar areAllDeleted = areAll(isTopicDeleted, tids);\r\n\t\tvar isAnyPinned = isAny(isTopicPinned, tids);\r\n\t\tvar isAnyLocked = isAny(isTopicLocked, tids);\r\n\r\n\t\tcomponents.get('topic/delete').toggleClass('hidden', isAnyDeleted);\r\n\t\tcomponents.get('topic/restore').toggleClass('hidden', !isAnyDeleted);\r\n\t\tcomponents.get('topic/purge').toggleClass('hidden', !areAllDeleted);\r\n\r\n\t\tcomponents.get('topic/lock').toggleClass('hidden', isAnyLocked);\r\n\t\tcomponents.get('topic/unlock').toggleClass('hidden', !isAnyLocked);\r\n\r\n\t\tcomponents.get('topic/pin').toggleClass('hidden', isAnyPinned);\r\n\t\tcomponents.get('topic/unpin').toggleClass('hidden', !isAnyPinned);\r\n\t}\r\n\r\n\tfunction isAny(method, tids) {\r\n\t\tfor (var i = 0; i < tids.length; i += 1) {\r\n\t\t\tif (method(tids[i])) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction areAll(method, tids) {\r\n\t\tfor (var i = 0; i < tids.length; i += 1) {\r\n\t\t\tif (!method(tids[i])) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction isTopicDeleted(tid) {\r\n\t\treturn getTopicEl(tid).hasClass('deleted');\r\n\t}\r\n\r\n\tfunction isTopicLocked(tid) {\r\n\t\treturn getTopicEl(tid).hasClass('locked');\r\n\t}\r\n\r\n\tfunction isTopicPinned(tid) {\r\n\t\treturn getTopicEl(tid).hasClass('pinned');\r\n\t}\r\n\r\n\tfunction getTopicEl(tid) {\r\n\t\treturn components.get('category/topic', 'tid', tid);\r\n\t}\r\n\r\n\tfunction setDeleteState(data) {\r\n\t\tvar topic = getTopicEl(data.tid);\r\n\t\ttopic.toggleClass('deleted', data.isDeleted);\r\n\t\ttopic.find('[component=\"topic/locked\"]').toggleClass('hide', !data.isDeleted);\r\n\t}\r\n\r\n\tfunction setPinnedState(data) {\r\n\t\tvar topic = getTopicEl(data.tid);\r\n\t\ttopic.toggleClass('pinned', data.isPinned);\r\n\t\ttopic.find('[component=\"topic/pinned\"]').toggleClass('hide', !data.isPinned);\r\n\t\tajaxify.refresh();\r\n\t}\r\n\r\n\tfunction setLockedState(data) {\r\n\t\tvar topic = getTopicEl(data.tid);\r\n\t\ttopic.toggleClass('locked', data.isLocked);\r\n\t\ttopic.find('[component=\"topic/locked\"]').toggleClass('hide', !data.isLocked);\r\n\t}\r\n\r\n\tfunction onTopicMoved(data) {\r\n\t\tgetTopicEl(data.tid).remove();\r\n\t}\r\n\r\n\tfunction onTopicPurged(data) {\r\n\t\tgetTopicEl(data.tid).remove();\r\n\t}\r\n\r\n\tfunction handlePinnedTopicSort() {\r\n\t\tvar env = utils.findBootstrapEnvironment();\r\n\t\tif (!ajaxify.data.privileges.isAdminOrMod || env === 'xs' || env === 'sm') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tapp.loadJQueryUI(function () {\r\n\t\t\t$('[component=\"category\"]').sortable({\r\n\t\t\t\titems: '[component=\"category/topic\"].pinned',\r\n\t\t\t\tupdate: function () {\r\n\t\t\t\t\tvar data = [];\r\n\r\n\t\t\t\t\tvar pinnedTopics = $('[component=\"category/topic\"].pinned');\r\n\t\t\t\t\tpinnedTopics.each(function (index, element) {\r\n\t\t\t\t\t\tdata.push({ tid: $(element).attr('data-tid'), order: pinnedTopics.length - index - 1 });\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tsocket.emit('topics.orderPinnedTopics', data, function (err) {\r\n\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\treturn CategoryTools;\r\n});\r\n","'use strict';\r\n\r\n(function (factory) {\r\n\tfunction loadClient(language, namespace) {\r\n\t\treturn Promise.resolve(jQuery.getJSON(config.relative_path + '/assets/language/' + language + '/' + namespace + '.json?' + config['cache-buster']));\r\n\t}\r\n\tvar warn = function () { console.warn.apply(console, arguments); };\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD. Register as a named module\r\n\t\tdefine('translator', [], function () {\r\n\t\t\treturn factory(utils, loadClient, warn);\r\n\t\t});\r\n\t} else if (typeof module === 'object' && module.exports) {\r\n\t\t// Node\r\n\t\t(function () {\r\n\t\t\tvar languages = require('../../../src/languages');\r\n\r\n\t\t\tif (global.env === 'development') {\r\n\t\t\t\tvar winston = require('winston');\r\n\t\t\t\twarn = function (a) {\r\n\t\t\t\t\twinston.warn(a);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction loadServer(language, namespace) {\r\n\t\t\t\treturn new Promise(function (resolve, reject) {\r\n\t\t\t\t\tlanguages.get(language, namespace, function (err, data) {\r\n\t\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve(data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tmodule.exports = factory(require('../utils'), loadServer, warn);\r\n\t\t}());\r\n\t}\r\n}(function (utils, load, warn) {\r\n\tvar assign = Object.assign || jQuery.extend;\r\n\r\n\tfunction escapeHTML(str) {\r\n\t\treturn utils.escapeHTML(utils.decodeHTMLEntities(\r\n\t\t\tString(str)\r\n\t\t\t\t.replace(/[\\s\\xa0]+/g, ' ')\r\n\t\t\t\t.replace(/^\\s+|\\s+$/g, '')\r\n\t\t));\r\n\t}\r\n\r\n\tvar Translator = (function () {\r\n\t\t/**\r\n\t\t * Construct a new Translator object\r\n\t\t * @param {string} language - Language code for this translator instance\r\n\t\t * @exports translator.Translator\r\n\t\t */\r\n\t\tfunction Translator(language) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tif (!language) {\r\n\t\t\t\tthrow new TypeError('Parameter `language` must be a language string. Received ' + language + (language === '' ? '(empty string)' : ''));\r\n\t\t\t}\r\n\r\n\t\t\tself.modules = Object.keys(Translator.moduleFactories).map(function (namespace) {\r\n\t\t\t\tvar factory = Translator.moduleFactories[namespace];\r\n\t\t\t\treturn [namespace, factory(language)];\r\n\t\t\t}).reduce(function (prev, elem) {\r\n\t\t\t\tvar namespace = elem[0];\r\n\t\t\t\tvar module = elem[1];\r\n\t\t\t\tprev[namespace] = module;\r\n\r\n\t\t\t\treturn prev;\r\n\t\t\t}, {});\r\n\r\n\t\t\tself.lang = language;\r\n\t\t\tself.translations = {};\r\n\t\t}\r\n\r\n\t\tTranslator.prototype.load = load;\r\n\r\n\t\t/**\r\n\t\t * Parse the translation instructions into the language of the Translator instance\r\n\t\t * @param {string} str - Source string\r\n\t\t * @returns {Promise<string>}\r\n\t\t */\r\n\t\tTranslator.prototype.translate = function translate(str) {\r\n\t\t\t// regex for valid text in namespace / key\r\n\t\t\tvar validText = 'a-zA-Z0-9\\\\-_.\\\\/';\r\n\t\t\tvar validTextRegex = new RegExp('[' + validText + ']');\r\n\t\t\tvar invalidTextRegex = new RegExp('[^' + validText + '\\\\]]');\r\n\r\n\t\t\t// current cursor position\r\n\t\t\tvar cursor = 0;\r\n\t\t\t// last break of the input string\r\n\t\t\tvar lastBreak = 0;\r\n\t\t\t// length of the input string\r\n\t\t\tvar len = str.length;\r\n\t\t\t// array to hold the promises for the translations\r\n\t\t\t// and the strings of untranslated text in between\r\n\t\t\tvar toTranslate = [];\r\n\r\n\t\t\t// to store the state of if we're currently in a top-level token for later\r\n\t\t\tvar inToken = false;\r\n\r\n\t\t\t// split a translator string into an array of tokens\r\n\t\t\t// but don't split by commas inside other translator strings\r\n\t\t\tfunction split(text) {\r\n\t\t\t\tvar len = text.length;\r\n\t\t\t\tvar arr = [];\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\tvar brk = 0;\r\n\t\t\t\tvar level = 0;\r\n\r\n\t\t\t\twhile (i + 2 <= len) {\r\n\t\t\t\t\tif (text[i] === '[' && text[i + 1] === '[') {\r\n\t\t\t\t\t\tlevel += 1;\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t} else if (text[i] === ']' && text[i + 1] === ']') {\r\n\t\t\t\t\t\tlevel -= 1;\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t} else if (level === 0 && text[i] === ',' && text[i - 1] !== '\\\\') {\r\n\t\t\t\t\t\tarr.push(text.slice(brk, i).trim());\r\n\t\t\t\t\t\ti += 1;\r\n\t\t\t\t\t\tbrk = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti += 1;\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(text.slice(brk, i + 1).trim());\r\n\t\t\t\treturn arr;\r\n\t\t\t}\r\n\r\n\t\t\t// move to the first [[\r\n\t\t\tcursor = str.indexOf('[[', cursor);\r\n\r\n\t\t\t// the loooop, we'll go to where the cursor\r\n\t\t\t// is equal to the length of the string since\r\n\t\t\t// slice doesn't include the ending index\r\n\t\t\twhile (cursor + 2 <= len && cursor !== -1) {\r\n\t\t\t\t// split the string from the last break\r\n\t\t\t\t// to the character before the cursor\r\n\t\t\t\t// add that to the result array\r\n\t\t\t\ttoTranslate.push(str.slice(lastBreak, cursor));\r\n\t\t\t\t// set the cursor position past the beginning\r\n\t\t\t\t// brackets of the translation string\r\n\t\t\t\tcursor += 2;\r\n\t\t\t\t// set the last break to our current\r\n\t\t\t\t// spot since we just broke the string\r\n\t\t\t\tlastBreak = cursor;\r\n\t\t\t\t// we're in a token now\r\n\t\t\t\tinToken = true;\r\n\r\n\t\t\t\t// the current level of nesting of the translation strings\r\n\t\t\t\tvar level = 0;\r\n\t\t\t\tvar char0;\r\n\t\t\t\tvar char1;\r\n\t\t\t\t// validating the current string is actually a translation\r\n\t\t\t\tvar textBeforeColonFound = false;\r\n\t\t\t\tvar colonFound = false;\r\n\t\t\t\tvar textAfterColonFound = false;\r\n\t\t\t\tvar commaAfterNameFound = false;\r\n\r\n\t\t\t\twhile (cursor + 2 <= len) {\r\n\t\t\t\t\tchar0 = str[cursor];\r\n\t\t\t\t\tchar1 = str[cursor + 1];\r\n\t\t\t\t\t// found some text after the double bracket,\r\n\t\t\t\t\t// so this is probably a translation string\r\n\t\t\t\t\tif (!textBeforeColonFound && validTextRegex.test(char0)) {\r\n\t\t\t\t\t\ttextBeforeColonFound = true;\r\n\t\t\t\t\t\tcursor += 1;\r\n\t\t\t\t\t// found a colon, so this is probably a translation string\r\n\t\t\t\t\t} else if (textBeforeColonFound && !colonFound && char0 === ':') {\r\n\t\t\t\t\t\tcolonFound = true;\r\n\t\t\t\t\t\tcursor += 1;\r\n\t\t\t\t\t// found some text after the colon,\r\n\t\t\t\t\t// so this is probably a translation string\r\n\t\t\t\t\t} else if (colonFound && !textAfterColonFound && validTextRegex.test(char0)) {\r\n\t\t\t\t\t\ttextAfterColonFound = true;\r\n\t\t\t\t\t\tcursor += 1;\r\n\t\t\t\t\t} else if (textAfterColonFound && !commaAfterNameFound && char0 === ',') {\r\n\t\t\t\t\t\tcommaAfterNameFound = true;\r\n\t\t\t\t\t\tcursor += 1;\r\n\t\t\t\t\t// a space or comma was found before the name\r\n\t\t\t\t\t// this isn't a translation string, so back out\r\n\t\t\t\t\t} else if (!(textBeforeColonFound && colonFound && textAfterColonFound && commaAfterNameFound) &&\r\n\t\t\t\t\t\t\tinvalidTextRegex.test(char0)) {\r\n\t\t\t\t\t\tcursor += 1;\r\n\t\t\t\t\t\tlastBreak -= 2;\r\n\t\t\t\t\t\t// no longer in a token\r\n\t\t\t\t\t\tinToken = false;\r\n\t\t\t\t\t\tif (level > 0) {\r\n\t\t\t\t\t\t\tlevel -= 1;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t// if we're at the beginning of another translation string,\r\n\t\t\t\t\t// we're nested, so add to our level\r\n\t\t\t\t\t} else if (char0 === '[' && char1 === '[') {\r\n\t\t\t\t\t\tlevel += 1;\r\n\t\t\t\t\t\tcursor += 2;\r\n\t\t\t\t\t// if we're at the end of a translation string\r\n\t\t\t\t\t} else if (char0 === ']' && char1 === ']') {\r\n\t\t\t\t\t\t// if we're at the base level, then this is the end\r\n\t\t\t\t\t\tif (level === 0) {\r\n\t\t\t\t\t\t\t// so grab the name and args\r\n\t\t\t\t\t\t\tvar currentSlice = str.slice(lastBreak, cursor);\r\n\t\t\t\t\t\t\tvar result = split(currentSlice);\r\n\t\t\t\t\t\t\tvar name = result[0];\r\n\t\t\t\t\t\t\tvar args = result.slice(1);\r\n\r\n\t\t\t\t\t\t\t// make a backup based on the raw string of the token\r\n\t\t\t\t\t\t\t// if there are arguments to the token\r\n\t\t\t\t\t\t\tvar backup = '';\r\n\t\t\t\t\t\t\tif (args && args.length) {\r\n\t\t\t\t\t\t\t\tbackup = this.translate(currentSlice);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// add the translation promise to the array\r\n\t\t\t\t\t\t\ttoTranslate.push(this.translateKey(name, args, backup));\r\n\t\t\t\t\t\t\t// skip past the ending brackets\r\n\t\t\t\t\t\t\tcursor += 2;\r\n\t\t\t\t\t\t\t// set this as our last break\r\n\t\t\t\t\t\t\tlastBreak = cursor;\r\n\t\t\t\t\t\t\t// and we're no longer in a translation string,\r\n\t\t\t\t\t\t\t// so continue with the main loop\r\n\t\t\t\t\t\t\tinToken = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// otherwise we lower the level\r\n\t\t\t\t\t\tlevel -= 1;\r\n\t\t\t\t\t\t// and skip past the ending brackets\r\n\t\t\t\t\t\tcursor += 2;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// otherwise just move to the next character\r\n\t\t\t\t\t\tcursor += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// skip to the next [[\r\n\t\t\t\tcursor = str.indexOf('[[', cursor);\r\n\t\t\t}\r\n\r\n\t\t\t// ending string of source\r\n\t\t\tvar last = str.slice(lastBreak);\r\n\r\n\t\t\t// if we were mid-token, treat it as invalid\r\n\t\t\tif (inToken) {\r\n\t\t\t\tlast = this.translate(last);\r\n\t\t\t}\r\n\r\n\t\t\t// add the remaining text after the last translation string\r\n\t\t\ttoTranslate.push(last);\r\n\r\n\t\t\t// and return a promise for the concatenated translated string\r\n\t\t\treturn Promise.all(toTranslate).then(function (translated) {\r\n\t\t\t\treturn translated.join('');\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Translates a specific key and array of arguments\r\n\t\t * @param {string} name - Translation key (ex. 'global:home')\r\n\t\t * @param {string[]} args - Arguments for `%1`, `%2`, etc\r\n\t\t * @param {string|Promise<string>} backup - Text to use in case the key can't be found\r\n\t\t * @returns {Promise<string>}\r\n\t\t */\r\n\t\tTranslator.prototype.translateKey = function translateKey(name, args, backup) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tvar result = name.split(':', 2);\r\n\t\t\tvar namespace = result[0];\r\n\t\t\tvar key = result[1];\r\n\r\n\t\t\tif (self.modules[namespace]) {\r\n\t\t\t\treturn Promise.resolve(self.modules[namespace](key, args));\r\n\t\t\t}\r\n\r\n\t\t\tif (namespace && !key) {\r\n\t\t\t\twarn('Missing key in translation token \"' + name + '\"');\r\n\t\t\t\treturn Promise.resolve('[[' + namespace + ']]');\r\n\t\t\t}\r\n\r\n\t\t\tvar translation = this.getTranslation(namespace, key);\r\n\t\t\treturn translation.then(function (translated) {\r\n\t\t\t\t// check if the translation is missing first\r\n\t\t\t\tif (!translated) {\r\n\t\t\t\t\twarn('Missing translation \"' + name + '\"');\r\n\t\t\t\t\treturn backup || key;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar argsToTranslate = args.map(function (arg) {\r\n\t\t\t\t\treturn self.translate(escapeHTML(arg));\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn Promise.all(argsToTranslate).then(function (translatedArgs) {\r\n\t\t\t\t\tvar out = translated;\r\n\t\t\t\t\ttranslatedArgs.forEach(function (arg, i) {\r\n\t\t\t\t\t\tvar escaped = arg.replace(/%(?=\\d)/g, '&#37;').replace(/\\\\,/g, '&#44;');\r\n\t\t\t\t\t\tout = out.replace(new RegExp('%' + (i + 1), 'g'), escaped);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn out;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Load translation file (or use a cached version), and optionally return the translation of a certain key\r\n\t\t * @param {string} namespace - The file name of the translation namespace\r\n\t\t * @param {string} [key] - The key of the specific translation to getJSON\r\n\t\t * @returns {Promise<{ [key: string]: string } | string>}\r\n\t\t */\r\n\t\tTranslator.prototype.getTranslation = function getTranslation(namespace, key) {\r\n\t\t\tvar translation;\r\n\t\t\tif (!namespace) {\r\n\t\t\t\twarn('[translator] Parameter `namespace` is ' + namespace + (namespace === '' ? '(empty string)' : ''));\r\n\t\t\t\ttranslation = Promise.resolve({});\r\n\t\t\t} else {\r\n\t\t\t\tthis.translations[namespace] = this.translations[namespace] || this.load(this.lang, namespace).catch(function () { return {}; });\r\n\t\t\t\ttranslation = this.translations[namespace];\r\n\t\t\t}\r\n\r\n\t\t\tif (key) {\r\n\t\t\t\treturn translation.then(function (x) {\r\n\t\t\t\t\treturn x[key];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn translation;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * @param {Node} node\r\n\t\t * @returns {Node[]}\r\n\t\t */\r\n\t\tfunction descendantTextNodes(node) {\r\n\t\t\tvar textNodes = [];\r\n\r\n\t\t\tfunction helper(node) {\r\n\t\t\t\tif (node.nodeType === 3) {\r\n\t\t\t\t\ttextNodes.push(node);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0, c = node.childNodes, l = c.length; i < l; i += 1) {\r\n\t\t\t\t\t\thelper(c[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\thelper(node);\r\n\t\t\treturn textNodes;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Recursively translate a DOM element in place\r\n\t\t * @param {Element} element - Root element to translate\r\n\t\t * @param {string[]} [attributes] - Array of node attributes to translate\r\n\t\t * @returns {Promise<void>}\r\n\t\t */\r\n\t\tTranslator.prototype.translateInPlace = function translateInPlace(element, attributes) {\r\n\t\t\tattributes = attributes || ['placeholder', 'title'];\r\n\r\n\t\t\tvar nodes = descendantTextNodes(element);\r\n\t\t\tvar text = nodes.map(function (node) {\r\n\t\t\t\treturn node.nodeValue;\r\n\t\t\t}).join('  ||  ');\r\n\r\n\t\t\tvar attrNodes = attributes.reduce(function (prev, attr) {\r\n\t\t\t\tvar tuples = Array.prototype.map.call(element.querySelectorAll('[' + attr + '*=\"[[\"]'), function (el) {\r\n\t\t\t\t\treturn [attr, el];\r\n\t\t\t\t});\r\n\t\t\t\treturn prev.concat(tuples);\r\n\t\t\t}, []);\r\n\t\t\tvar attrText = attrNodes.map(function (node) {\r\n\t\t\t\treturn node[1].getAttribute(node[0]);\r\n\t\t\t}).join('  ||  ');\r\n\r\n\t\t\treturn Promise.all([\r\n\t\t\t\tthis.translate(text),\r\n\t\t\t\tthis.translate(attrText),\r\n\t\t\t]).then(function (ref) {\r\n\t\t\t\tvar translated = ref[0];\r\n\t\t\t\tvar translatedAttrs = ref[1];\r\n\t\t\t\tif (translated) {\r\n\t\t\t\t\ttranslated.split('  ||  ').forEach(function (html, i) {\r\n\t\t\t\t\t\t$(nodes[i]).replaceWith(html);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (translatedAttrs) {\r\n\t\t\t\t\ttranslatedAttrs.split('  ||  ').forEach(function (text, i) {\r\n\t\t\t\t\t\tattrNodes[i][1].setAttribute(attrNodes[i][0], text);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Get the language of the current environment, falling back to defaults\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tTranslator.getLanguage = function getLanguage() {\r\n\t\t\tvar lang;\r\n\r\n\t\t\tif (typeof window === 'object' && window.config && window.utils) {\r\n\t\t\t\tlang = utils.params().lang || config.userLang || config.defaultLang || 'en-GB';\r\n\t\t\t} else {\r\n\t\t\t\tvar meta = require('../../../src/meta');\r\n\t\t\t\tlang = meta.config.defaultLang || 'en-GB';\r\n\t\t\t}\r\n\r\n\t\t\treturn lang;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Create and cache a new Translator instance, or return a cached one\r\n\t\t * @param {string} [language] - ('en-GB') Language string\r\n\t\t * @returns {Translator}\r\n\t\t */\r\n\t\tTranslator.create = function create(language) {\r\n\t\t\tif (!language) {\r\n\t\t\t\tlanguage = Translator.getLanguage();\r\n\t\t\t}\r\n\r\n\t\t\tTranslator.cache[language] = Translator.cache[language] || new Translator(language);\r\n\r\n\t\t\treturn Translator.cache[language];\r\n\t\t};\r\n\r\n\t\tTranslator.cache = {};\r\n\r\n\t\t/**\r\n\t\t * Register a custom module to handle translations\r\n\t\t * @param {string} namespace - Namespace to handle translation for\r\n\t\t * @param {Function} factory - Function to return the translation function for this namespace\r\n\t\t */\r\n\t\tTranslator.registerModule = function registerModule(namespace, factory) {\r\n\t\t\tTranslator.moduleFactories[namespace] = factory;\r\n\r\n\t\t\tObject.keys(Translator.cache).forEach(function (key) {\r\n\t\t\t\tvar translator = Translator.cache[key];\r\n\t\t\t\ttranslator.modules[namespace] = factory(translator.lang);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tTranslator.moduleFactories = {};\r\n\r\n\t\t/**\r\n\t\t * Remove the translator patterns from text\r\n\t\t * @param {string} text\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tTranslator.removePatterns = function removePatterns(text) {\r\n\t\t\tvar len = text.length;\r\n\t\t\tvar cursor = 0;\r\n\t\t\tvar lastBreak = 0;\r\n\t\t\tvar level = 0;\r\n\t\t\tvar out = '';\r\n\t\t\tvar sub;\r\n\r\n\t\t\twhile (cursor < len) {\r\n\t\t\t\tsub = text.slice(cursor, cursor + 2);\r\n\t\t\t\tif (sub === '[[') {\r\n\t\t\t\t\tif (level === 0) {\r\n\t\t\t\t\t\tout += text.slice(lastBreak, cursor);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlevel += 1;\r\n\t\t\t\t\tcursor += 2;\r\n\t\t\t\t} else if (sub === ']]') {\r\n\t\t\t\t\tlevel -= 1;\r\n\t\t\t\t\tcursor += 2;\r\n\t\t\t\t\tif (level === 0) {\r\n\t\t\t\t\t\tlastBreak = cursor;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcursor += 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tout += text.slice(lastBreak, cursor);\r\n\t\t\treturn out;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Escape translator patterns in text\r\n\t\t * @param {string} text\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tTranslator.escape = function escape(text) {\r\n\t\t\treturn typeof text === 'string' ? text.replace(/\\[\\[/g, '&lsqb;&lsqb;').replace(/\\]\\]/g, '&rsqb;&rsqb;') : text;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Unescape escaped translator patterns in text\r\n\t\t * @param {string} text\r\n\t\t * @returns {string}\r\n\t\t */\r\n\t\tTranslator.unescape = function unescape(text) {\r\n\t\t\treturn typeof text === 'string' ? text.replace(/&lsqb;|\\\\\\[/g, '[').replace(/&rsqb;|\\\\\\]/g, ']') : text;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Construct a translator pattern\r\n\t\t * @param {string} name - Translation name\r\n\t\t * @param {...string} arg - Optional argument for the pattern\r\n\t\t */\r\n\t\tTranslator.compile = function compile() {\r\n\t\t\tvar args = Array.prototype.slice.call(arguments, 0).map(function (text) {\r\n\t\t\t\t// escape commas and percent signs in arguments\r\n\t\t\t\treturn String(text).replace(/%/g, '&#37;').replace(/,/g, '&#44;');\r\n\t\t\t});\r\n\r\n\t\t\treturn '[[' + args.join(', ') + ']]';\r\n\t\t};\r\n\r\n\t\treturn Translator;\r\n\t}());\r\n\r\n\t/**\r\n\t * @exports translator\r\n\t */\r\n\tvar adaptor = {\r\n\t\t/**\r\n\t\t * The Translator class\r\n\t\t */\r\n\t\tTranslator: Translator,\r\n\r\n\t\tcompile: Translator.compile,\r\n\t\tescape: Translator.escape,\r\n\t\tunescape: Translator.unescape,\r\n\t\tgetLanguage: Translator.getLanguage,\r\n\r\n\t\t/**\r\n\t\t * Legacy translator function for backwards compatibility\r\n\t\t */\r\n\t\ttranslate: function translate(text, language, callback) {\r\n\t\t\t// TODO: deprecate?\r\n\r\n\t\t\tvar cb = callback;\r\n\t\t\tvar lang = language;\r\n\t\t\tif (typeof language === 'function') {\r\n\t\t\t\tcb = language;\r\n\t\t\t\tlang = null;\r\n\t\t\t}\r\n\r\n\t\t\tif (!(typeof text === 'string' || text instanceof String) || text === '') {\r\n\t\t\t\treturn cb('');\r\n\t\t\t}\r\n\r\n\t\t\treturn Translator.create(lang).translate(text).then(function (output) {\r\n\t\t\t\tif (cb) {\r\n\t\t\t\t\tsetTimeout(cb, 0, output);\r\n\t\t\t\t}\r\n\t\t\t\treturn output;\r\n\t\t\t}, function (err) {\r\n\t\t\t\twarn('Translation failed: ' + err.stack);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add translations to the cache\r\n\t\t */\r\n\t\taddTranslation: function addTranslation(language, namespace, translation) {\r\n\t\t\tTranslator.create(language).getTranslation(namespace).then(function (translations) {\r\n\t\t\t\tassign(translations, translation);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get the translations object\r\n\t\t */\r\n\t\tgetTranslations: function getTranslations(language, namespace, callback) {\r\n\t\t\tcallback = callback || function () {};\r\n\t\t\tTranslator.create(language).getTranslation(namespace).then(callback);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Alias of getTranslations\r\n\t\t */\r\n\t\tload: function load(language, namespace, callback) {\r\n\t\t\tadaptor.getTranslations(language, namespace, callback);\r\n\t\t},\r\n\r\n\t\ttoggleTimeagoShorthand: function toggleTimeagoShorthand(callback) {\r\n\t\t\tfunction toggle() {\r\n\t\t\t\tvar tmp = assign({}, jQuery.timeago.settings.strings);\r\n\t\t\t\tjQuery.timeago.settings.strings = assign({}, adaptor.timeagoShort);\r\n\t\t\t\tadaptor.timeagoShort = assign({}, tmp);\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!adaptor.timeagoShort) {\r\n\t\t\t\tvar languageCode = utils.userLangToTimeagoCode(config.userLang);\r\n\t\t\t\tvar originalSettings = assign({}, jQuery.timeago.settings.strings);\r\n\t\t\t\tjQuery.getScript(config.relative_path + '/assets/vendor/jquery/timeago/locales/jquery.timeago.' + languageCode + '-short.js').done(function () {\r\n\t\t\t\t\tadaptor.timeagoShort = assign({}, jQuery.timeago.settings.strings);\r\n\t\t\t\t\tjQuery.timeago.settings.strings = assign({}, originalSettings);\r\n\t\t\t\t\ttoggle();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\ttoggle();\r\n\t\t\t}\r\n\t\t},\r\n\t\tprepareDOM: function prepareDOM() {\r\n\t\t\t// Add directional code if necessary\r\n\t\t\tadaptor.translate('[[language:dir]]', function (value) {\r\n\t\t\t\tif (value && !$('html').attr('data-dir')) {\r\n\t\t\t\t\tjQuery('html').css('direction', value).attr('data-dir', value);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t};\r\n\r\n\treturn adaptor;\r\n}));\r\n","'use strict';\r\n\r\n\r\ndefine('notifications', ['sounds', 'translator', 'components', 'navigator', 'benchpress'], function (sounds, translator, components, navigator, Benchpress) {\r\n\tvar Notifications = {};\r\n\r\n\tvar unreadNotifs = {};\r\n\r\n\tNotifications.prepareDOM = function () {\r\n\t\tvar notifContainer = components.get('notifications');\r\n\t\tvar notifTrigger = notifContainer.children('a');\r\n\t\tvar notifList = components.get('notifications/list');\r\n\r\n\t\tnotifTrigger.on('click', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (notifContainer.hasClass('open')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tNotifications.loadNotifications(notifList);\r\n\t\t});\r\n\r\n\t\tnotifList.on('click', '[data-nid]', function (ev) {\r\n\t\t\tvar notifEl = $(this);\r\n\t\t\tif (scrollToPostIndexIfOnPage(notifEl)) {\r\n\t\t\t\tev.stopPropagation();\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tnotifTrigger.dropdown('toggle');\r\n\t\t\t}\r\n\r\n\t\t\tvar unread = notifEl.hasClass('unread');\r\n\t\t\tif (!unread) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar nid = notifEl.attr('data-nid');\r\n\t\t\tsocket.emit('notifications.markRead', nid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (unreadNotifs[nid]) {\r\n\t\t\t\t\tdelete unreadNotifs[nid];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tnotifContainer.on('click', '.mark-all-read', Notifications.markAllRead);\r\n\r\n\t\tnotifList.on('click', '.mark-read', function () {\r\n\t\t\tvar liEl = $(this).parent();\r\n\t\t\tvar unread = liEl.hasClass('unread');\r\n\t\t\tvar nid = liEl.attr('data-nid');\r\n\r\n\t\t\tsocket.emit('notifications.mark' + (unread ? 'Read' : 'Unread'), nid, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tliEl.toggleClass('unread');\r\n\r\n\t\t\t\tif (unread && unreadNotifs[nid]) {\r\n\t\t\t\t\tdelete unreadNotifs[nid];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tsocket.on('event:new_notification', function (notifData) {\r\n\t\t\t// If a path is defined, show notif data, otherwise show generic data\r\n\t\t\tvar payload = {\r\n\t\t\t\talert_id: 'new_notif',\r\n\t\t\t\ttitle: '[[notifications:new_notification]]',\r\n\t\t\t\ttimeout: 2000,\r\n\t\t\t};\r\n\r\n\t\t\tif (notifData.path) {\r\n\t\t\t\tpayload.message = notifData.bodyShort;\r\n\t\t\t\tpayload.type = 'info';\r\n\t\t\t\tpayload.clickfn = function () {\r\n\t\t\t\t\tif (notifData.path.startsWith('http') || notifData.path.startsWith('https')) {\r\n\t\t\t\t\t\twindow.location.href = notifData.path;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twindow.location.href = window.location.protocol + '//' + window.location.host + config.relative_path + notifData.path;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tpayload.message = '[[notifications:you_have_unread_notifications]]';\r\n\t\t\t\tpayload.type = 'warning';\r\n\t\t\t}\r\n\r\n\t\t\tapp.alert(payload);\r\n\t\t\tapp.refreshTitle();\r\n\r\n\t\t\tif (ajaxify.currentPage === 'notifications') {\r\n\t\t\t\tajaxify.refresh();\r\n\t\t\t}\r\n\r\n\t\t\tsocket.emit('notifications.getCount', function (err, count) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tNotifications.updateNotifCount(count);\r\n\t\t\t});\r\n\r\n\t\t\tif (!unreadNotifs[notifData.nid]) {\r\n\t\t\t\tsounds.play('notification', notifData.nid);\r\n\t\t\t\tunreadNotifs[notifData.nid] = true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on('event:notifications.updateCount', function (count) {\r\n\t\t\tNotifications.updateNotifCount(count);\r\n\t\t});\r\n\t};\r\n\r\n\tfunction scrollToPostIndexIfOnPage(notifEl) {\r\n\t\t// Scroll to index if already in topic (gh#5873)\r\n\t\tvar pid = notifEl.attr('data-pid');\r\n\t\tvar path = notifEl.attr('data-path');\r\n\t\tvar postEl = components.get('post', 'pid', pid);\r\n\t\tif (path.startsWith(config.relative_path + '/post/') && pid && postEl.length && ajaxify.data.template.topic) {\r\n\t\t\tnavigator.scrollToIndex(postEl.attr('data-index'), true);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tNotifications.loadNotifications = function (notifList) {\r\n\t\tsocket.emit('notifications.get', null, function (err, data) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tvar notifs = data.unread.concat(data.read).sort(function (a, b) {\r\n\t\t\t\treturn parseInt(a.datetime, 10) > parseInt(b.datetime, 10) ? -1 : 1;\r\n\t\t\t});\r\n\r\n\t\t\ttranslator.toggleTimeagoShorthand(function () {\r\n\t\t\t\tfor (var i = 0; i < notifs.length; i += 1) {\r\n\t\t\t\t\tnotifs[i].timeago = $.timeago(new Date(parseInt(notifs[i].datetime, 10)));\r\n\t\t\t\t}\r\n\t\t\t\ttranslator.toggleTimeagoShorthand();\r\n\t\t\t\tBenchpress.parse('partials/notifications_list', { notifications: notifs }, function (html) {\r\n\t\t\t\t\tnotifList.translateHtml(html);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tNotifications.updateNotifCount = function (count) {\r\n\t\tvar notifIcon = components.get('notifications/icon');\r\n\t\tcount = Math.max(0, count);\r\n\t\tif (count > 0) {\r\n\t\t\tnotifIcon.removeClass('fa-bell-o').addClass('fa-bell');\r\n\t\t} else {\r\n\t\t\tnotifIcon.removeClass('fa-bell').addClass('fa-bell-o');\r\n\t\t}\r\n\r\n\t\tnotifIcon.toggleClass('unread-count', count > 0);\r\n\t\tnotifIcon.attr('data-content', count > 99 ? '99+' : count);\r\n\r\n\t\tvar payload = {\r\n\t\t\tcount: count,\r\n\t\t\tupdateFavicon: true,\r\n\t\t};\r\n\t\t$(window).trigger('action:notification.updateCount', payload);\r\n\r\n\t\tif (payload.updateFavicon) {\r\n\t\t\tTinycon.setBubble(count > 99 ? '99+' : count);\r\n\t\t}\r\n\t};\r\n\r\n\tNotifications.markAllRead = function () {\r\n\t\tsocket.emit('notifications.markAllRead', function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\tapp.alertError(err.message);\r\n\t\t\t}\r\n\t\t\tunreadNotifs = {};\r\n\t\t});\r\n\t};\r\n\r\n\treturn Notifications;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('chat', [\r\n\t'components',\r\n\t'taskbar',\r\n\t'string',\r\n\t'sounds',\r\n\t'forum/chats',\r\n\t'forum/chats/messages',\r\n\t'translator',\r\n\t'scrollStop',\r\n\t'benchpress',\r\n], function (components, taskbar, S, sounds, Chats, ChatsMessages, translator, scrollStop, Benchpress) {\r\n\tvar module = {};\r\n\tvar newMessage = false;\r\n\r\n\tmodule.prepareDOM = function () {\r\n\t\tvar chatsToggleEl = components.get('chat/dropdown');\r\n\t\tvar chatsListEl = components.get('chat/list');\r\n\r\n\t\tchatsToggleEl.on('click', function () {\r\n\t\t\tif (chatsToggleEl.parent().hasClass('open')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tmodule.loadChatsDropdown(chatsListEl);\r\n\t\t});\r\n\r\n\t\tchatsListEl.on('click', '[data-roomid]', function (ev) {\r\n\t\t\tif ($(ev.target).parents('.user-link').length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar roomId = $(this).attr('data-roomid');\r\n\t\t\tif (!ajaxify.currentPage.match(/^chats\\//)) {\r\n\t\t\t\tapp.openChat(roomId);\r\n\t\t\t} else {\r\n\t\t\t\tajaxify.go('user/' + app.user.userslug + '/chats/' + roomId);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('[component=\"chats/mark-all-read\"]').on('click', function () {\r\n\t\t\tsocket.emit('modules.chats.markAllRead', function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tsocket.on('event:chats.receive', function (data) {\r\n\t\t\tvar username = data.message.fromUser.username;\r\n\t\t\tvar isSelf = data.self === 1;\r\n\t\t\tdata.message.self = data.self;\r\n\r\n\t\t\tnewMessage = data.self === 0;\r\n\t\t\tif (module.modalExists(data.roomId)) {\r\n\t\t\t\tvar modal = module.getModal(data.roomId);\r\n\r\n\t\t\t\tChatsMessages.appendChatMessage(modal.find('.chat-content'), data.message);\r\n\r\n\t\t\t\tif (modal.is(':visible')) {\r\n\t\t\t\t\ttaskbar.updateActive(modal.attr('UUID'));\r\n\t\t\t\t\tChatsMessages.scrollToBottom(modal.find('.chat-content'));\r\n\t\t\t\t} else if (!ajaxify.data.template.chats) {\r\n\t\t\t\t\tmodule.toggleNew(modal.attr('UUID'), true, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isSelf && (!modal.is(':visible') || !app.isFocused)) {\r\n\t\t\t\t\tapp.alternatingTitle('[[modules:chat.user_has_messaged_you, ' + username + ']]');\r\n\t\t\t\t\tsounds.play('chat-incoming', 'chat.incoming:' + data.message.mid);\r\n\r\n\t\t\t\t\ttaskbar.push('chat', modal.attr('UUID'), {\r\n\t\t\t\t\t\ttitle: data.roomName || username,\r\n\t\t\t\t\t\ttouid: data.message.fromUser.uid,\r\n\t\t\t\t\t\troomId: data.roomId,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else if (!ajaxify.data.template.chats) {\r\n\t\t\t\tsocket.emit('modules.chats.loadRoom', {\r\n\t\t\t\t\troomId: data.roomId,\r\n\t\t\t\t}, function (err, roomData) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\troomData.users = roomData.users.filter(function (user) {\r\n\t\t\t\t\t\treturn user && parseInt(user.uid, 10) !== parseInt(app.user.uid, 10);\r\n\t\t\t\t\t});\r\n\t\t\t\t\troomData.silent = true;\r\n\t\t\t\t\troomData.uid = app.user.uid;\r\n\t\t\t\t\tmodule.createModal(roomData, function (modal) {\r\n\t\t\t\t\t\tmodule.toggleNew(modal.attr('UUID'), !isSelf, true);\r\n\t\t\t\t\t\tif (!isSelf) {\r\n\t\t\t\t\t\t\tapp.alternatingTitle('[[modules:chat.user_has_messaged_you, ' + username + ']]');\r\n\t\t\t\t\t\t\tsounds.play('chat-incoming', 'chat.incoming:' + data.message.mid);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on('event:user_status_change', function (data) {\r\n\t\t\tvar modal = module.getModal(data.uid);\r\n\t\t\tapp.updateUserStatus(modal.find('[component=\"user/status\"]'), data.status);\r\n\t\t});\r\n\r\n\t\tsocket.on('event:chats.roomRename', function (data) {\r\n\t\t\tvar newTitle = $('<div/>').html(data.newName).text();\r\n\t\t\tvar modal = module.getModal(data.roomId);\r\n\t\t\tmodal.find('[component=\"chat/room/name\"]').text(newTitle);\r\n\t\t\ttaskbar.updateTitle('chat', modal.attr('UUID'), newTitle);\r\n\t\t});\r\n\r\n\t\tChatsMessages.onChatMessageEdit();\r\n\t};\r\n\r\n\tmodule.loadChatsDropdown = function (chatsListEl) {\r\n\t\tsocket.emit('modules.chats.getRecentChats', {\r\n\t\t\tuid: app.user.uid,\r\n\t\t\tafter: 0,\r\n\t\t}, function (err, data) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tvar rooms = data.rooms.filter(function (room) {\r\n\t\t\t\treturn room.teaser;\r\n\t\t\t});\r\n\r\n\t\t\tBenchpress.parse('partials/chats/dropdown', {\r\n\t\t\t\trooms: rooms,\r\n\t\t\t}, function (html) {\r\n\t\t\t\ttranslator.translate(html, function (translated) {\r\n\t\t\t\t\tchatsListEl.empty().html(translated);\r\n\t\t\t\t\tapp.createUserTooltips(chatsListEl, 'right');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tmodule.bringModalToTop = function (chatModal) {\r\n\t\tvar topZ = 0;\r\n\r\n\t\ttaskbar.updateActive(chatModal.attr('UUID'));\r\n\r\n\t\tif ($('.chat-modal').length === 1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$('.chat-modal').each(function () {\r\n\t\t\tvar thisZ = parseInt($(this).css('zIndex'), 10);\r\n\t\t\tif (thisZ > topZ) {\r\n\t\t\t\ttopZ = thisZ;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tchatModal.css('zIndex', topZ + 1);\r\n\t};\r\n\r\n\tmodule.getModal = function (roomId) {\r\n\t\treturn $('#chat-modal-' + roomId);\r\n\t};\r\n\r\n\tmodule.modalExists = function (roomId) {\r\n\t\treturn $('#chat-modal-' + roomId).length !== 0;\r\n\t};\r\n\r\n\tmodule.createModal = function (data, callback) {\r\n\t\tapp.parseAndTranslate('chat', data, function (chatModal) {\r\n\t\t\tvar uuid = utils.generateUUID();\r\n\t\t\tvar dragged = false;\r\n\r\n\t\t\tchatModal.attr('id', 'chat-modal-' + data.roomId);\r\n\t\t\tchatModal.attr('data-roomid', data.roomId);\r\n\t\t\tchatModal.attr('intervalId', 0);\r\n\t\t\tchatModal.attr('UUID', uuid);\r\n\t\t\tchatModal.css('position', 'fixed');\r\n\t\t\tchatModal.css('zIndex', 100);\r\n\t\t\tchatModal.appendTo($('body'));\r\n\t\t\tchatModal.find('.timeago').timeago();\r\n\t\t\tmodule.center(chatModal);\r\n\r\n\t\t\tapp.loadJQueryUI(function () {\r\n\t\t\t\tchatModal.find('.modal-content').resizable({\r\n\t\t\t\t\thandles: 'n, e, s, w, se',\r\n\t\t\t\t\tminHeight: 250,\r\n\t\t\t\t\tminWidth: 400,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tchatModal.find('.modal-content').on('resize', function (event, ui) {\r\n\t\t\t\t\tif (ui.originalSize.height === ui.size.height) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tchatModal.find('.modal-body').css('height', module.calculateChatListHeight(chatModal));\r\n\t\t\t\t});\r\n\r\n\t\t\t\tchatModal.draggable({\r\n\t\t\t\t\tstart: function () {\r\n\t\t\t\t\t\tmodule.bringModalToTop(chatModal);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstop: function () {\r\n\t\t\t\t\t\tchatModal.find('#chat-message-input').focus();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdistance: 10,\r\n\t\t\t\t\thandle: '.modal-header',\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tscrollStop.apply(chatModal.find('[component=\"chat/messages\"]'));\r\n\r\n\t\t\tchatModal.find('#chat-close-btn').on('click', function () {\r\n\t\t\t\tmodule.close(chatModal);\r\n\t\t\t});\r\n\r\n\t\t\tfunction gotoChats() {\r\n\t\t\t\tvar text = components.get('chat/input').val();\r\n\t\t\t\t$(window).one('action:ajaxify.end', function () {\r\n\t\t\t\t\tcomponents.get('chat/input').val(text);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tajaxify.go('user/' + app.user.userslug + '/chats/' + chatModal.attr('data-roomid'));\r\n\t\t\t\tmodule.close(chatModal);\r\n\t\t\t}\r\n\r\n\t\t\tchatModal.find('.modal-header').on('dblclick', gotoChats);\r\n\t\t\tchatModal.find('button[data-action=\"maximize\"]').on('click', gotoChats);\r\n\t\t\tchatModal.find('button[data-action=\"minimize\"]').on('click', function () {\r\n\t\t\t\tvar uuid = chatModal.attr('uuid');\r\n\t\t\t\tmodule.minimize(uuid);\r\n\t\t\t});\r\n\r\n\t\t\tchatModal.on('click', function () {\r\n\t\t\t\tmodule.bringModalToTop(chatModal);\r\n\r\n\t\t\t\tif (dragged) {\r\n\t\t\t\t\tdragged = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tchatModal.on('mousemove', function (e) {\r\n\t\t\t\tif (e.which === 1) {\r\n\t\t\t\t\tdragged = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tchatModal.on('mousemove keypress click', function () {\r\n\t\t\t\tif (newMessage) {\r\n\t\t\t\t\tsocket.emit('modules.chats.markRead', data.roomId);\r\n\t\t\t\t\tnewMessage = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tChats.addActionHandlers(chatModal.find('[component=\"chat/messages\"]'), data.roomId);\r\n\t\t\tChats.addRenameHandler(chatModal.attr('data-roomid'), chatModal.find('[data-action=\"rename\"]'), chatModal.attr('data-name'));\r\n\t\t\tChats.addLeaveHandler(chatModal.attr('data-roomid'), chatModal.find('[data-action=\"leave\"]'));\r\n\t\t\tChats.addSendHandlers(chatModal.attr('data-roomid'), chatModal.find('.chat-input'), chatModal.find('[data-action=\"send\"]'));\r\n\t\t\tChats.addMemberHandler(chatModal.attr('data-roomid'), chatModal.find('[data-action=\"members\"]'));\r\n\r\n\t\t\tChats.createAutoComplete(chatModal.find('[component=\"chat/input\"]'));\r\n\r\n\t\t\tChats.addScrollHandler(chatModal.attr('data-roomid'), data.uid, chatModal.find('.chat-content'));\r\n\r\n\t\t\tChats.addCharactersLeftHandler(chatModal);\r\n\r\n\t\t\ttaskbar.push('chat', chatModal.attr('UUID'), {\r\n\t\t\t\ttitle: data.roomName || (data.users.length ? data.users[0].username : ''),\r\n\t\t\t\troomId: data.roomId,\r\n\t\t\t\ticon: 'fa-comment',\r\n\t\t\t\tstate: '',\r\n\t\t\t});\r\n\r\n\t\t\t$(window).trigger('action:chat.loaded', chatModal);\r\n\r\n\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\tcallback(chatModal);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tmodule.focusInput = function (chatModal) {\r\n\t\tchatModal.find('[component=\"chat/input\"]').focus();\r\n\t};\r\n\r\n\tmodule.close = function (chatModal) {\r\n\t\tclearInterval(chatModal.attr('intervalId'));\r\n\t\tchatModal.attr('intervalId', 0);\r\n\t\tchatModal.remove();\r\n\t\tchatModal.data('modal', null);\r\n\t\ttaskbar.discard('chat', chatModal.attr('UUID'));\r\n\r\n\t\tif (chatModal.attr('data-mobile')) {\r\n\t\t\tmodule.disableMobileBehaviour(chatModal);\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.center = function (chatModal) {\r\n\t\tvar hideAfter = false;\r\n\t\tif (chatModal.hasClass('hide')) {\r\n\t\t\tchatModal.removeClass('hide');\r\n\t\t\thideAfter = true;\r\n\t\t}\r\n\t\tchatModal.css('left', Math.max(0, (($(window).width() - $(chatModal).outerWidth()) / 2) + $(window).scrollLeft()) + 'px');\r\n\t\tchatModal.css('top', Math.max(0, ($(window).height() / 2) - ($(chatModal).outerHeight() / 2)) + 'px');\r\n\r\n\t\tif (hideAfter) {\r\n\t\t\tchatModal.addClass('hide');\r\n\t\t}\r\n\t\treturn chatModal;\r\n\t};\r\n\r\n\tmodule.load = function (uuid) {\r\n\t\tvar chatModal = $('div[UUID=\"' + uuid + '\"]');\r\n\t\tchatModal.removeClass('hide');\r\n\t\ttaskbar.updateActive(uuid);\r\n\t\tChatsMessages.scrollToBottom(chatModal.find('.chat-content'));\r\n\t\tmodule.bringModalToTop(chatModal);\r\n\t\tmodule.focusInput(chatModal);\r\n\t\tsocket.emit('modules.chats.markRead', chatModal.attr('data-roomid'));\r\n\r\n\t\tvar env = utils.findBootstrapEnvironment();\r\n\t\tif (env === 'xs' || env === 'sm') {\r\n\t\t\tmodule.enableMobileBehaviour(chatModal);\r\n\t\t}\r\n\t};\r\n\r\n\tmodule.enableMobileBehaviour = function (modalEl) {\r\n\t\tapp.toggleNavbar(false);\r\n\t\tmodalEl.attr('data-mobile', '1');\r\n\t\tvar messagesEl = modalEl.find('.modal-body');\r\n\t\tmessagesEl.css('height', module.calculateChatListHeight(modalEl));\r\n\r\n\t\t$(window).on('resize', function () {\r\n\t\t\tmessagesEl.css('height', module.calculateChatListHeight(modalEl));\r\n\t\t});\r\n\t};\r\n\r\n\tmodule.disableMobileBehaviour = function () {\r\n\t\tapp.toggleNavbar(true);\r\n\t};\r\n\r\n\tmodule.calculateChatListHeight = function (modalEl) {\r\n\t\t// Formula: modal height minus header height. Simple(tm).\r\n\t\treturn modalEl.find('.modal-content').outerHeight() - modalEl.find('.modal-header').outerHeight();\r\n\t};\r\n\r\n\tmodule.minimize = function (uuid) {\r\n\t\tvar chatModal = $('div[UUID=\"' + uuid + '\"]');\r\n\t\tchatModal.addClass('hide');\r\n\t\ttaskbar.minimize('chat', uuid);\r\n\t\tclearInterval(chatModal.attr('intervalId'));\r\n\t\tchatModal.attr('intervalId', 0);\r\n\t};\r\n\r\n\tmodule.toggleNew = taskbar.toggleNew;\r\n\r\n\r\n\treturn module;\r\n});\r\n","'use strict';\r\n\r\ndefine('components', function () {\r\n\tvar components = {};\r\n\r\n\tcomponents.core = {\r\n\t\t'topic/teaser': function (tid) {\r\n\t\t\tif (tid) {\r\n\t\t\t\treturn $('[component=\"category/topic\"][data-tid=\"' + tid + '\"] [component=\"topic/teaser\"]');\r\n\t\t\t}\r\n\t\t\treturn $('[component=\"topic/teaser\"]');\r\n\t\t},\r\n\t\ttopic: function (name, value) {\r\n\t\t\treturn $('[component=\"topic\"][data-' + name + '=\"' + value + '\"]');\r\n\t\t},\r\n\t\tpost: function (name, value) {\r\n\t\t\treturn $('[component=\"post\"][data-' + name + '=\"' + value + '\"]');\r\n\t\t},\r\n\t\t'post/content': function (pid) {\r\n\t\t\treturn components.core.post('pid', pid).find('[component=\"post/content\"]');\r\n\t\t},\r\n\t\t'post/header': function (pid) {\r\n\t\t\treturn components.core.post('pid', pid).find('[component=\"post/header\"]');\r\n\t\t},\r\n\t\t'post/anchor': function (index) {\r\n\t\t\treturn components.core.post('index', index).find('[component=\"post/anchor\"]');\r\n\t\t},\r\n\t\t'post/vote-count': function (pid) {\r\n\t\t\treturn components.core.post('pid', pid).find('[component=\"post/vote-count\"]');\r\n\t\t},\r\n\t\t'post/bookmark-count': function (pid) {\r\n\t\t\treturn components.core.post('pid', pid).find('[component=\"post/bookmark-count\"]');\r\n\t\t},\r\n\r\n\t\t'user/postcount': function (uid) {\r\n\t\t\treturn $('[component=\"user/postcount\"][data-uid=\"' + uid + '\"]');\r\n\t\t},\r\n\t\t'user/reputation': function (uid) {\r\n\t\t\treturn $('[component=\"user/reputation\"][data-uid=\"' + uid + '\"]');\r\n\t\t},\r\n\r\n\t\t'category/topic': function (name, value) {\r\n\t\t\treturn $('[component=\"category/topic\"][data-' + name + '=\"' + value + '\"]');\r\n\t\t},\r\n\r\n\t\t'categories/category': function (name, value) {\r\n\t\t\treturn $('[component=\"categories/category\"][data-' + name + '=\"' + value + '\"]');\r\n\t\t},\r\n\r\n\t\t'chat/message': function (messageId) {\r\n\t\t\treturn $('[component=\"chat/message\"][data-mid=\"' + messageId + '\"]');\r\n\t\t},\r\n\r\n\t\t'chat/message/body': function (messageId) {\r\n\t\t\treturn $('[component=\"chat/message\"][data-mid=\"' + messageId + '\"] [component=\"chat/message/body\"]');\r\n\t\t},\r\n\r\n\t\t'chat/recent/room': function (roomid) {\r\n\t\t\treturn $('[component=\"chat/recent/room\"][data-roomid=\"' + roomid + '\"]');\r\n\t\t},\r\n\t};\r\n\r\n\tcomponents.get = function () {\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\t\tif (components.core[arguments[0]] && args.length) {\r\n\t\t\treturn components.core[arguments[0]].apply(this, args);\r\n\t\t}\r\n\t\treturn $('[component=\"' + arguments[0] + '\"]');\r\n\t};\r\n\r\n\treturn components;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('sort', ['components'], function (components) {\r\n\tvar module = {};\r\n\r\n\tmodule.handleSort = function (field, method, gotoOnSave) {\r\n\t\tvar threadSort = components.get('thread/sort');\r\n\t\tthreadSort.find('i').removeClass('fa-check');\r\n\t\tvar currentSetting = threadSort.find('a[data-sort=\"' + config[field] + '\"]');\r\n\t\tcurrentSetting.find('i').addClass('fa-check');\r\n\r\n\t\t$('.category, .topic').on('click', '[component=\"thread/sort\"] a', function () {\r\n\t\t\tvar newSetting = $(this).attr('data-sort');\r\n\t\t\tsocket.emit(method, newSetting, function (err) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\t\t\t\tconfig[field] = newSetting;\r\n\t\t\t\tajaxify.go(gotoOnSave);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn module;\r\n});\r\n","'use strict';\r\n\r\ndefine('navigator', ['forum/pagination', 'components'], function (pagination, components) {\r\n\tvar navigator = {};\r\n\tvar index = 1;\r\n\tvar count = 0;\r\n\tvar navigatorUpdateTimeoutId;\r\n\r\n\tnavigator.scrollActive = false;\r\n\r\n\t$(window).on('action:ajaxify.start', function () {\r\n\t\t$(window).off('keydown', onKeyDown);\r\n\t});\r\n\r\n\tnavigator.init = function (selector, count, toTop, toBottom, callback, calculateIndex) {\r\n\t\tindex = 1;\r\n\t\tnavigator.selector = selector;\r\n\t\tnavigator.callback = callback;\r\n\t\tnavigator.toTop = toTop || function () {};\r\n\t\tnavigator.toBottom = toBottom || function () {};\r\n\r\n\t\t$(window).off('scroll', navigator.delayedUpdate).on('scroll', navigator.delayedUpdate);\r\n\r\n\t\t$('.pagination-block .dropdown-menu').off('click').on('click', function (e) {\r\n\t\t\te.stopPropagation();\r\n\t\t});\r\n\r\n\t\t$('.pagination-block').off('shown.bs.dropdown', '.dropdown').on('shown.bs.dropdown', '.dropdown', function () {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t$('.pagination-block input').focus();\r\n\t\t\t}, 100);\r\n\t\t});\r\n\r\n\t\t$('.pagination-block .pageup').off('click').on('click', navigator.scrollUp);\r\n\t\t$('.pagination-block .pagedown').off('click').on('click', navigator.scrollDown);\r\n\t\t$('.pagination-block .pagetop').off('click').on('click', navigator.toTop);\r\n\t\t$('.pagination-block .pagebottom').off('click').on('click', navigator.toBottom);\r\n\r\n\t\t$('.pagination-block input').on('keydown', function (e) {\r\n\t\t\tif (e.which === 13) {\r\n\t\t\t\tvar input = $(this);\r\n\t\t\t\tif (!utils.isNumber(input.val())) {\r\n\t\t\t\t\tinput.val('');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar index = parseInt(input.val(), 10);\r\n\t\t\t\tif (typeof calculateIndex === 'function') {\r\n\t\t\t\t\tindex = calculateIndex(index, count);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar url = generateUrl(index);\r\n\t\t\t\tinput.val('');\r\n\t\t\t\t$('.pagination-block .dropdown-toggle').trigger('click');\r\n\t\t\t\tajaxify.go(url);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\thandleKeys();\r\n\r\n\t\tnavigator.setCount(count);\r\n\t\tnavigator.update(0);\r\n\t};\r\n\r\n\tfunction handleKeys() {\r\n\t\tif (!config.usePagination) {\r\n\t\t\t$(window).off('keydown', onKeyDown).on('keydown', onKeyDown);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onKeyDown(ev) {\r\n\t\tif (ev.target.nodeName === 'BODY') {\r\n\t\t\tif (ev.shiftKey || ev.ctrlKey || ev.altKey) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (ev.which === 36 && navigator.toTop) { // home key\r\n\t\t\t\tnavigator.toTop();\r\n\t\t\t\treturn false;\r\n\t\t\t} else if (ev.which === 35 && navigator.toBottom) { // end key\r\n\t\t\t\tnavigator.toBottom();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction generateUrl(index) {\r\n\t\tvar pathname = window.location.pathname.replace(config.relative_path, '');\r\n\t\tvar parts = pathname.split('/');\r\n\t\treturn parts[1] + '/' + parts[2] + '/' + parts[3] + (index ? '/' + index : '');\r\n\t}\r\n\r\n\tnavigator.setCount = function (value) {\r\n\t\tcount = parseInt(value, 10);\r\n\t\tnavigator.updateTextAndProgressBar();\r\n\t};\r\n\r\n\tnavigator.show = function () {\r\n\t\ttoggle(true);\r\n\t};\r\n\r\n\tnavigator.disable = function () {\r\n\t\tcount = 0;\r\n\t\tindex = 1;\r\n\t\tnavigator.callback = null;\r\n\t\tnavigator.selector = null;\r\n\t\t$(window).off('scroll', navigator.delayedUpdate);\r\n\r\n\t\ttoggle(false);\r\n\t};\r\n\r\n\tfunction toggle(flag) {\r\n\t\tvar path = ajaxify.removeRelativePath(window.location.pathname.slice(1));\r\n\t\tif (flag && (!path.startsWith('topic') && !path.startsWith('category'))) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$('.pagination-block').toggleClass('ready', flag);\r\n\t}\r\n\r\n\tnavigator.delayedUpdate = function () {\r\n\t\tif (!navigatorUpdateTimeoutId) {\r\n\t\t\tnavigatorUpdateTimeoutId = setTimeout(function () {\r\n\t\t\t\tnavigator.update();\r\n\t\t\t\tnavigatorUpdateTimeoutId = undefined;\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t};\r\n\r\n\tnavigator.update = function (threshold) {\r\n\t\t/*\r\n\t\t\tThe \"threshold\" is defined as the distance from the top of the page to\r\n\t\t\ta spot where a user is expecting to begin reading.\r\n\t\t*/\r\n\t\tthreshold = typeof threshold === 'number' ? threshold : undefined;\r\n\r\n\t\tvar els = $(navigator.selector);\r\n\t\tif (els.length) {\r\n\t\t\tindex = parseInt(els.first().attr('data-index'), 10) + 1;\r\n\t\t}\r\n\r\n\t\tvar scrollTop = $(window).scrollTop();\r\n\t\tvar windowHeight = $(window).height();\r\n\t\tvar documentHeight = $(document).height();\r\n\t\tvar middleOfViewport = scrollTop + (windowHeight / 2);\r\n\t\tvar previousDistance = Number.MAX_VALUE;\r\n\t\tels.each(function () {\r\n\t\t\tvar distanceToMiddle = Math.abs(middleOfViewport - $(this).offset().top);\r\n\r\n\t\t\tif (distanceToMiddle > previousDistance) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (distanceToMiddle < previousDistance) {\r\n\t\t\t\tindex = parseInt($(this).attr('data-index'), 10) + 1;\r\n\t\t\t\tpreviousDistance = distanceToMiddle;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar atTop = scrollTop === 0 && parseInt(els.first().attr('data-index'), 10) === 0;\r\n\t\tvar nearBottom = scrollTop + windowHeight > documentHeight - 100 && parseInt(els.last().attr('data-index'), 10) === count - 1;\r\n\r\n\t\tif (atTop) {\r\n\t\t\tindex = 1;\r\n\t\t} else if (nearBottom) {\r\n\t\t\tindex = count;\r\n\t\t}\r\n\r\n\t\t// If a threshold is undefined, try to determine one based on new index\r\n\t\tif (threshold === undefined && ajaxify.data.template.topic === true) {\r\n\t\t\tif (atTop) {\r\n\t\t\t\tthreshold = 0;\r\n\t\t\t} else {\r\n\t\t\t\tvar anchorEl = components.get('post/anchor', index - 1);\r\n\t\t\t\tif (anchorEl.length) {\r\n\t\t\t\t\tvar anchorRect = anchorEl.get(0).getBoundingClientRect();\r\n\t\t\t\t\tthreshold = anchorRect.top;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof navigator.callback === 'function') {\r\n\t\t\tnavigator.callback(index, count, threshold);\r\n\t\t}\r\n\r\n\t\tnavigator.updateTextAndProgressBar();\r\n\t\ttoggle(!!count);\r\n\t};\r\n\r\n\tnavigator.updateTextAndProgressBar = function () {\r\n\t\tif (!utils.isNumber(index)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tindex = index > count ? count : index;\r\n\t\tvar relIndex = getRelativeIndex();\r\n\t\t$('.pagination-block .pagination-text').translateHtml('[[global:pagination.out_of, ' + relIndex + ', ' + count + ']]');\r\n\t\tvar fraction = (relIndex - 1) / (count - 1 || 1);\r\n\t\t$('.pagination-block meter').val(fraction);\r\n\t\t$('.pagination-block .progress-bar').width((fraction * 100) + '%');\r\n\t};\r\n\r\n\tfunction getRelativeIndex() {\r\n\t\tvar relIndex = index;\r\n\t\tif (relIndex === 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (ajaxify.data.template.topic) {\r\n\t\t\tif (config.topicPostSort === 'most_votes' || config.topicPostSort === 'newest_to_oldest') {\r\n\t\t\t\trelIndex = ajaxify.data.postcount - index + 2;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn relIndex;\r\n\t}\r\n\r\n\tnavigator.scrollUp = function () {\r\n\t\t$('body,html').animate({\r\n\t\t\tscrollTop: $(window).scrollTop() - $(window).height(),\r\n\t\t});\r\n\t};\r\n\r\n\tnavigator.scrollDown = function () {\r\n\t\t$('body,html').animate({\r\n\t\t\tscrollTop: $(window).scrollTop() + $(window).height(),\r\n\t\t});\r\n\t};\r\n\r\n\tnavigator.scrollTop = function (index) {\r\n\t\tif ($(navigator.selector + '[data-index=\"' + index + '\"]').length) {\r\n\t\t\tnavigator.scrollToIndex(index, true);\r\n\t\t} else {\r\n\t\t\tajaxify.go(generateUrl());\r\n\t\t}\r\n\t};\r\n\r\n\tnavigator.scrollBottom = function (index) {\r\n\t\tif (parseInt(index, 10) < 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ($(navigator.selector + '[data-index=\"' + index + '\"]').length) {\r\n\t\t\tnavigator.scrollToIndex(index, true);\r\n\t\t} else {\r\n\t\t\tindex = parseInt(index, 10) + 1;\r\n\t\t\tajaxify.go(generateUrl(index));\r\n\t\t}\r\n\t};\r\n\r\n\tnavigator.scrollToPost = function (index, highlight, duration) {\r\n\t\tconsole.log('[navigator.scrollToPost] deprecated please use, navigator.scrollToIndex');\r\n\t\tnavigator.scrollToIndex(index, highlight, duration);\r\n\t};\r\n\r\n\tnavigator.scrollToIndex = function (index, highlight, duration) {\r\n\t\tvar inTopic = !!components.get('topic').length;\r\n\t\tvar inCategory = !!components.get('category').length;\r\n\r\n\t\tif (!utils.isNumber(index) || (!inTopic && !inCategory)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tduration = duration !== undefined ? duration : 400;\r\n\t\tnavigator.scrollActive = true;\r\n\r\n\t\t// if in topic and item already on page\r\n\t\tif (inTopic && components.get('post/anchor', index).length) {\r\n\t\t\treturn navigator.scrollToPostIndex(index, highlight, duration);\r\n\t\t}\r\n\r\n\t\t// if in category and item alreay on page\r\n\t\tif (inCategory && $('[component=\"category/topic\"][data-index=\"' + index + '\"]').length) {\r\n\t\t\treturn navigator.scrollToTopicIndex(index, highlight, duration);\r\n\t\t}\r\n\r\n\t\tif (!config.usePagination) {\r\n\t\t\tnavigator.scrollActive = false;\r\n\t\t\tindex = parseInt(index, 10) + 1;\r\n\t\t\tajaxify.go(generateUrl(index));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar scrollMethod = inTopic ? navigator.scrollToPostIndex : navigator.scrollToTopicIndex;\r\n\t\tif (inTopic) {\r\n\t\t\tif (config.topicPostSort === 'most_votes' || config.topicPostSort === 'newest_to_oldest') {\r\n\t\t\t\tindex = ajaxify.data.postcount - index;\r\n\t\t\t}\r\n\t\t} else if (inCategory) {\r\n\t\t\tif (config.categoryTopicSort === 'most_posts' || config.categoryTopicSort === 'oldest_to_newest') {\r\n\t\t\t\tindex = ajaxify.data.topic_count - index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar page = Math.max(1, Math.ceil((index + 1) / config.postsPerPage));\r\n\r\n\t\tif (parseInt(page, 10) !== ajaxify.data.pagination.currentPage) {\r\n\t\t\tpagination.loadPage(page, function () {\r\n\t\t\t\tscrollMethod(index, highlight, duration);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tscrollMethod(index, highlight, duration);\r\n\t\t}\r\n\t};\r\n\r\n\tnavigator.scrollToPostIndex = function (postIndex, highlight, duration) {\r\n\t\tvar scrollTo = components.get('post', 'index', postIndex);\r\n\t\tnavigator.scrollToElement(scrollTo, highlight, duration);\r\n\t};\r\n\r\n\tnavigator.scrollToTopicIndex = function (topicIndex, highlight, duration) {\r\n\t\tvar scrollTo = $('[component=\"category/topic\"][data-index=\"' + topicIndex + '\"]');\r\n\t\tnavigator.scrollToElement(scrollTo, highlight, duration);\r\n\t};\r\n\r\n\tnavigator.scrollToElement = function (scrollTo, highlight, duration) {\r\n\t\tif (!scrollTo.length) {\r\n\t\t\tnavigator.scrollActive = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar postHeight = scrollTo.height();\r\n\t\tvar viewportHeight = $(window).height();\r\n\t\tvar navbarHeight = components.get('navbar').height();\r\n\r\n\t\t// Temporarily disable navigator update on scroll\r\n\t\t$(window).off('scroll', navigator.update);\r\n\r\n\t\tduration = duration !== undefined ? duration : 400;\r\n\t\tnavigator.scrollActive = true;\r\n\t\tvar done = false;\r\n\r\n\t\tfunction animateScroll() {\r\n\t\t\tvar scrollTop = 0;\r\n\t\t\tif (postHeight < viewportHeight) {\r\n\t\t\t\tscrollTop = (scrollTo.offset().top - (viewportHeight / 2) + (postHeight / 2));\r\n\t\t\t} else {\r\n\t\t\t\tscrollTop = scrollTo.offset().top - navbarHeight;\r\n\t\t\t}\r\n\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: scrollTop + 'px',\r\n\t\t\t}, duration, function () {\r\n\t\t\t\tif (done) {\r\n\t\t\t\t\t// Re-enable onScroll behaviour\r\n\t\t\t\t\t$(window).on('scroll', navigator.update);\r\n\t\t\t\t\tvar scrollToRect = scrollTo.get(0).getBoundingClientRect();\r\n\t\t\t\t\tnavigator.update(scrollToRect.top);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tdone = true;\r\n\r\n\t\t\t\tnavigator.scrollActive = false;\r\n\t\t\t\thighlightPost();\r\n\t\t\t\t$('body').scrollTop($('body').scrollTop() - 1);\r\n\t\t\t\t$('html').scrollTop($('html').scrollTop() - 1);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction highlightPost() {\r\n\t\t\tif (highlight) {\r\n\t\t\t\tscrollTo.addClass('highlight');\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tscrollTo.removeClass('highlight');\r\n\t\t\t\t}, 10000);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimateScroll();\r\n\t};\r\n\r\n\treturn navigator;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('topicSelect', ['components'], function (components) {\r\n\tvar TopicSelect = {};\r\n\tvar lastSelected;\r\n\r\n\tvar topicsContainer;\r\n\r\n\tTopicSelect.init = function (onSelect) {\r\n\t\ttopicsContainer = $('[component=\"category\"]');\r\n\t\ttopicsContainer.on('selectstart', '[component=\"topic/select\"]', function (ev) {\r\n\t\t\tev.preventDefault();\r\n\t\t});\r\n\r\n\t\ttopicsContainer.on('click', '[component=\"topic/select\"]', function (ev) {\r\n\t\t\tvar select = $(this);\r\n\r\n\t\t\tif (ev.shiftKey) {\r\n\t\t\t\tselectRange($(this).parents('[component=\"category/topic\"]').attr('data-tid'));\r\n\t\t\t\tlastSelected = select;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tvar isSelected = select.parents('[data-tid]').hasClass('selected');\r\n\t\t\ttoggleSelect(select, !isSelected);\r\n\t\t\tlastSelected = select;\r\n\t\t\tif (typeof onSelect === 'function') {\r\n\t\t\t\tonSelect();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tfunction toggleSelect(select, isSelected) {\r\n\t\tselect.toggleClass('fa-check-square-o', isSelected);\r\n\t\tselect.toggleClass('fa-square-o', !isSelected);\r\n\t\tselect.parents('[component=\"category/topic\"]').toggleClass('selected', isSelected);\r\n\t}\r\n\r\n\tTopicSelect.getSelectedTids = function () {\r\n\t\tvar tids = [];\r\n\t\tif (!topicsContainer) {\r\n\t\t\treturn tids;\r\n\t\t}\r\n\t\ttopicsContainer.find('[component=\"category/topic\"].selected').each(function () {\r\n\t\t\ttids.push($(this).attr('data-tid'));\r\n\t\t});\r\n\t\treturn tids;\r\n\t};\r\n\r\n\tTopicSelect.unselectAll = function () {\r\n\t\tif (topicsContainer) {\r\n\t\t\ttopicsContainer.find('[component=\"category/topic\"].selected').removeClass('selected');\r\n\t\t\ttopicsContainer.find('[component=\"topic/select\"]').toggleClass('fa-check-square-o', false).toggleClass('fa-square-o', true);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction selectRange(clickedTid) {\r\n\t\tif (!lastSelected) {\r\n\t\t\tlastSelected = $('[component=\"category/topic\"]').first().find('[component=\"topic/select\"]');\r\n\t\t}\r\n\r\n\t\tvar isClickedSelected = components.get('category/topic', 'tid', clickedTid).hasClass('selected');\r\n\r\n\t\tvar clickedIndex = getIndex(clickedTid);\r\n\t\tvar lastIndex = getIndex(lastSelected.parents('[component=\"category/topic\"]').attr('data-tid'));\r\n\t\tselectIndexRange(clickedIndex, lastIndex, !isClickedSelected);\r\n\t}\r\n\r\n\tfunction selectIndexRange(start, end, isSelected) {\r\n\t\tif (start > end) {\r\n\t\t\tvar tmp = start;\r\n\t\t\tstart = end;\r\n\t\t\tend = tmp;\r\n\t\t}\r\n\r\n\t\tfor (var i = start; i <= end; i += 1) {\r\n\t\t\tvar topic = $('[component=\"category/topic\"]').eq(i);\r\n\t\t\ttoggleSelect(topic.find('[component=\"topic/select\"]'), isSelected);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getIndex(tid) {\r\n\t\treturn components.get('category/topic', 'tid', tid).index('[component=\"category/topic\"]');\r\n\t}\r\n\r\n\treturn TopicSelect;\r\n});\r\n","'use strict';\r\n\r\ndefine('categorySelector', ['benchpress', 'translator'], function (Benchpress, translator) {\r\n\tvar categorySelector = {};\r\n\tvar selectedCategory;\r\n\tvar el;\r\n\tcategorySelector.init = function (_el, callback) {\r\n\t\tcallback = callback || function () {};\r\n\t\tel = _el;\r\n\t\tselectedCategory = null;\r\n\t\tel.on('click', '[data-cid]', function () {\r\n\t\t\tvar categoryEl = $(this);\r\n\t\t\tcategorySelector.selectCategory(categoryEl.attr('data-cid'));\r\n\t\t\tcallback(selectedCategory);\r\n\t\t});\r\n\t};\r\n\r\n\tcategorySelector.getSelectedCategory = function () {\r\n\t\treturn selectedCategory;\r\n\t};\r\n\r\n\tcategorySelector.selectCategory = function (cid) {\r\n\t\tvar categoryEl = el.find('[data-cid=\"' + cid + '\"]');\r\n\t\tselectedCategory = {\r\n\t\t\tcid: cid,\r\n\t\t\tname: categoryEl.attr('data-name'),\r\n\t\t};\r\n\t\tel.find('[component=\"category-selector-selected\"]').html(categoryEl.find('[component=\"category-markup\"]').html());\r\n\t};\r\n\r\n\tcategorySelector.modal = function (categories, callback) {\r\n\t\tif (typeof categories === 'function') {\r\n\t\t\tcallback = categories;\r\n\t\t\tcategories = ajaxify.data.allCategories;\r\n\t\t}\r\n\t\tBenchpress.parse('admin/partials/categories/select-category', {\r\n\t\t\tcategories: categories,\r\n\t\t}, function (html) {\r\n\t\t\ttranslator.translate(html, function (html) {\r\n\t\t\t\tvar modal = bootbox.dialog({\r\n\t\t\t\t\ttitle: '[[modules:composer.select_category]]',\r\n\t\t\t\t\tmessage: html,\r\n\t\t\t\t\tbuttons: {\r\n\t\t\t\t\t\tsave: {\r\n\t\t\t\t\t\t\tlabel: '[[global:select]]',\r\n\t\t\t\t\t\t\tclassName: 'btn-primary',\r\n\t\t\t\t\t\t\tcallback: submit,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tcategorySelector.init(modal.find('[component=\"category-selector\"]'));\r\n\t\t\t\tfunction submit(ev) {\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tvar selectedCategory = categorySelector.getSelectedCategory();\r\n\t\t\t\t\tif (selectedCategory) {\r\n\t\t\t\t\t\tcallback(selectedCategory.cid);\r\n\t\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmodal.find('form').on('submit', submit);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\treturn categorySelector;\r\n});\r\n\r\n","'use strict';\r\n\r\n\r\ndefine('share', function () {\r\n\tvar module = {};\r\n\r\n\tmodule.addShareHandlers = function (name) {\r\n\t\tvar baseUrl = window.location.protocol + '//' + window.location.host;\r\n\r\n\t\tfunction openShare(url, urlToPost, width, height) {\r\n\t\t\twindow.open(url + encodeURIComponent(baseUrl + config.relative_path + urlToPost), '_blank', 'width=' + width + ',height=' + height + ',scrollbars=no,status=no');\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t$('#content').off('shown.bs.dropdown', '.share-dropdown').on('shown.bs.dropdown', '.share-dropdown', function () {\r\n\t\t\tvar postLink = $(this).find('.post-link');\r\n\t\t\tpostLink.val(baseUrl + getPostUrl($(this)));\r\n\r\n\t\t\t// without the setTimeout can't select the text in the input\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tpostLink.putCursorAtEnd().select();\r\n\t\t\t}, 50);\r\n\t\t});\r\n\r\n\t\taddHandler('.post-link', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\taddHandler('[component=\"share/twitter\"]', function () {\r\n\t\t\treturn openShare('https://twitter.com/intent/tweet?text=' + encodeURIComponent(name) + '&url=', getPostUrl($(this)), 550, 420);\r\n\t\t});\r\n\r\n\t\taddHandler('[component=\"share/facebook\"]', function () {\r\n\t\t\treturn openShare('https://www.facebook.com/sharer/sharer.php?u=', getPostUrl($(this)), 626, 436);\r\n\t\t});\r\n\r\n\t\taddHandler('[component=\"share/google\"]', function () {\r\n\t\t\treturn openShare('https://plus.google.com/share?url=', getPostUrl($(this)), 500, 570);\r\n\t\t});\r\n\r\n\t\t$(window).trigger('action:share.addHandlers', { openShare: openShare });\r\n\t};\r\n\r\n\tfunction addHandler(selector, callback) {\r\n\t\t$('#content').off('click', selector).on('click', selector, callback);\r\n\t}\r\n\r\n\tfunction getPostUrl(clickedElement) {\r\n\t\tvar pid = parseInt(clickedElement.parents('[data-pid]').attr('data-pid'), 10);\r\n\t\treturn '/post' + (pid ? '/' + (pid) : '');\r\n\t}\r\n\r\n\treturn module;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('search', ['navigator', 'translator', 'storage'], function (nav, translator, storage) {\r\n\tvar Search = {\r\n\t\tcurrent: {},\r\n\t};\r\n\r\n\tSearch.query = function (data, callback) {\r\n\t\tvar term = data.term;\r\n\r\n\t\t// Detect if a tid was specified\r\n\t\tvar topicSearch = term.match(/^in:topic-([\\d]+) /);\r\n\r\n\t\tif (!topicSearch) {\r\n\t\t\tterm = term.replace(/^[ ?#]*/, '');\r\n\r\n\t\t\ttry {\r\n\t\t\t\tterm = encodeURIComponent(term);\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn app.alertError('[[error:invalid-search-term]]');\r\n\t\t\t}\r\n\r\n\t\t\tajaxify.go('search?' + createQueryString(data));\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tvar cleanedTerm = term.replace(topicSearch[0], '');\r\n\t\t\tvar tid = topicSearch[1];\r\n\r\n\t\t\tif (cleanedTerm.length > 0) {\r\n\t\t\t\tSearch.queryTopic(tid, cleanedTerm, callback);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction createQueryString(data) {\r\n\t\tvar searchIn = data.in || 'titlesposts';\r\n\t\tvar postedBy = data.by || '';\r\n\t\tvar query = {\r\n\t\t\tterm: data.term,\r\n\t\t\tin: searchIn,\r\n\t\t};\r\n\r\n\t\tif (data.matchWords) {\r\n\t\t\tquery.matchWords = data.matchWords;\r\n\t\t}\r\n\r\n\t\tif (postedBy && (searchIn === 'posts' || searchIn === 'titles' || searchIn === 'titlesposts')) {\r\n\t\t\tquery.by = postedBy;\r\n\t\t}\r\n\r\n\t\tif (data.categories && data.categories.length) {\r\n\t\t\tquery.categories = data.categories;\r\n\t\t\tif (data.searchChildren) {\r\n\t\t\t\tquery.searchChildren = data.searchChildren;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (data.hasTags && data.hasTags.length) {\r\n\t\t\tquery.hasTags = data.hasTags;\r\n\t\t}\r\n\r\n\t\tif (parseInt(data.replies, 10) > 0) {\r\n\t\t\tquery.replies = data.replies;\r\n\t\t\tquery.repliesFilter = data.repliesFilter || 'atleast';\r\n\t\t}\r\n\r\n\t\tif (data.timeRange) {\r\n\t\t\tquery.timeRange = data.timeRange;\r\n\t\t\tquery.timeFilter = data.timeFilter || 'newer';\r\n\t\t}\r\n\r\n\t\tif (data.sortBy) {\r\n\t\t\tquery.sortBy = data.sortBy;\r\n\t\t\tquery.sortDirection = data.sortDirection;\r\n\t\t}\r\n\r\n\t\tif (data.showAs) {\r\n\t\t\tquery.showAs = data.showAs;\r\n\t\t}\r\n\r\n\t\t$(window).trigger('action:search.createQueryString', {\r\n\t\t\tquery: query,\r\n\t\t\tdata: data,\r\n\t\t});\r\n\r\n\t\treturn decodeURIComponent($.param(query));\r\n\t}\r\n\r\n\tSearch.getSearchPreferences = function () {\r\n\t\ttry {\r\n\t\t\treturn JSON.parse(storage.getItem('search-preferences') || '{}');\r\n\t\t} catch (e) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t};\r\n\r\n\tSearch.queryTopic = function (tid, term) {\r\n\t\tsocket.emit('topics.search', {\r\n\t\t\ttid: tid,\r\n\t\t\tterm: term,\r\n\t\t}, function (err, pids) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tif (Array.isArray(pids)) {\r\n\t\t\t\t// Sort pids numerically & store\r\n\t\t\t\tSearch.current = {\r\n\t\t\t\t\tresults: pids.sort(function (a, b) {\r\n\t\t\t\t\t\treturn a - b;\r\n\t\t\t\t\t}),\r\n\t\t\t\t\ttid: tid,\r\n\t\t\t\t\tterm: term,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tSearch.checkPagePresence(tid, function () {\r\n\t\t\t\t\tSearch.topicDOM.update(0);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tSearch.checkPagePresence = function (tid, callback) {\r\n\t\tif (parseInt(ajaxify.data.tid, 10) !== parseInt(tid, 10)) {\r\n\t\t\tajaxify.go('topic/' + tid, callback);\r\n\t\t} else {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t};\r\n\r\n\tSearch.topicDOM = {\r\n\t\tactive: false,\r\n\t};\r\n\r\n\tSearch.topicDOM.prev = function () {\r\n\t\tSearch.topicDOM.update((Search.current.index === 0) ? Search.current.results.length - 1 : Search.current.index - 1);\r\n\t};\r\n\r\n\tSearch.topicDOM.next = function () {\r\n\t\tSearch.topicDOM.update((Search.current.index === Search.current.results.length - 1) ? 0 : Search.current.index + 1);\r\n\t};\r\n\r\n\tSearch.topicDOM.update = function (index) {\r\n\t\tvar topicSearchEl = $('.topic-search');\r\n\t\tSearch.current.index = index;\r\n\r\n\t\tSearch.topicDOM.start();\r\n\r\n\t\tif (Search.current.results.length > 0) {\r\n\t\t\ttopicSearchEl.find('.count').html((index + 1) + ' / ' + Search.current.results.length);\r\n\t\t\ttopicSearchEl.find('.prev, .next').removeAttr('disabled');\r\n\t\t\tvar data = {\r\n\t\t\t\tpid: Search.current.results[index],\r\n\t\t\t\ttid: Search.current.tid,\r\n\t\t\t\ttopicPostSort: config.topicPostSort,\r\n\t\t\t};\r\n\t\t\tsocket.emit('posts.getPidIndex', data, function (err, postIndex) {\r\n\t\t\t\tif (err) {\r\n\t\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnav.scrollToIndex(postIndex, true);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\ttranslator.translate('[[search:no-matches]]', function (text) {\r\n\t\t\t\ttopicSearchEl.find('.count').html(text);\r\n\t\t\t});\r\n\t\t\ttopicSearchEl.removeClass('hidden').find('.prev, .next').attr('disabled', 'disabled');\r\n\t\t}\r\n\t};\r\n\r\n\tSearch.topicDOM.start = function () {\r\n\t\t$('.topic-search').removeClass('hidden');\r\n\t\tif (!Search.topicDOM.active) {\r\n\t\t\tSearch.topicDOM.active = true;\r\n\r\n\t\t\t// Bind to esc\r\n\t\t\trequire(['mousetrap'], function (mousetrap) {\r\n\t\t\t\tmousetrap.bind('esc', Search.topicDOM.end);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tSearch.topicDOM.end = function () {\r\n\t\t$('.topic-search').addClass('hidden').find('.prev, .next').attr('disabled', 'disabled');\r\n\t\tSearch.topicDOM.active = false;\r\n\r\n\t\t// Unbind esc\r\n\t\trequire(['mousetrap'], function (mousetrap) {\r\n\t\t\tmousetrap.unbind('esc', Search.topicDOM.end);\r\n\t\t});\r\n\t};\r\n\r\n\treturn Search;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('alerts', ['translator', 'components', 'benchpress'], function (translator, components, Benchpress) {\r\n\tvar module = {};\r\n\r\n\tmodule.alert = function (params) {\r\n\t\tparams.alert_id = 'alert_button_' + (params.alert_id ? params.alert_id : new Date().getTime());\r\n\t\tparams.title = params.title ? params.title.trim() || '' : '';\r\n\t\tparams.message = params.message ? params.message.trim() : '';\r\n\t\tparams.type = params.type || 'info';\r\n\r\n\t\tvar alert = $('#' + params.alert_id);\r\n\t\tif (alert.length) {\r\n\t\t\tupdateAlert(alert, params);\r\n\t\t} else {\r\n\t\t\tcreateNew(params);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction createNew(params) {\r\n\t\tBenchpress.parse('alert', params, function (alertTpl) {\r\n\t\t\ttranslator.translate(alertTpl, function (translatedHTML) {\r\n\t\t\t\tvar alert = $('#' + params.alert_id);\r\n\t\t\t\tif (alert.length) {\r\n\t\t\t\t\treturn updateAlert(alert, params);\r\n\t\t\t\t}\r\n\t\t\t\talert = $(translatedHTML);\r\n\t\t\t\talert.fadeIn(200);\r\n\r\n\t\t\t\tcomponents.get('toaster/tray').prepend(alert);\r\n\r\n\t\t\t\tif (typeof params.closefn === 'function') {\r\n\t\t\t\t\talert.find('button').on('click', function () {\r\n\t\t\t\t\t\tparams.closefn();\r\n\t\t\t\t\t\tfadeOut(alert);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (params.timeout) {\r\n\t\t\t\t\tstartTimeout(alert, params.timeout);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof params.clickfn === 'function') {\r\n\t\t\t\t\talert\r\n\t\t\t\t\t\t.addClass('pointer')\r\n\t\t\t\t\t\t.on('click', function (e) {\r\n\t\t\t\t\t\t\tif (!$(e.target).is('.close')) {\r\n\t\t\t\t\t\t\t\tparams.clickfn();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfadeOut(alert);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tmodule.remove = function (id) {\r\n\t\t$('#alert_button_' + id).remove();\r\n\t};\r\n\r\n\tfunction updateAlert(alert, params) {\r\n\t\talert.find('strong').html(params.title);\r\n\t\talert.find('p').html(params.message);\r\n\t\talert.attr('class', 'alert alert-dismissable alert-' + params.type + ' clearfix');\r\n\r\n\t\tclearTimeout(parseInt(alert.attr('timeoutId'), 10));\r\n\t\tif (params.timeout) {\r\n\t\t\tstartTimeout(alert, params.timeout);\r\n\t\t}\r\n\r\n\t\talert.children().fadeOut(100);\r\n\t\ttranslator.translate(alert.html(), function (translatedHTML) {\r\n\t\t\talert.children().fadeIn(100);\r\n\t\t\talert.html(translatedHTML);\r\n\t\t});\r\n\r\n\t\t// Handle changes in the clickfn\r\n\t\talert.off('click').removeClass('pointer');\r\n\t\tif (typeof params.clickfn === 'function') {\r\n\t\t\talert\r\n\t\t\t\t.addClass('pointer')\r\n\t\t\t\t.on('click', function (e) {\r\n\t\t\t\t\tif (!$(e.target).is('.close')) {\r\n\t\t\t\t\t\tparams.clickfn();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfadeOut(alert);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fadeOut(alert) {\r\n\t\talert.fadeOut(500, function () {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction startTimeout(alert, timeout) {\r\n\t\tvar timeoutId = setTimeout(function () {\r\n\t\t\tfadeOut(alert);\r\n\t\t}, timeout);\r\n\r\n\t\talert.attr('timeoutId', timeoutId);\r\n\r\n\t\t// Reset and start animation\r\n\t\talert.css('transition-property', 'none');\r\n\t\talert.removeClass('animate');\r\n\r\n\t\tsetTimeout(function () {\r\n\t\t\talert.css('transition-property', '');\r\n\t\t\talert.css('transition', 'width ' + (timeout + 450) + 'ms linear, background-color ' + (timeout + 450) + 'ms ease-in');\r\n\t\t\talert.addClass('animate');\r\n\t\t}, 50);\r\n\r\n\t\t// Handle mouseenter/mouseleave\r\n\t\talert\r\n\t\t\t.on('mouseenter', function () {\r\n\t\t\t\t$(this).css('transition-duration', 0);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn module;\r\n});\r\n","'use strict';\r\n\r\n\r\ndefine('taskbar', ['benchpress'], function (Benchpress) {\r\n\tvar taskbar = {};\r\n\r\n\ttaskbar.init = function () {\r\n\t\tvar self = this;\r\n\r\n\t\tBenchpress.parse('modules/taskbar', {}, function (html) {\r\n\t\t\tself.taskbar = $(html);\r\n\t\t\tself.tasklist = self.taskbar.find('ul');\r\n\t\t\t$(document.body).append(self.taskbar);\r\n\r\n\t\t\tself.taskbar.on('click', 'li', function () {\r\n\t\t\t\tvar\t$btn = $(this);\r\n\t\t\t\tvar module = $btn.attr('data-module');\r\n\t\t\t\tvar uuid = $btn.attr('data-uuid');\r\n\r\n\t\t\t\trequire([module], function (module) {\r\n\t\t\t\t\tif (!$btn.hasClass('active')) {\r\n\t\t\t\t\t\tminimizeAll();\r\n\t\t\t\t\t\tmodule.load(uuid);\r\n\t\t\t\t\t\ttaskbar.toggleNew(uuid, false);\r\n\t\t\t\t\t\tapp.alternatingTitle('');\r\n\r\n\t\t\t\t\t\ttaskbar.tasklist.removeClass('active');\r\n\t\t\t\t\t\t$btn.addClass('active');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmodule.minimize(uuid);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\ttaskbar.discard = function (module, uuid) {\r\n\t\tvar btnEl = taskbar.tasklist.find('[data-module=\"' + module + '\"][data-uuid=\"' + uuid + '\"]');\r\n\t\tbtnEl.remove();\r\n\r\n\t\tupdate();\r\n\t};\r\n\r\n\ttaskbar.push = function (module, uuid, options) {\r\n\t\tvar element = taskbar.tasklist.find('li[data-uuid=\"' + uuid + '\"]');\r\n\r\n\t\tvar data = {\r\n\t\t\tmodule: module,\r\n\t\t\tuuid: uuid,\r\n\t\t\toptions: options,\r\n\t\t\telement: element,\r\n\t\t};\r\n\r\n\t\t$(window).trigger('filter:taskbar.push', data);\r\n\r\n\t\tif (!element.length && data.module) {\r\n\t\t\tcreateTaskbar(data);\r\n\t\t}\r\n\t};\r\n\r\n\ttaskbar.get = function (module) {\r\n\t\tvar items = $('[data-module=\"' + module + '\"]').map(function (idx, el) {\r\n\t\t\treturn $(el).data();\r\n\t\t});\r\n\r\n\t\treturn items;\r\n\t};\r\n\r\n\ttaskbar.minimize = function (module, uuid) {\r\n\t\tvar btnEl = taskbar.tasklist.find('[data-module=\"' + module + '\"][data-uuid=\"' + uuid + '\"]');\r\n\t\tbtnEl.toggleClass('active', false);\r\n\t};\r\n\r\n\ttaskbar.toggleNew = function (uuid, state, silent) {\r\n\t\tvar btnEl = taskbar.tasklist.find('[data-uuid=\"' + uuid + '\"]');\r\n\t\tbtnEl.toggleClass('new', state);\r\n\r\n\t\tif (!silent) {\r\n\t\t\t$(window).trigger('action:taskbar.toggleNew', uuid);\r\n\t\t}\r\n\t};\r\n\r\n\ttaskbar.updateActive = function (uuid) {\r\n\t\tvar\ttasks = taskbar.tasklist.find('li');\r\n\t\ttasks.removeClass('active');\r\n\t\ttasks.filter('[data-uuid=\"' + uuid + '\"]').addClass('active');\r\n\t};\r\n\r\n\ttaskbar.isActive = function (uuid) {\r\n\t\tvar taskBtn = taskbar.tasklist.find('li[data-uuid=\"' + uuid + '\"]');\r\n\t\treturn taskBtn.hasClass('active');\r\n\t};\r\n\r\n\tfunction update() {\r\n\t\tvar\ttasks = taskbar.tasklist.find('li');\r\n\r\n\t\tif (tasks.length > 0) {\r\n\t\t\ttaskbar.taskbar.attr('data-active', '1');\r\n\t\t} else {\r\n\t\t\ttaskbar.taskbar.removeAttr('data-active');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction minimizeAll() {\r\n\t\ttaskbar.tasklist.find('.active').removeClass('active');\r\n\t}\r\n\r\n\tfunction createTaskbar(data) {\r\n\t\tvar title = $('<div></div>').text(data.options.title || 'NodeBB Task').html();\r\n\r\n\t\tvar\ttaskbarEl = $('<li />')\r\n\t\t\t.addClass(data.options.className)\r\n\t\t\t.html('<a href=\"#\">' +\r\n\t\t\t\t(data.options.icon ? '<i class=\"fa ' + data.options.icon + '\"></i> ' : '') +\r\n\t\t\t\t(data.options.image ? '<img src=\"' + data.options.image + '\"/> ' : '') +\r\n\t\t\t\t'<span component=\"taskbar/title\">' + title + '</span>' +\r\n\t\t\t\t'</a>')\r\n\t\t\t.attr({\r\n\t\t\t\t'data-module': data.module,\r\n\t\t\t\t'data-uuid': data.uuid,\r\n\t\t\t})\r\n\t\t\t.addClass(data.options.state !== undefined ? data.options.state : 'active');\r\n\r\n\t\tif (!data.options.state || data.options.state === 'active') {\r\n\t\t\tminimizeAll();\r\n\t\t}\r\n\r\n\t\ttaskbar.tasklist.append(taskbarEl);\r\n\t\tupdate();\r\n\r\n\t\tdata.element = taskbarEl;\r\n\r\n\t\ttaskbarEl.data(data);\r\n\t\t$(window).trigger('action:taskbar.pushed', data);\r\n\t}\r\n\r\n\ttaskbar.updateTitle = function (module, uuid, newTitle) {\r\n\t\ttaskbar.tasklist.find('[data-module=\"' + module + '\"][data-uuid=\"' + uuid + '\"] [component=\"taskbar/title\"]').text(newTitle);\r\n\t};\r\n\r\n\treturn taskbar;\r\n});\r\n","'use strict';\r\n\r\n(function (factory) {\r\n\tif (typeof module === 'object' && module.exports) {\r\n\t\tvar relative_path = require('nconf').get('relative_path');\r\n\t\tmodule.exports = factory(require('../utils'), require('benchpressjs'), relative_path);\r\n\t} else if (typeof define === 'function' && define.amd) {\r\n\t\tdefine('helpers', ['benchpress'], function (Benchpress) {\r\n\t\t\treturn factory(utils, Benchpress, config.relative_path);\r\n\t\t});\r\n\t}\r\n}(function (utils, Benchpress, relative_path) {\r\n\tvar helpers = {\r\n\t\tdisplayMenuItem: displayMenuItem,\r\n\t\tbuildMetaTag: buildMetaTag,\r\n\t\tbuildLinkTag: buildLinkTag,\r\n\t\tstringify: stringify,\r\n\t\tescape: escape,\r\n\t\tstripTags: stripTags,\r\n\t\tgenerateCategoryBackground: generateCategoryBackground,\r\n\t\tgenerateChildrenCategories: generateChildrenCategories,\r\n\t\tgenerateTopicClass: generateTopicClass,\r\n\t\tdisplayUserSearch: displayUserSearch,\r\n\t\tmembershipBtn: membershipBtn,\r\n\t\tspawnPrivilegeStates: spawnPrivilegeStates,\r\n\t\tlocaleToHTML: localeToHTML,\r\n\t\trenderTopicImage: renderTopicImage,\r\n\t\trenderDigestAvatar: renderDigestAvatar,\r\n\t\tuserAgentIcons: userAgentIcons,\r\n\t\tregister: register,\r\n\t\t__escape: identity,\r\n\t};\r\n\r\n\tfunction identity(str) {\r\n\t\treturn str;\r\n\t}\r\n\r\n\tfunction displayMenuItem(data, index) {\r\n\t\tvar item = data.navigation[index];\r\n\t\tif (!item) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tvar properties = item.properties;\r\n\t\tvar loggedIn = data.config ? data.config.loggedIn : false;\r\n\t\tif (properties) {\r\n\t\t\tif ((properties.loggedIn && !loggedIn) ||\r\n\t\t\t\t(properties.guestOnly && loggedIn) ||\r\n\t\t\t\t(properties.globalMod && !data.isGlobalMod && !data.isAdmin) ||\r\n\t\t\t\t(properties.adminOnly && !data.isAdmin)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (item.route.match('/users') && data.privateUserInfo && !loggedIn) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (item.route.match('/tags') && data.privateTagListing && !loggedIn) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction buildMetaTag(tag) {\r\n\t\tvar name = tag.name ? 'name=\"' + tag.name + '\" ' : '';\r\n\t\tvar property = tag.property ? 'property=\"' + tag.property + '\" ' : '';\r\n\t\tvar content = tag.content ? 'content=\"' + tag.content.replace(/\\n/g, ' ') + '\" ' : '';\r\n\r\n\t\treturn '<meta ' + name + property + content + '/>\\n\\t';\r\n\t}\r\n\r\n\tfunction buildLinkTag(tag) {\r\n\t\tvar link = tag.link ? 'link=\"' + tag.link + '\" ' : '';\r\n\t\tvar rel = tag.rel ? 'rel=\"' + tag.rel + '\" ' : '';\r\n\t\tvar type = tag.type ? 'type=\"' + tag.type + '\" ' : '';\r\n\t\tvar href = tag.href ? 'href=\"' + tag.href + '\" ' : '';\r\n\t\tvar sizes = tag.sizes ? 'sizes=\"' + tag.sizes + '\" ' : '';\r\n\t\tvar title = tag.title ? 'title=\"' + tag.title + '\" ' : '';\r\n\r\n\t\treturn '<link ' + link + rel + type + sizes + title + href + '/>\\n\\t';\r\n\t}\r\n\r\n\tfunction stringify(obj) {\r\n\t\t// Turns the incoming object into a JSON string\r\n\t\treturn JSON.stringify(obj).replace(/&/gm, '&amp;').replace(/</gm, '&lt;').replace(/>/gm, '&gt;').replace(/\"/g, '&quot;');\r\n\t}\r\n\r\n\tfunction escape(str) {\r\n\t\treturn utils.escapeHTML(str);\r\n\t}\r\n\r\n\tfunction stripTags(str) {\r\n\t\treturn utils.stripHTMLTags(str);\r\n\t}\r\n\r\n\tfunction generateCategoryBackground(category) {\r\n\t\tif (!category) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tvar style = [];\r\n\r\n\t\tif (category.bgColor) {\r\n\t\t\tstyle.push('background-color: ' + category.bgColor);\r\n\t\t}\r\n\r\n\t\tif (category.color) {\r\n\t\t\tstyle.push('color: ' + category.color);\r\n\t\t}\r\n\r\n\t\tif (category.backgroundImage) {\r\n\t\t\tstyle.push('background-image: url(' + category.backgroundImage + ')');\r\n\t\t\tif (category.imageClass) {\r\n\t\t\t\tstyle.push('background-size: ' + category.imageClass);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn style.join('; ') + ';';\r\n\t}\r\n\r\n\tfunction generateChildrenCategories(category) {\r\n\t\tvar html = '';\r\n\t\tif (!category || !category.children || !category.children.length) {\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\tcategory.children.forEach(function (child) {\r\n\t\t\tif (child && !child.isSection) {\r\n\t\t\t\tvar link = child.link ? child.link : (relative_path + '/category/' + child.slug);\r\n\t\t\t\thtml += '<span class=\"category-children-item pull-left\">' +\r\n\t\t\t\t\t'<div class=\"icon pull-left\" style=\"' + generateCategoryBackground(child) + '\">' +\r\n\t\t\t\t\t'<i class=\"fa fa-fw ' + child.icon + '\"></i>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<a href=\"' + link + '\"><small>' + child.name + '</small></a></span>';\r\n\t\t\t}\r\n\t\t});\r\n\t\thtml = html ? ('<span class=\"category-children\">' + html + '</span>') : html;\r\n\t\treturn html;\r\n\t}\r\n\r\n\tfunction generateTopicClass(topic) {\r\n\t\tvar style = [];\r\n\r\n\t\tif (topic.locked) {\r\n\t\t\tstyle.push('locked');\r\n\t\t}\r\n\r\n\t\tif (topic.pinned) {\r\n\t\t\tstyle.push('pinned');\r\n\t\t}\r\n\r\n\t\tif (topic.deleted) {\r\n\t\t\tstyle.push('deleted');\r\n\t\t}\r\n\r\n\t\tif (topic.unread) {\r\n\t\t\tstyle.push('unread');\r\n\t\t}\r\n\r\n\t\treturn style.join(' ');\r\n\t}\r\n\r\n\tfunction displayUserSearch(data, allowGuestUserSearching) {\r\n\t\treturn data.loggedIn || allowGuestUserSearching === 'true';\r\n\t}\r\n\r\n\t// Groups helpers\r\n\tfunction membershipBtn(groupObj) {\r\n\t\tif (groupObj.isMember && groupObj.name !== 'administrators') {\r\n\t\t\treturn '<button class=\"btn btn-danger\" data-action=\"leave\" data-group=\"' + groupObj.displayName + '\"><i class=\"fa fa-times\"></i> [[groups:membership.leave-group]]</button>';\r\n\t\t}\r\n\r\n\t\tif (groupObj.isPending && groupObj.name !== 'administrators') {\r\n\t\t\treturn '<button class=\"btn btn-warning disabled\"><i class=\"fa fa-clock-o\"></i> [[groups:membership.invitation-pending]]</button>';\r\n\t\t} else if (groupObj.isInvited) {\r\n\t\t\treturn '<button class=\"btn btn-link\" data-action=\"rejectInvite\" data-group=\"' + groupObj.displayName + '\">[[groups:membership.reject]]</button><button class=\"btn btn-success\" data-action=\"acceptInvite\" data-group=\"' + groupObj.name + '\"><i class=\"fa fa-plus\"></i> [[groups:membership.accept-invitation]]</button>';\r\n\t\t} else if (!groupObj.disableJoinRequests && groupObj.name !== 'administrators') {\r\n\t\t\treturn '<button class=\"btn btn-success\" data-action=\"join\" data-group=\"' + groupObj.displayName + '\"><i class=\"fa fa-plus\"></i> [[groups:membership.join-group]]</button>';\r\n\t\t}\r\n\t\treturn '';\r\n\t}\r\n\r\n\tfunction spawnPrivilegeStates(member, privileges) {\r\n\t\tvar states = [];\r\n\t\tfor (var priv in privileges) {\r\n\t\t\tif (privileges.hasOwnProperty(priv)) {\r\n\t\t\t\tstates.push({\r\n\t\t\t\t\tname: priv,\r\n\t\t\t\t\tstate: privileges[priv],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn states.map(function (priv) {\r\n\t\t\treturn '<td class=\"text-center\" data-privilege=\"' + priv.name + '\"><input type=\"checkbox\"' + (priv.state ? ' checked' : '') + (member === 'guests' && priv.name === 'groups:moderate' ? ' disabled=\"disabled\"' : '') + ' /></td>';\r\n\t\t}).join('');\r\n\t}\r\n\r\n\tfunction localeToHTML(locale, fallback) {\r\n\t\tlocale = locale || fallback || 'en-GB';\r\n\t\treturn locale.replace('_', '-');\r\n\t}\r\n\r\n\tfunction renderTopicImage(topicObj) {\r\n\t\tif (topicObj.thumb) {\r\n\t\t\treturn '<img src=\"' + topicObj.thumb + '\" class=\"img-circle user-img\" title=\"' + topicObj.user.username + '\" />';\r\n\t\t}\r\n\t\treturn '<img component=\"user/picture\" data-uid=\"' + topicObj.user.uid + '\" src=\"' + topicObj.user.picture + '\" class=\"user-img\" title=\"' + topicObj.user.username + '\" />';\r\n\t}\r\n\r\n\tfunction renderDigestAvatar(block) {\r\n\t\tif (block.teaser) {\r\n\t\t\tif (block.teaser.user.picture) {\r\n\t\t\t\treturn '<img style=\"vertical-align: middle; width: 16px; height: 16px; padding-right: 8px;\" src=\"' + block.teaser.user.picture + '\" title=\"' + block.teaser.user.username + '\" />';\r\n\t\t\t}\r\n\t\t\treturn '<div style=\"vertical-align: middle; width: 16px; height: 16px; line-height: 16px; font-size: 10px; margin-right: 8px; background-color: ' + block.teaser.user['icon:bgColor'] + '; color: white; text-align: center; display: inline-block;\">' + block.teaser.user['icon:text'] + '</div>';\r\n\t\t}\r\n\t\tif (block.user.picture) {\r\n\t\t\treturn '<img style=\"vertical-align: middle; width: 16px; height: 16px; padding-right: 8px;\" src=\"' + block.user.picture + '\" title=\"' + block.user.username + '\" />';\r\n\t\t}\r\n\t\treturn '<div style=\"vertical-align: middle; width: 16px; height: 16px; line-height: 16px; font-size: 10px; margin-right: 8px; background-color: ' + block.user['icon:bgColor'] + '; color: white; text-align: center; display: inline-block;\">' + block.user['icon:text'] + '</div>';\r\n\t}\r\n\r\n\tfunction userAgentIcons(data) {\r\n\t\tvar icons = '';\r\n\r\n\t\tswitch (data.platform) {\r\n\t\tcase 'Linux':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-linux\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'Microsoft Windows':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-windows\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'Apple Mac':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-apple\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'Android':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-android\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'iPad':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-tablet\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'iPod':\t// intentional fall-through\r\n\t\tcase 'iPhone':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-mobile\"></i>';\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-question-circle\"></i>';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tswitch (data.browser) {\r\n\t\tcase 'Chrome':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-chrome\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'Firefox':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-firefox\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'Safari':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-safari\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'IE':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-internet-explorer\"></i>';\r\n\t\t\tbreak;\r\n\t\tcase 'Edge':\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-edge\"></i>';\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\ticons += '<i class=\"fa fa-fw fa-question-circle\"></i>';\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn icons;\r\n\t}\r\n\r\n\tfunction register() {\r\n\t\tObject.keys(helpers).forEach(function (helperName) {\r\n\t\t\tBenchpress.registerHelper(helperName, helpers[helperName]);\r\n\t\t});\r\n\t}\r\n\r\n\treturn helpers;\r\n}));\r\n","'use strict';\r\n\r\n\r\ndefine('flags', ['benchpress'], function (Benchpress) {\r\n\tvar Flag = {};\r\n\tvar flagModal;\r\n\tvar flagCommit;\r\n\tvar flagReason;\r\n\r\n\tFlag.showFlagModal = function (data) {\r\n\t\tparseModal(data, function (html) {\r\n\t\t\tflagModal = $(html);\r\n\r\n\t\t\tflagModal.on('hidden.bs.modal', function () {\r\n\t\t\t\tflagModal.remove();\r\n\t\t\t});\r\n\r\n\t\t\tflagCommit = flagModal.find('#flag-post-commit');\r\n\t\t\tflagReason = flagModal.find('#flag-reason-custom');\r\n\r\n\t\t\t// Quick-report buttons\r\n\t\t\tflagModal.on('click', '.flag-reason', function () {\r\n\t\t\t\tvar reportText = $(this).text();\r\n\r\n\t\t\t\tif (flagReason.val().length === 0) {\r\n\t\t\t\t\treturn createFlag(data.type, data.id, reportText);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Custom reason has text, confirm submission\r\n\t\t\t\tbootbox.confirm({\r\n\t\t\t\t\ttitle: '[[flags:modal-submit-confirm]]',\r\n\t\t\t\t\tmessage: '<p>[[flags:modal-submit-confirm-text]]</p><p class=\"help-block\">[[flags:modal-submit-confirm-text-help]]</p>',\r\n\t\t\t\t\tcallback: function (result) {\r\n\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\tcreateFlag(data.type, data.id, reportText);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t// Custom reason report submission\r\n\t\t\tflagCommit.on('click', function () {\r\n\t\t\t\tcreateFlag(data.type, data.id, flagModal.find('#flag-reason-custom').val());\r\n\t\t\t});\r\n\r\n\t\t\tflagModal.on('click', '.toggle-custom', function () {\r\n\t\t\t\tflagReason.prop('disabled', false);\r\n\t\t\t\tflagReason.focus();\r\n\t\t\t});\r\n\r\n\t\t\tflagModal.modal('show');\r\n\r\n\t\t\tflagModal.find('#flag-reason-custom').on('keyup blur change', checkFlagButtonEnable);\r\n\t\t});\r\n\t};\r\n\r\n\tfunction parseModal(tplData, callback) {\r\n\t\tBenchpress.parse('partials/modals/flag_modal', tplData, function (html) {\r\n\t\t\trequire(['translator'], function (translator) {\r\n\t\t\t\ttranslator.translate(html, callback);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tfunction createFlag(type, id, reason) {\r\n\t\tif (!type || !id || !reason) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsocket.emit('flags.create', { type: type, id: id, reason: reason }, function (err) {\r\n\t\t\tif (err) {\r\n\t\t\t\treturn app.alertError(err.message);\r\n\t\t\t}\r\n\r\n\t\t\tflagModal.modal('hide');\r\n\t\t\tapp.alertSuccess('[[flags:modal-submit-success]]');\r\n\t\t});\r\n\t}\r\n\r\n\tfunction checkFlagButtonEnable() {\r\n\t\tif (flagModal.find('#flag-reason-custom').val()) {\r\n\t\t\tflagCommit.removeAttr('disabled');\r\n\t\t} else {\r\n\t\t\tflagCommit.attr('disabled', true);\r\n\t\t}\r\n\t}\r\n\r\n\treturn Flag;\r\n});\r\n","'use strict';\r\n\r\n/**\r\n * Checks localStorage and provides a fallback if it doesn't exist or is disabled\r\n */\r\ndefine('storage', function () {\r\n\tfunction Storage() {\r\n\t\tthis._store = {};\r\n\t\tthis._keys = [];\r\n\t}\r\n\tStorage.prototype.isMock = true;\r\n\tStorage.prototype.setItem = function (key, val) {\r\n\t\tkey = String(key);\r\n\t\tif (this._keys.indexOf(key) === -1) {\r\n\t\t\tthis._keys.push(key);\r\n\t\t}\r\n\t\tthis._store[key] = val;\r\n\t};\r\n\tStorage.prototype.getItem = function (key) {\r\n\t\tkey = String(key);\r\n\t\tif (this._keys.indexOf(key) === -1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn this._store[key];\r\n\t};\r\n\tStorage.prototype.removeItem = function (key) {\r\n\t\tkey = String(key);\r\n\t\tthis._keys = this._keys.filter(function (x) {\r\n\t\t\treturn x !== key;\r\n\t\t});\r\n\t\tthis._store[key] = null;\r\n\t};\r\n\tStorage.prototype.clear = function () {\r\n\t\tthis._keys = [];\r\n\t\tthis._store = {};\r\n\t};\r\n\tStorage.prototype.key = function (n) {\r\n\t\tn = parseInt(n, 10) || 0;\r\n\t\treturn this._keys[n];\r\n\t};\r\n\tif (Object.defineProperty) {\r\n\t\tObject.defineProperty(Storage.prototype, 'length', {\r\n\t\t\tget: function () {\r\n\t\t\t\treturn this._keys.length;\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tvar storage;\r\n\tvar item = Date.now().toString();\r\n\r\n\ttry {\r\n\t\tstorage = window.localStorage;\r\n\t\tstorage.setItem(item, item);\r\n\t\tif (storage.getItem(item) !== item) {\r\n\t\t\tthrow Error('localStorage behaved unexpectedly');\r\n\t\t}\r\n\t\tstorage.removeItem(item);\r\n\r\n\t\treturn storage;\r\n\t} catch (e) {\r\n\t\tconsole.warn(e);\r\n\t\tconsole.warn('localStorage failed, falling back on sessionStorage');\r\n\r\n\t\t// see if sessionStorage works, and if so, return that\r\n\t\ttry {\r\n\t\t\tstorage = window.sessionStorage;\r\n\t\t\tstorage.setItem(item, item);\r\n\t\t\tif (storage.getItem(item) !== item) {\r\n\t\t\t\tthrow Error('sessionStorage behaved unexpectedly');\r\n\t\t\t}\r\n\t\t\tstorage.removeItem(item);\r\n\r\n\t\t\treturn storage;\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn(e);\r\n\t\t\tconsole.warn('sessionStorage failed, falling back on memory storage');\r\n\r\n\t\t\t// return an object implementing mock methods\r\n\t\t\treturn new Storage();\r\n\t\t}\r\n\t}\r\n});\r\n","\"use strict\";\r\n\r\n(function() {\r\n\r\n}());","'use strict';\n\n/* globals config, ajaxify */\n\n$(document).ready(function() {\n\t// Load drafts if they were open\n\ttry {\n\t\tvar available = localStorage.getItem('drafts:available');\n\t\tvar open = localStorage.getItem('drafts:open');\n\t\tavailable = JSON.parse(available) || [];\n\t\topen = JSON.parse(open) || [];\n\t} catch (e) {\n\t\tconsole.warn('[composer/drafts] Could not read list of open/available drafts');\n\t\tavailable = [];\n\t\topen = [];\n\t}\n\n\tif (available.length && app.user && app.user.uid !== 0) {\n\t\trequire(['composer', 'composer/drafts'], function (composer, drafts) {\n\t\t\t// Deconstruct each save_id and open up composer\n\t\t\tavailable.forEach(function (save_id) {\n\t\t\t\tif (!save_id) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar saveObj = save_id.split(':');\n\t\t\t\tvar uid = saveObj[1];\n\t\t\t\tvar type = saveObj[2];\n\t\t\t\tvar id = saveObj[3];\n\t\t\t\tvar content = drafts.getDraft(save_id);\n\n\t\t\t\t// If draft is already open, do nothing\n\t\t\t\tif (open.indexOf(save_id) !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!content || !content.length || parseInt(app.user.uid, 10) !== parseInt(uid, 10)) {\n\t\t\t\t\t// Empty content, remove from list of open drafts\n\t\t\t\t\tdrafts.updateVisibility('available', save_id);\n\t\t\t\t\tdrafts.updateVisibility('open', save_id);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (type === 'cid') {\n\t\t\t\t\tcomposer.newTopic({\n\t\t\t\t\t\tcid: id,\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tbody: content,\n\t\t\t\t\t\ttags: [],\n\t\t\t\t\t});\n\t\t\t\t} else if (type === 'tid') {\n\t\t\t\t\tsocket.emit('topics.getTopic', id, function (err, topicObj) {\n\t\t\t\t\t\tcomposer.newReply(id, undefined, topicObj.title, content);\n\t\t\t\t\t});\n\t\t\t\t} else if (type === 'pid') {\n\t\t\t\t\tcomposer.editPost(id);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\trequire(['composer/drafts'], function (drafts) {\n\t\t$(window).on('unload', function (e) {\n\t\t\t// Update visibility on all open composers\n\t\t\ttry {\n\t\t\t\tvar open = localStorage.getItem('drafts:open');\n\t\t\t\topen = JSON.parse(open) || [];\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('[composer/drafts] Could not read list of open/available drafts');\n\t\t\t\topen = [];\n\t\t\t}\n\n\t\t\topen.forEach(function (save_id) {\n\t\t\t\tdrafts.updateVisibility('open', save_id);\n\t\t\t});\n\t\t});\n\t});\n\n\t$(window).on('action:composer.topic.new', function(ev, data) {\n\t\tif (config['composer-default'].composeRouteEnabled !== 'on') {\n\t\t\trequire(['composer'], function(composer) {\n\t\t\t\tcomposer.newTopic({\n\t\t\t\t\tcid: data.cid,\n\t\t\t\t\ttitle: data.title || '',\n\t\t\t\t\tbody: data.body || '',\n\t\t\t\t\ttags: data.tags || []\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tajaxify.go(\n\t\t\t\t'compose?cid=' + data.cid +\n\t\t\t\t(data.title ? '&title=' + encodeURIComponent(data.title) : '') +\n\t\t\t\t(data.body ? '&body=' + encodeURIComponent(data.body) : '')\n\t\t\t);\n\t\t}\n\t});\n\n\t$(window).on('action:composer.post.edit', function(ev, data) {\n\t\tif (config['composer-default'].composeRouteEnabled !== 'on') {\n\t\t\trequire(['composer'], function(composer) {\n\t\t\t\tcomposer.editPost(data.pid);\n\t\t\t});\n\t\t} else {\n\t\t\tajaxify.go('compose?pid=' + data.pid);\n\t\t}\n\t});\n\n\t$(window).on('action:composer.post.new', function(ev, data) {\n\t\tif (config['composer-default'].composeRouteEnabled !== 'on') {\n\t\t\trequire(['composer'], function(composer) {\n\t\t\t\tcomposer.newReply(data.tid, data.pid, data.topicName, data.text);\n\t\t\t});\n\t\t} else {\n\t\t\tajaxify.go(\n\t\t\t\t'compose?tid=' + data.tid +\n\t\t\t\t(data.pid ? '&toPid=' + data.pid : '') +\n\t\t\t\t(data.topicName ? '&title=' + encodeURIComponent(data.topicName) : '') +\n\t\t\t\t(data.text ? '&body=' + encodeURIComponent(data.text) : '')\n\t\t\t);\n\t\t}\n\t});\n\n\t$(window).on('action:composer.addQuote', function(ev, data) {\n\t\tif (config['composer-default'].composeRouteEnabled !== 'on') {\n\t\t\trequire(['composer'], function(composer) {\n\t\t\t\tvar topicUUID = composer.findByTid(data.tid);\n\t\t\t\tcomposer.addQuote(data.tid, data.pid, data.selectedPid, data.topicName, data.username, data.text, topicUUID);\n\t\t\t});\n\t\t} else {\n\t\t\tajaxify.go('compose?tid=' + data.tid + '&toPid=' + data.pid + '&quoted=1&username=' + data.username);\n\t\t}\n\t});\n\n\t$(window).on('action:composer.enhance', function(ev, data) {\n\t\trequire(['composer'], function(composer) {\n\t\t\tcomposer.enhance(data.container);\n\t\t});\n\t});\n\n});","/*!\n* screenfull\n* v3.0.0 - 2015-11-24\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\t\tvar valLength;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0, valLength = val.length; i < valLength; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t// Browser sniffing, since the alternative with\n\t\t\t// setTimeout is even worse.\n\t\t\tif (/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\t\telem[request]();\n\t\t\t} else {\n\t\t\t\telem[request](keyboardAllowed && Element.ALLOW_KEYBOARD_INPUT);\n\t\t\t}\n\t\t},\n\t\texit: function () {\n\t\t\tdocument[fn.exitFullscreen]();\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\tif (this.isFullscreen) {\n\t\t\t\tthis.exit();\n\t\t\t} else {\n\t\t\t\tthis.request(elem);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","\"use strict\";\n\n/*globals ajaxify, config, utils, app, socket, NProgress*/\n\n$(document).ready(function() {\n\tsetupNProgress();\n\tsetupTaskbar();\n\tsetupEditedByIcon();\n\tsetupMobileMenu();\n\tsetupQuickReply();\n\tconfigureNavbarHiding();\n\n\t$(window).on('resize', utils.debounce(configureNavbarHiding, 200));\n\n\tfunction configureNavbarHiding () {\n\t\tvar navbarEl = $(\".navbar-fixed-top\");\n\t\tnavbarEl.autoHidingNavbar('destroy');\n\t\tnavbarEl.css('top', '');\n\n\t\tvar env = utils.findBootstrapEnvironment();\n\t\tif (env === 'xs' || env ==='sm') {\n\t\t\tnavbarEl.autoHidingNavbar({\n\t\t\t\tshowOnBottom: false,\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction setupNProgress() {\n\t\t$(window).on('action:ajaxify.start', function() {\n\t\t\tNProgress.set(0.7);\n\t\t});\n\n\t\t$(window).on('action:ajaxify.end', function(ev, data) {\n\t\t\tNProgress.done();\n\t\t\tsetupHoverCards();\n\n\t\t\tif (data.url && data.url.match('user/')) {\n\t\t\t\tsetupFavouriteButtonOnProfile();\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction setupTaskbar() {\n\t\t$(window).on('filter:taskbar.push', function(ev, data) {\n\t\t\tdata.options.className = 'taskbar-' + data.module;\n\n\t\t\tif (data.module === 'composer') {\n\t\t\t\tdata.options.icon = 'fa-commenting-o';\n\t\t\t} else if (data.module === 'chat') {\n\t\t\t\tif (!data.element.length) {\n\t\t\t\t\tcreateChatIcon(data);\n\t\t\t\t\t$(window).one('action:taskbar.pushed', function(ev, data) {\n\t\t\t\t\t\tupdateChatCount(data.element);\n\t\t\t\t\t});\n\n\t\t\t\t} else if (!data.element.hasClass('active')) {\n\t\t\t\t\tupdateChatCount(data.element);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsocket.on('event:chats.markedAsRead', function(data) {\n\t\t\t$('#taskbar [data-roomId=\"' + data.roomId + '\"]')\n\t\t\t\t.removeClass('new')\n\t\t\t\t.attr('data-content', 0);\n\t\t});\n\n\t\tfunction createChatIcon(data) {\n\t\t\t$.getJSON(config.relative_path + '/api/user/' + app.user.userslug + '/chats/' + data.options.roomId, function(chatObj) {\n\t\t\t\tvar el = $('#taskbar [data-uuid=\"' + data.uuid + '\"] a');\n\t\t\t\tel.parent('[data-uuid]').attr('data-roomId', data.options.roomId);\n\n\t\t\t\tif (chatObj.users.length === 1) {\n\t\t\t\t\tvar user = chatObj.users[0];\n\t\t\t\t\tel.find('i').remove();\n\n\t\t\t\t\tif (user.picture) {\n\t\t\t\t\t\tel.css('background-image', 'url(' + user.picture + ')');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel\t.css('background-color', user['icon:bgColor'])\n\t\t\t\t\t\t\t.text(user['icon:text'])\n\t\t\t\t\t\t\t.addClass('user-icon');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction updateChatCount(el) {\n\t\t\tvar count = (parseInt($(el).attr('data-content'), 10) || 0) + 1;\n\t\t\t$(el).attr('data-content', count);\n\t\t}\n\t}\n\n\tfunction setupEditedByIcon() {\n\t\tfunction activateEditedTooltips() {\n\t\t\t$('[data-pid] [component=\"post/editor\"]').each(function() {\n\t\t\t\tvar el = $(this), icon;\n\n\t\t\t\tif (!el.attr('data-editor')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ticon = el.closest('[data-pid]').find('.edit-icon').first();\n\t\t\t\ticon.prop('title', el.text()).tooltip('fixTitle').removeClass('hidden');\n\t\t\t});\n\t\t}\n\n\t\t$(window).on('action:posts.edited', function(ev, data) {\n\t\t\tvar parent = $('[data-pid=\"' + data.post.pid + '\"]');\n\t\t\tvar icon = parent.find('.edit-icon').filter(function (index, el) {\n\t\t\t\treturn parseInt($(el).closest('[data-pid]').attr('data-pid'), 10) === parseInt(data.post.pid, 10);\n\t\t\t});\n\t\t\tvar el = parent.find('[component=\"post/editor\"]').first();\n\t\t\ticon.prop('title', el.text()).tooltip('fixTitle').removeClass('hidden');\n\t\t});\n\n\t\t$(window).on('action:topic.loaded', activateEditedTooltips);\n\t\t$(window).on('action:posts.loaded', activateEditedTooltips);\n\t}\n\n\tfunction setupMobileMenu() {\n\t\tif (!window.addEventListener) {\n\t\t\treturn;\n\t\t}\n\n\n\t\trequire(['pulling', 'storage'], function (Pulling, Storage) {\n\t\t\t// initialization\n\n\t\t\tvar chatMenuVisible = !config.disableChat && app.user && parseInt(app.user.uid, 10);\n\t\t\tvar swapped = !!Storage.getItem('persona:menus:legacy-layout');\n\t\t\tvar margin = window.innerWidth;\n\n\t\t\tif (swapped) {\n\t\t\t\t$('#mobile-menu').removeClass('pull-left');\n\t\t\t\t$('#mobile-chats').addClass('pull-left');\n\t\t\t}\n\n\t\t\tif (document.documentElement.getAttribute('data-dir') === 'rtl') {\n\t\t\t\tswapped = !swapped;\n\t\t\t}\n\n\t\t\tvar navSlideout = Pulling.create({\n\t\t\t\tpanel: document.getElementById('panel'),\n\t\t\t\tmenu: document.getElementById('menu'),\n\t\t\t\twidth: 256,\n\t\t\t\tmargin: margin,\n\t\t\t\tside: swapped ? 'right' : 'left',\n\t\t\t});\n\t\t\t$('#menu').removeClass('hidden');\n\n\t\t\tvar chatsSlideout;\n\t\t\tif (chatMenuVisible) {\n\t\t\t\tchatsSlideout = Pulling.create({\n\t\t\t\t\tpanel: document.getElementById('panel'),\n\t\t\t\t\tmenu: document.getElementById('chats-menu'),\n\t\t\t\t\twidth: 256,\n\t\t\t\t\tmargin: margin,\n\t\t\t\t\tside: swapped ? 'left' : 'right',\n\t\t\t\t});\n\t\t\t\t$('#chats-menu').removeClass('hidden');\n\t\t\t}\n\n\t\t\t// all menus\n\n\t\t\tfunction closeOnClick() {\n\t\t\t\tnavSlideout.close();\n\t\t\t\tif (chatsSlideout) { chatsSlideout.close(); }\n\t\t\t}\n\n\t\t\tfunction onBeforeOpen() {\n\t\t\t\tdocument.documentElement.classList.add('slideout-open');\n\t\t\t}\n\n\t\t\tfunction onClose() {\n\t\t\t\tdocument.documentElement.classList.remove('slideout-open');\n\t\t\t\t$('#panel').off('click', closeOnClick);\n\t\t\t}\n\n\t\t\t$(window).on('resize action:ajaxify.start', function () {\n\t\t\t\tnavSlideout.close();\n\t\t\t\tif (chatsSlideout) { chatsSlideout.close(); }\n\t\t\t\t$('.account .cover').css('top', $('[component=\"navbar\"]').height());\n\t\t\t});\n\n\t\t\tnavSlideout\n\t\t\t\t.ignore('code, code *, .preventSlideout, .preventSlideout *')\n\t\t\t\t.on('closed', onClose)\n\t\t\t\t.on('beforeopen', onBeforeOpen)\n\t\t\t\t.on('opened', function () {\n\t\t\t\t\t$('#panel').one('click', closeOnClick);\n\t\t\t\t});\n\n\t\t\tif (chatMenuVisible) {\n\t\t\t\tchatsSlideout\n\t\t\t\t\t.ignore('code, code *, .preventSlideout, .preventSlideout *')\n\t\t\t\t\t.on('closed', onClose)\n\t\t\t\t\t.on('beforeopen', onBeforeOpen)\n\t\t\t\t\t.on('opened', function () {\n\t\t\t\t\t\t$('#panel').one('click', closeOnClick);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t// left slideout navigation menu\n\n\t\t\t$('#mobile-menu').on('click', function () {\n\t\t\t\tnavSlideout.enable().toggle();\n\t\t\t});\n\n\t\t\tfunction loadNotifications() {\n\t\t\t\trequire(['notifications'], function(notifications) {\n\t\t\t\t\tnotifications.loadNotifications($('#menu [data-section=\"notifications\"] ul'));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tnavSlideout.on('opened', loadNotifications);\n\n\t\t\tif (chatMenuVisible) {\n\t\t\t\tnavSlideout.on('beforeopen', function () {\n\t\t\t\t\tchatsSlideout.close();\n\t\t\t\t\tchatsSlideout.disable();\n\t\t\t\t}).on('closed', function () {\n\t\t\t\t\tchatsSlideout.enable();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('#menu [data-section=\"navigation\"] ul').html($('#main-nav').html() + ($('#search-menu').html() || '') + ($('#logged-out-menu').html() || ''));\n\n\t\t\t$('#user-control-list').children().clone(true, true).appendTo($('#menu [data-section=\"profile\"] ul'));\n\t\t\t$('#menu [data-section=\"profile\"] ul').find('[component=\"user/status\"]').remove();\n\n\t\t\tsocket.on('event:user_status_change', function(data) {\n\t\t\t\tif (parseInt(data.uid, 10) === app.user.uid) {\n\t\t\t\t\tapp.updateUserStatus($('#menu [component=\"user/status\"]'), data.status);\n\t\t\t\t\tnavSlideout.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// right slideout chats menu\n\n\t\t\tfunction loadChats() {\n\t\t\t\trequire(['chat'], function (chat) {\n\t\t\t\t\tchat.loadChatsDropdown($('#chats-menu .chat-list'));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (chatMenuVisible) {\n\t\t\t\t$('#mobile-chats').removeClass('hidden').on('click', function() {\n\t\t\t\t\tnavSlideout.close();\n\t\t\t\t\tchatsSlideout.enable().toggle();\n\t\t\t\t});\n\t\t\t\t$('#chats-menu').on('click', 'li[data-roomid]', function () {\n\t\t\t\t\tchatsSlideout.close();\n\t\t\t\t});\n\n\t\t\t\tchatsSlideout\n\t\t\t\t\t.on('opened', loadChats)\n\t\t\t\t\t.on('beforeopen', function () {\n\t\t\t\t\t\tnavSlideout.close().disable();\n\t\t\t\t\t})\n\t\t\t\t\t.on('closed', function () {\n\t\t\t\t\t\tnavSlideout.enable();\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t// add a checkbox in the user settings page\n\t\t\t// so users can swap the sides the menus appear on\n\n\t\t\tfunction setupSetting() {\n\t\t\t\tif (ajaxify.data.template['account/settings'] && !document.getElementById('persona:menus:legacy-layout')) {\n\t\t\t\t\t$('<div class=\"well checkbox\"><label><input type=\"checkbox\" id=\"persona:menus:legacy-layout\"/><strong>Switch which side each mobile menu is on</strong></label></div>')\n\t\t\t\t\t\t.appendTo('#content .account > .row > div:first-child')\n\t\t\t\t\t\t.find('input')\n\t\t\t\t\t\t.prop('checked', Storage.getItem('persona:menus:legacy-layout', 'true'))\n\t\t\t\t\t\t.change(function (e) {\n\t\t\t\t\t\t\tif (e.target.checked) {\n\t\t\t\t\t\t\t\tStorage.setItem('persona:menus:legacy-layout', 'true');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tStorage.removeItem('persona:menus:legacy-layout');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$(window).on('action:ajaxify.end', setupSetting);\n\t\t\tsetupSetting();\n\t\t});\n\t}\n\n\tfunction setupHoverCards() {\n\t\trequire(['components'], function(components) {\n\t\t\tcomponents.get('topic')\n\t\t\t\t.on('click', '[component=\"user/picture\"],[component=\"user/status\"]', generateUserCard);\n\t\t});\n\n\t\t$(window).on('action:posts.loading', function(ev, data) {\n\t\t\tfor (var i = 0, ii = data.posts.length; i < ii; i++) {\n\t\t\t\t(ajaxify.data.topics || ajaxify.data.posts)[data.posts[i].index] = data.posts[i];\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction generateUserCard(ev) {\n\t\tvar avatar = $(this),\n\t\t\tindex = avatar.parents('[data-index]').attr('data-index'),\n\t\t\tdata = (ajaxify.data.topics || ajaxify.data.posts);\n\n\t\tfor (var i = 0, ii = data.length; i < ii; i++) {\n\t\t\tif (parseInt(data[i].index, 10) === parseInt(index, 10)) {\n\t\t\t\tdata = data[i].user;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t$('.persona-usercard').remove();\n\n\t\tif (parseInt(data.uid, 10) === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tsocket.emit('user.isFollowing', {uid: data.uid}, function(err, isFollowing) {\n\t\t\tapp.parseAndTranslate('modules/usercard', data, function(html) {\n\t\t\t\tvar card = $(html);\n\t\t\t\tavatar.parents('a').after(card.hide());\n\n\t\t\t\tif (parseInt(app.user.uid, 10) === parseInt(data.uid, 10) || !app.user.uid) {\n\t\t\t\t\tcard.find('.btn-morph').hide();\n\t\t\t\t} else {\n\t\t\t\t\tsetupFavouriteMorph(card, data.uid, data.username);\n\n\t\t\t\t\tif (isFollowing) {\n\t\t\t\t\t\t$('.btn-morph').addClass('heart');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.btn-morph').addClass('plus');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tutils.makeNumbersHumanReadable(card.find('.human-readable-number'));\n\t\t\t\tsetupCardRemoval(card);\n\t\t\t\tcard.fadeIn();\n\t\t\t});\n\t\t});\n\n\t\tev.preventDefault();\n\t\treturn false;\n\t}\n\n\tfunction setupFavouriteButtonOnProfile() {\n\t\tsetupFavouriteMorph($('[component=\"account/cover\"]'), ajaxify.data.uid, ajaxify.data.username);\n\t}\n\n\tfunction setupCardRemoval(card) {\n\t\tfunction removeCard(ev) {\n\t\t\tif ($(ev.target).closest('.persona-usercard').length === 0) {\n\t\t\t\tcard.fadeOut(function() {\n\t\t\t\t\tcard.remove();\n\t\t\t\t});\n\n\t\t\t\t$(document).off('click', removeCard);\n\t\t\t}\n\t\t}\n\n\t\t$(document).on('click', removeCard);\n\t}\n\n\tfunction setupFavouriteMorph(parent, uid, username) {\n\t\tparent.find('.btn-morph').click(function(ev) {\n\t\t\tvar type = $(this).hasClass('plus') ? 'follow' : 'unfollow';\n\n\t\t\tsocket.emit('user.' + type, {uid: uid}, function(err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\n\t\t\t\tapp.alertSuccess('[[global:alert.' + type + ', ' + username + ']]');\n\t\t\t});\n\n\t\t\t$(this).toggleClass('plus').toggleClass('heart');\n\t\t\t$(this).translateAttr('title', type  === 'follow' ? '[[global:unfollow]]' : '[[global:follow]]');\n\n\t\t\tif ($(this).find('b.drop').length === 0) {\n\t\t\t\t$(this).prepend('<b class=\"drop\"></b>');\n\t\t\t}\n\n\t\t\tvar drop = $(this).find('b.drop').removeClass('animate'),\n\t\t\t\tx = ev.pageX - drop.width() / 2 - $(this).offset().left,\n\t\t\t\ty = ev.pageY - drop.height() / 2 - $(this).offset().top;\n\n\t\t\tdrop.css({top: y + 'px', left: x + 'px'}).addClass('animate');\n\t\t});\n\t}\n\n\tfunction setupQuickReply() {\n\t\t$(window).on('action:ajaxify.end', function(ev, data) {\n\t\t\tif (data.url && data.url.match('^topic/')) {\n\t\t\t\trequire(['persona/quickreply'], function(quickreply) {\n\t\t\t\t\tquickreply.init();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n});\n","/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\n;(function(root, factory) {\n\n  if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.NProgress = factory();\n  }\n\n})(this, function() {\n  var NProgress = {};\n\n  NProgress.version = '0.1.6';\n\n  var Settings = NProgress.settings = {\n    minimum: 0.08,\n    easing: 'ease',\n    positionUsing: '',\n    speed: 200,\n    trickle: true,\n    trickleRate: 0.02,\n    trickleSpeed: 800,\n    showSpinner: true,\n    barSelector: '[role=\"bar\"]',\n    spinnerSelector: '[role=\"spinner\"]',\n    parent: 'body',\n    template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n  };\n\n  /**\n   * Updates configuration.\n   *\n   *     NProgress.configure({\n   *       minimum: 0.1\n   *     });\n   */\n  NProgress.configure = function(options) {\n    var key, value;\n    for (key in options) {\n      value = options[key];\n      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n    }\n\n    return this;\n  };\n\n  /**\n   * Last number.\n   */\n\n  NProgress.status = null;\n\n  /**\n   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n   *\n   *     NProgress.set(0.4);\n   *     NProgress.set(1.0);\n   */\n\n  NProgress.set = function(n) {\n    var started = NProgress.isStarted();\n\n    n = clamp(n, Settings.minimum, 1);\n    NProgress.status = (n === 1 ? null : n);\n\n    var progress = NProgress.render(!started),\n        bar      = progress.querySelector(Settings.barSelector),\n        speed    = Settings.speed,\n        ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n    queue(function(next) {\n      // Set positionUsing if it hasn't already been set\n      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n      // Add transition\n      css(bar, barPositionCSS(n, speed, ease));\n\n      if (n === 1) {\n        // Fade out\n        css(progress, { \n          transition: 'none', \n          opacity: 1 \n        });\n        progress.offsetWidth; /* Repaint */\n\n        setTimeout(function() {\n          css(progress, { \n            transition: 'all ' + speed + 'ms linear', \n            opacity: 0 \n          });\n          setTimeout(function() {\n            NProgress.remove();\n            next();\n          }, speed);\n        }, speed);\n      } else {\n        setTimeout(next, speed);\n      }\n    });\n\n    return this;\n  };\n\n  NProgress.isStarted = function() {\n    return typeof NProgress.status === 'number';\n  };\n\n  /**\n   * Shows the progress bar.\n   * This is the same as setting the status to 0%, except that it doesn't go backwards.\n   *\n   *     NProgress.start();\n   *\n   */\n  NProgress.start = function() {\n    if (!NProgress.status) NProgress.set(0);\n\n    var work = function() {\n      setTimeout(function() {\n        if (!NProgress.status) return;\n        NProgress.trickle();\n        work();\n      }, Settings.trickleSpeed);\n    };\n\n    if (Settings.trickle) work();\n\n    return this;\n  };\n\n  /**\n   * Hides the progress bar.\n   * This is the *sort of* the same as setting the status to 100%, with the\n   * difference being `done()` makes some placebo effect of some realistic motion.\n   *\n   *     NProgress.done();\n   *\n   * If `true` is passed, it will show the progress bar even if its hidden.\n   *\n   *     NProgress.done(true);\n   */\n\n  NProgress.done = function(force) {\n    if (!force && !NProgress.status) return this;\n\n    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n  };\n\n  /**\n   * Increments by a random amount.\n   */\n\n  NProgress.inc = function(amount) {\n    var n = NProgress.status;\n\n    if (!n) {\n      return NProgress.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);\n      }\n\n      n = clamp(n + amount, 0, 0.994);\n      return NProgress.set(n);\n    }\n  };\n\n  NProgress.trickle = function() {\n    return NProgress.inc(Math.random() * Settings.trickleRate);\n  };\n\n  /**\n   * Waits for all supplied jQuery promises and\n   * increases the progress as the promises resolve.\n   * \n   * @param $promise jQUery Promise\n   */\n  (function() {\n    var initial = 0, current = 0;\n    \n    NProgress.promise = function($promise) {\n      if (!$promise || $promise.state() == \"resolved\") {\n        return this;\n      }\n      \n      if (current == 0) {\n        NProgress.start();\n      }\n      \n      initial++;\n      current++;\n      \n      $promise.always(function() {\n        current--;\n        if (current == 0) {\n            initial = 0;\n            NProgress.done();\n        } else {\n            NProgress.set((initial - current) / initial);\n        }\n      });\n      \n      return this;\n    };\n    \n  })();\n\n  /**\n   * (Internal) renders the progress bar markup based on the `template`\n   * setting.\n   */\n\n  NProgress.render = function(fromStart) {\n    if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n    addClass(document.documentElement, 'nprogress-busy');\n    \n    var progress = document.createElement('div');\n    progress.id = 'nprogress';\n    progress.innerHTML = Settings.template;\n\n    var bar      = progress.querySelector(Settings.barSelector),\n        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent   = document.querySelector(Settings.parent),\n        spinner;\n    \n    css(bar, {\n      transition: 'all 0 linear',\n      transform: 'translate3d(' + perc + '%,0,0)'\n    });\n\n    if (!Settings.showSpinner) {\n      spinner = progress.querySelector(Settings.spinnerSelector);\n      spinner && removeElement(spinner);\n    }\n\n    if (parent != document.body) {\n      addClass(parent, 'nprogress-custom-parent');\n    }\n\n    parent.appendChild(progress);\n    return progress;\n  };\n\n  /**\n   * Removes the element. Opposite of render().\n   */\n\n  NProgress.remove = function() {\n    removeClass(document.documentElement, 'nprogress-busy');\n    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent')\n    var progress = document.getElementById('nprogress');\n    progress && removeElement(progress);\n  };\n\n  /**\n   * Checks if the progress bar is rendered.\n   */\n\n  NProgress.isRendered = function() {\n    return !!document.getElementById('nprogress');\n  };\n\n  /**\n   * Determine which positioning CSS rule to use.\n   */\n\n  NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n    var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n                       ('MozTransform' in bodyStyle) ? 'Moz' :\n                       ('msTransform' in bodyStyle) ? 'ms' :\n                       ('OTransform' in bodyStyle) ? 'O' : '';\n\n    if (vendorPrefix + 'Perspective' in bodyStyle) {\n      // Modern browsers with 3D support, e.g. Webkit, IE10\n      return 'translate3d';\n    } else if (vendorPrefix + 'Transform' in bodyStyle) {\n      // Browsers without 3D support, e.g. IE9\n      return 'translate';\n    } else {\n      // Browsers without translate() support, e.g. IE7-8\n      return 'margin';\n    }\n  };\n\n  /**\n   * Helpers\n   */\n\n  function clamp(n, min, max) {\n    if (n < min) return min;\n    if (n > max) return max;\n    return n;\n  }\n\n  /**\n   * (Internal) converts a percentage (`0..1`) to a bar translateX\n   * percentage (`-100%..0%`).\n   */\n\n  function toBarPerc(n) {\n    return (-1 + n) * 100;\n  }\n\n\n  /**\n   * (Internal) returns the correct CSS for changing the bar's\n   * position given an n percentage, and speed and ease from Settings\n   */\n\n  function barPositionCSS(n, speed, ease) {\n    var barCSS;\n\n    if (Settings.positionUsing === 'translate3d') {\n      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n    } else if (Settings.positionUsing === 'translate') {\n      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n    } else {\n      barCSS = { 'margin-left': toBarPerc(n)+'%' };\n    }\n\n    barCSS.transition = 'all '+speed+'ms '+ease;\n\n    return barCSS;\n  }\n\n  /**\n   * (Internal) Queues a function to be executed.\n   */\n\n  var queue = (function() {\n    var pending = [];\n    \n    function next() {\n      var fn = pending.shift();\n      if (fn) {\n        fn(next);\n      }\n    }\n\n    return function(fn) {\n      pending.push(fn);\n      if (pending.length == 1) next();\n    };\n  })();\n\n  /**\n   * (Internal) Applies css properties to an element, similar to the jQuery \n   * css method.\n   *\n   * While this helper does assist with vendor prefixed property names, it \n   * does not perform any manipulation of values prior to setting styles.\n   */\n\n  var css = (function() {\n    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n    function camelCase(string) {\n      return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n        return letter.toUpperCase();\n      });\n    }\n\n    function getVendorProp(name) {\n      var style = document.body.style;\n      if (name in style) return name;\n\n      var i = cssPrefixes.length,\n          capName = name.charAt(0).toUpperCase() + name.slice(1),\n          vendorName;\n      while (i--) {\n        vendorName = cssPrefixes[i] + capName;\n        if (vendorName in style) return vendorName;\n      }\n\n      return name;\n    }\n\n    function getStyleProp(name) {\n      name = camelCase(name);\n      return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n      prop = getStyleProp(prop);\n      element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n      var args = arguments,\n          prop, \n          value;\n\n      if (args.length == 2) {\n        for (prop in properties) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n      } else {\n        applyCss(element, args[1], args[2]);\n      }\n    }\n  })();\n\n  /**\n   * (Internal) Determines if an element or space separated list of class names contains a class name.\n   */\n\n  function hasClass(element, name) {\n    var list = typeof element == 'string' ? element : classList(element);\n    return list.indexOf(' ' + name + ' ') >= 0;\n  }\n\n  /**\n   * (Internal) Adds a class to an element.\n   */\n\n  function addClass(element, name) {\n    var oldList = classList(element),\n        newList = oldList + name;\n\n    if (hasClass(oldList, name)) return; \n\n    // Trim the opening space.\n    element.className = newList.substring(1);\n  }\n\n  /**\n   * (Internal) Removes a class from an element.\n   */\n\n  function removeClass(element, name) {\n    var oldList = classList(element),\n        newList;\n\n    if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n    newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n    element.className = newList.substring(1, newList.length - 1);\n  }\n\n  /**\n   * (Internal) Gets a space separated list of the class names on the element. \n   * The list is wrapped with a single space on each end to facilitate finding \n   * matches within the list.\n   */\n\n  function classList(element) {\n    return (' ' + (element.className || '') + ' ').replace(/\\s+/gi, ' ');\n  }\n\n  /**\n   * (Internal) Removes an element from the DOM.\n   */\n\n  function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n  }\n\n  return NProgress;\n});\n\n","/*\n *  Bootstrap Auto-Hiding Navbar - v1.0.5\n *  An extension for Bootstrap's fixed navbar which hides the navbar while the page is scrolling downwards and shows it the other way. The plugin is able to show/hide the navbar programmatically as well.\n *  http://www.virtuosoft.eu/code/bootstrap-autohidingnavbar/\n *\n *  Made by Istvn Ujj-Mszros\n *  Under Apache License v2.0 License\n */\n!function(a,b,c,d){function e(b,c){this.element=a(b),this.settings=a.extend({},w,c),this._defaults=w,this._name=m,this.init()}function f(b){v&&(b.element.addClass(\"navbar-hidden\").animate({top:-1*parseInt(b.element.css(\"height\"),10)+b.settings.navbarOffset},{queue:!1,duration:b.settings.animationDuration}),a(\".dropdown.open .dropdown-toggle\",b.element).dropdown(\"toggle\"),v=!1,b.element.trigger(\"hide.autoHidingNavbar\"))}function g(a){v||(a.element.removeClass(\"navbar-hidden\").animate({top:0},{queue:!1,duration:a.settings.animationDuration}),v=!0,a.element.trigger(\"show.autoHidingNavbar\"))}function h(a){var b=n.scrollTop(),c=b-t;if(t=b,0>c){if(v)return;(a.settings.showOnUpscroll||l>=b)&&g(a)}else if(c>0){if(!v)return void(a.settings.showOnBottom&&b+u===o.height()&&g(a));b>=l&&f(a)}}function i(a){a.settings.disableAutohide||(s=(new Date).getTime(),h(a))}function j(a){o.on(\"scroll.\"+m,function(){(new Date).getTime()-s>r?i(a):(clearTimeout(p),p=setTimeout(function(){i(a)},r))}),n.on(\"resize.\"+m,function(){clearTimeout(q),q=setTimeout(function(){u=n.height()},r)})}function k(){o.off(\".\"+m),n.off(\".\"+m)}var l,m=\"autoHidingNavbar\",n=a(b),o=a(c),p=null,q=null,r=70,s=0,t=null,u=n.height(),v=!0,w={disableAutohide:!1,showOnUpscroll:!0,showOnBottom:!0,hideOffset:\"auto\",animationDuration:200,navbarOffset:0};e.prototype={init:function(){return this.elements={navbar:this.element},this.setDisableAutohide(this.settings.disableAutohide),this.setShowOnUpscroll(this.settings.showOnUpscroll),this.setShowOnBottom(this.settings.showOnBottom),this.setHideOffset(this.settings.hideOffset),this.setAnimationDuration(this.settings.animationDuration),l=\"auto\"===this.settings.hideOffset?parseInt(this.element.css(\"height\"),10):this.settings.hideOffset,j(this),this.element},setDisableAutohide:function(a){return this.settings.disableAutohide=a,this.element},setShowOnUpscroll:function(a){return this.settings.showOnUpscroll=a,this.element},setShowOnBottom:function(a){return this.settings.showOnBottom=a,this.element},setHideOffset:function(a){return this.settings.hideOffset=a,this.element},setAnimationDuration:function(a){return this.settings.animationDuration=a,this.element},show:function(){return g(this),this.element},hide:function(){return f(this),this.element},destroy:function(){return k(this),g(this),a.data(this,\"plugin_\"+m,null),this.element}},a.fn[m]=function(b){var c=arguments;if(b===d||\"object\"==typeof b)return this.each(function(){a.data(this,\"plugin_\"+m)||a.data(this,\"plugin_\"+m,new e(this,b))});if(\"string\"==typeof b&&\"_\"!==b[0]&&\"init\"!==b){var f;return this.each(function(){var d=a.data(this,\"plugin_\"+m);d instanceof e&&\"function\"==typeof d[b]&&(f=d[b].apply(d,Array.prototype.slice.call(c,1)))}),f!==d?f:this}}}(jQuery,window,document);","\"use strict\";\n\n/*globals $, app, ajaxify, socket*/\n\ndefine('persona/quickreply', ['components'], function(components) {\n\tvar QuickReply = {};\n\t\n\tQuickReply.init = function() {\n\t\t\n\t\tvar element = components.get('topic/quickreply/text');\n\t\tvar data = {\n\t\t\telement: element,\n\t\t\tstrategies: [],\n\t\t\toptions: {\n\t\t\t\tzIndex: 100,\n\t\t\t\tlistPosition: function(position) {\n\t\t\t\t\tthis.$el.css(this._applyPlacement(position));\n\t\t\t\tthis.$el.css('position', 'absolute');\n\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n\t\t$(window).trigger('composer:autocomplete:init', data);\n\t\tdata.element.textcomplete(data.strategies, data.options);\n\t\t$('.textcomplete-wrapper').css('height', '100%').find('textarea').css('height', '100%');\n\t\t\n\t\tcomponents.get('topic/quickreply/button').on('click', function(e) {\n\t\t\te.preventDefault();\n\t\t\tvar replyMsg = components.get('topic/quickreply/text').val();\n\t\t\tvar replyData = {\n\t\t\t\ttid: ajaxify.data.tid,\n\t\t\t\thandle: undefined,\n\t\t\t\tcontent: replyMsg\n\t\t\t};\n\n\t\t\tsocket.emit('posts.reply', replyData, function(err, data) {\n\t\t\t\tif (err) {\n\t\t\t\t\tapp.alertError(err.message);\n\t\t\t\t}\n\t\t\t\tcomponents.get('topic/quickreply/text').val('');\n\t\t\t});\n\t\t});\n\t};\n\t\n\treturn QuickReply;\n});\n","'use strict';\n\n/* global document, window, jQuery, $, require, config, socket */\n\n$(document).ready(function () {\n\tvar Markdown = {};\n\n\t$(window).on('action:composer.enhanced', function (evt, data) {\n\t\tvar textareaEl = data.postContainer.find('textarea');\n\t\tMarkdown.capturePaste(textareaEl);\n\t\tMarkdown.prepareFormattingTools();\n\t});\n\n\tMarkdown.enhanceCheckbox = function (ev, data) {\n\t\tif (!data.posts && !data.post) {\n\t\t\treturn;\n\t\t} else if (data.hasOwnProperty('post')) {\n\t\t\tdata.posts = [data.post];\n\t\t}\n\n\t\tvar disable;\n\t\tvar checkboxEls;\n\t\tdata.posts.forEach(function (post) {\n\t\t\tdisable = !post.display_edit_tools;\n\t\t\tcheckboxEls = $('.posts li[data-pid=\"' + post.pid + '\"] .content input[type=\"checkbox\"]');\n\n\t\t\tcheckboxEls.on('click', function (e) {\n\t\t\t\tif (disable) {\n\t\t\t\t\t// Find the post's checkboxes in DOM and make them readonly\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t// Otherwise, edit the post to reflect state change\n\t\t\t\tvar _this = this;\n\t\t\t\tvar pid = $(this).parents('li[data-pid]').attr('data-pid');\n\t\t\t\tvar index = $(this).parents('.content').find('input[type=\"checkbox\"]').toArray().reduce(function (memo, cur, index) {\n\t\t\t\t\tif (cur === _this) {\n\t\t\t\t\t\tmemo = index;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn memo;\n\t\t\t\t}, null);\n\n\t\t\t\tsocket.emit('plugins.markdown.checkbox.edit', {\n\t\t\t\t\tpid: pid,\n\t\t\t\t\tindex: index,\n\t\t\t\t\tstate: $(_this).prop('checked'),\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t};\n\n\tMarkdown.capturePaste = function (targetEl) {\n\t\ttargetEl.on('paste', function (e) {\n\t\t\tvar triggers = [/^>\\s*/, /^\\s*\\*\\s+/, /^\\s*\\d+\\.\\s+/, /^\\s{4,}/];\n\t\t\tvar start = e.target.selectionStart;\n\t\t\tvar line = getLine(targetEl.val(), start);\n\n\t\t\tvar trigger = triggers.reduce(function (regexp, cur) {\n\t\t\t\tif (regexp) {\n\t\t\t\t\treturn regexp;\n\t\t\t\t}\n\n\t\t\t\treturn cur.test(line) ? cur : false;\n\t\t\t}, false);\n\n\t\t\tvar prefix = line.match(trigger);\n\t\t\tif (prefix) {\n\t\t\t\tprefix = prefix[0];\n\n\t\t\t\tvar payload = e.originalEvent.clipboardData.getData('text');\n\t\t\t\tvar fixed = payload.replace(/^/gm, prefix).slice(prefix.length);\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvar replacement = targetEl.val().slice(0, start) + fixed + targetEl.val().slice(start + payload.length);\n\t\t\t\t\ttargetEl.val(replacement);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t});\n\n\t\tfunction getLine(text, selectionStart) {\n\t\t\t// Break apart into lines, return the line the cursor is in\n\t\t\tvar lines = text.split('\\n');\n\n\t\t\treturn lines.reduce(function (memo, cur) {\n\t\t\t\tif (typeof memo !== 'number') {\n\t\t\t\t\treturn memo;\n\t\t\t\t} else if (selectionStart > (memo + cur.length)) {\n\t\t\t\t\treturn memo + cur.length + 1;\n\t\t\t\t}\n\n\t\t\t\treturn cur;\n\t\t\t}, 0);\n\t\t}\n\t};\n\n\tMarkdown.highlight = function (data) {\n\t\tif (data instanceof jQuery.Event) {\n\t\t\thighlight($(data.data.selector));\n\t\t} else {\n\t\t\thighlight(data);\n\t\t}\n\t};\n\n\tMarkdown.prepareFormattingTools = function () {\n\t\trequire([\n\t\t\t'composer/formatting',\n\t\t\t'composer/controls',\n\t\t\t'translator',\n\t\t], function (formatting, controls, translator) {\n\t\t\tif (formatting && controls) {\n\t\t\t\ttranslator.getTranslations(window.config.userLang || window.config.defaultLang, 'markdown', function (strings) {\n\t\t\t\t\tformatting.addButtonDispatch('bold', function (textarea, selectionStart, selectionEnd) {\n\t\t\t\t\t\tif (selectionStart === selectionEnd) {\n\t\t\t\t\t\t\tvar block = controls.getBlockData(textarea, '**', selectionStart);\n\n\t\t\t\t\t\t\tif (block.in && block.atEnd) {\n\t\t\t\t\t\t\t\t// At end of bolded string, move cursor past delimiters\n\t\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 2, selectionStart + 2);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontrols.insertIntoTextarea(textarea, '**' + strings.bold + '**');\n\t\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 2, selectionStart + strings.bold.length + 2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar wrapDelta = controls.wrapSelectionInTextareaWith(textarea, '**');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 2 + wrapDelta[0], selectionEnd + 2 - wrapDelta[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tformatting.addButtonDispatch('italic', function (textarea, selectionStart, selectionEnd) {\n\t\t\t\t\t\tif (selectionStart === selectionEnd) {\n\t\t\t\t\t\t\tvar block = controls.getBlockData(textarea, '*', selectionStart);\n\n\t\t\t\t\t\t\tif (block.in && block.atEnd) {\n\t\t\t\t\t\t\t\t// At end of italicised string, move cursor past delimiters\n\t\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 1, selectionStart + 1);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontrols.insertIntoTextarea(textarea, '*' + strings.italic + '*');\n\t\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 1, selectionStart + strings.italic.length + 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar wrapDelta = controls.wrapSelectionInTextareaWith(textarea, '*');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 1 + wrapDelta[0], selectionEnd + 1 - wrapDelta[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tformatting.addButtonDispatch('list', function (textarea, selectionStart, selectionEnd) {\n\t\t\t\t\t\tif (selectionStart === selectionEnd) {\n\t\t\t\t\t\t\tcontrols.insertIntoTextarea(textarea, '\\n* ' + strings.list_item);\n\n\t\t\t\t\t\t\t// Highlight \"list item\"\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 3, selectionStart + strings.list_item.length + 3);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar wrapDelta = controls.wrapSelectionInTextareaWith(textarea, '\\n* ', '');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 3 + wrapDelta[0], selectionEnd + 3 - wrapDelta[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tformatting.addButtonDispatch('strikethrough', function (textarea, selectionStart, selectionEnd) {\n\t\t\t\t\t\tif (selectionStart === selectionEnd) {\n\t\t\t\t\t\t\tvar block = controls.getBlockData(textarea, '~~', selectionStart);\n\n\t\t\t\t\t\t\tif (block.in && block.atEnd) {\n\t\t\t\t\t\t\t\t// At end of bolded string, move cursor past delimiters\n\t\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 2, selectionStart + 2);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontrols.insertIntoTextarea(textarea, '~~' + strings.strikethrough_text + '~~');\n\t\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 2, selectionEnd + strings.strikethrough_text.length + 2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar wrapDelta = controls.wrapSelectionInTextareaWith(textarea, '~~', '~~');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + 2 + wrapDelta[0], selectionEnd + 2 - wrapDelta[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tformatting.addButtonDispatch('link', function (textarea, selectionStart, selectionEnd) {\n\t\t\t\t\t\tif (selectionStart === selectionEnd) {\n\t\t\t\t\t\t\tcontrols.insertIntoTextarea(textarea, '[' + strings.link_text + '](' + strings.link_url + ')');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + strings.link_text.length + 3, selectionEnd + strings.link_text.length + strings.link_url.length + 3);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar wrapDelta = controls.wrapSelectionInTextareaWith(textarea, '[', '](' + strings.link_url + ')');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionEnd + 3 - wrapDelta[1], selectionEnd + strings.link_url.length + 3 - wrapDelta[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tformatting.addButtonDispatch('picture-o', function (textarea, selectionStart, selectionEnd) {\n\t\t\t\t\t\tif (selectionStart === selectionEnd) {\n\t\t\t\t\t\t\tcontrols.insertIntoTextarea(textarea, '![' + strings.picture_text + '](' + strings.picture_url + ')');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionStart + strings.picture_text.length + 4, selectionEnd + strings.picture_text.length + strings.picture_url.length + 4);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar wrapDelta = controls.wrapSelectionInTextareaWith(textarea, '![', '](' + strings.picture_url + ')');\n\t\t\t\t\t\t\tcontrols.updateTextareaSelection(textarea, selectionEnd + 4 - wrapDelta[1], selectionEnd + strings.picture_url.length + 4 - wrapDelta[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tfunction highlight(elements) {\n\t\tif (parseInt(config.markdown.highlight, 10)) {\n\t\t\trequire(['highlight'], function (hljs) {\n\t\t\t\telements.each(function (i, block) {\n\t\t\t\t\t$(block.parentNode).addClass('markdown-highlight');\n\t\t\t\t\thljs.highlightBlock(block);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\t$(window).on('action:composer.preview', {\n\t\tselector: '.composer .preview pre code',\n\t}, Markdown.highlight);\n\n\t$(window).on('action:topic.loaded', Markdown.enhanceCheckbox);\n\t$(window).on('action:posts.loaded', Markdown.enhanceCheckbox);\n\t$(window).on('action:posts.edited', Markdown.enhanceCheckbox);\n\n\trequire(['components'], function (components) {\n\t\t$(window).on('action:posts.loaded action:topic.loaded action:posts.edited', function () {\n\t\t\tMarkdown.highlight(components.get('post/content').find('pre code'));\n\t\t});\n\t});\n});\n","\"use strict\";\n/* globals socket, app, utils */\n\n\n$(document).ready(function() {\n\tvar groupList = [];\n\tvar localUserList = [];\n\n\t$(window).on('composer:autocomplete:init', function(ev, data) {\n\t\tlocalUserList = loadDomUsers();\n\n\t\tif (!groupList.length) {\n\t\t\tloadGroupList();\n\t\t}\n\n\t\tvar subset;\n\t\tvar strategy = {\n\t\t\tmatch: /\\B@([^\\s\\n]*)?$/,\n\t\t\tsearch: function (term, callback) {\n\t\t\t\tvar usernames;\n\t\t\t\tif (!term) {\n\t\t\t\t\tusernames = localUserList.concat(groupList).filter(function(value, index, array) {\n\t\t\t\t\t\treturn array.indexOf(value) === index && value !== app.user.username;\n\t\t\t\t\t}).sort(function(a, b) {\n\t\t\t\t\t\treturn a.toLocaleLowerCase() > b.toLocaleLowerCase();\n\t\t\t\t\t});\n\t\t\t\t\treturn callback(usernames);\n\t\t\t\t}\n\n\t\t\t\tsocket.emit('user.search', {query: term}, function(err, userdata) {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treturn callback([]);\n\t\t\t\t\t}\n\n\t\t\t\t\tusernames = userdata.users.map(function(user) {\n\t\t\t\t\t\treturn user.username;\n\t\t\t\t\t});\n\n\t\t\t\t\tsubset = localUserList.concat(groupList).filter(function(username) {\n\t\t\t\t\t\treturn username.toLocaleLowerCase().indexOf(term.toLocaleLowerCase()) !== -1;\n\t\t\t\t\t});\n\n\t\t\t\t\tusernames = usernames.concat(subset).filter(function(value, index, array) {\n\t\t\t\t\t\treturn array.indexOf(value) === index;\n\t\t\t\t\t});\n\n\t\t\t\t\tsubset = subset.map(function(name) {\n\t\t\t\t\t\treturn name.toLocaleLowerCase();\n\t\t\t\t\t});\n\n\t\t\t\t\tusernames.sort(function(a, b) {\n\t\t\t\t\t\tif (subset.indexOf(a.toLocaleLowerCase()) !== -1 && subset.indexOf(b.toLocaleLowerCase()) === -1) {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t} else if (subset.indexOf(a.toLocaleLowerCase()) === -1 && subset.indexOf(b.toLocaleLowerCase()) !== -1) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn a.toLocaleLowerCase() > b.toLocaleLowerCase();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Remove current user from suggestions\n\t\t\t\t\tif (app.user.username && usernames.indexOf(app.user.username) !== -1) {\n\t\t\t\t\t\tusernames.splice(usernames.indexOf(app.user.username), 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback(usernames);\n\t\t\t\t});\n\t\t\t},\n\t\t\tindex: 1,\n\t\t\treplace: function (mention) {\n\t\t\t\tmention = $('<div/>').html(mention).text();\n\t\t\t\treturn '@' + utils.slugify(mention, true) + ' ';\n\t\t\t},\n\t\t\tcache: true\n\t\t};\n\n\t\tdata.strategies.push(strategy);\n\t});\n\n\t$(window).on('action:composer.loaded', function(e, data) {\n\t\tvar composer = $('#cmp-uuid-' + data.post_uuid + ' .write');\n\t\tcomposer.attr('data-mentions', '1');\n\t});\n\n\tfunction loadDomUsers() {\n\t\tvar DOMusers = [];\n\t\t$('[component=\"post\"][data-uid!=\"0\"]').each(function(idx, el) {\n\t\t\tvar\tusername = el.getAttribute('data-username');\n\t\t\tif (DOMusers.indexOf(username) === -1) {\n\t\t\t\tDOMusers.push(username);\n\t\t\t}\n\t\t});\n\t\treturn DOMusers;\n\t}\n\n\tfunction loadGroupList() {\n\t\tsocket.emit('plugins.mentions.listGroups', function(err, groupNames) {\n\t\t\tif (err) {\n\t\t\t\treturn app.alertError(err.message);\n\t\t\t}\n\t\t\tgroupList = groupNames;\n\t\t});\n\t}\n\n});\n","/// <amd-module name=\"emoji\"/>\r\ndefine(\"emoji\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var base = window.config.relative_path + \"/plugins/nodebb-plugin-emoji\";\r\n    exports.base = base;\r\n    var buster = window.config['cache-buster'];\r\n    exports.buster = buster;\r\n    function buildEmoji(emoji, defer) {\r\n        var whole = \":\" + emoji.name + \":\";\r\n        var deferClass = defer ? ' defer' : '';\r\n        if (emoji.image) {\r\n            return \"<img\\n      \" + (defer ? 'data-' : '') + \"src=\\\"\" + base + \"/emoji/\" + emoji.pack + \"/\" + emoji.image + \"?\" + buster + \"\\\"\\n      class=\\\"not-responsive emoji emoji-\" + emoji.pack + \" emoji--\" + emoji.name + \" \" + deferClass + \"\\\"\\n      title=\\\"\" + whole + \"\\\"\\n      alt=\\\"\" + emoji.character + \"\\\"\\n    />\";\r\n        }\r\n        return \"<span\\n    class=\\\"emoji-\" + emoji.pack + \" emoji--\" + emoji.name + \"\\\"\\n    title=\\\"\" + whole + \"\\\"\\n  ><span>\" + emoji.character + \"</span></span>\";\r\n    }\r\n    exports.buildEmoji = buildEmoji;\r\n    exports.strategy = {\r\n        match: /\\B:([^\\s\\n:]+)$/,\r\n        search: function (term, callback) {\r\n            callback(exports.search(term.toLowerCase().replace(/[_-]/g, '')).slice(0, 10));\r\n        },\r\n        index: 1,\r\n        replace: function (emoji) {\r\n            return ':' + emoji.name + ': ';\r\n        },\r\n        template: function (emoji) {\r\n            return buildEmoji(emoji) + ' ' + emoji.name;\r\n        },\r\n        cache: true,\r\n    };\r\n    var initialized = false;\r\n    function init(callback) {\r\n        if (initialized) {\r\n            if (callback) {\r\n                setTimeout(callback, 0);\r\n            }\r\n            return;\r\n        }\r\n        initialized = true;\r\n        Promise.all([\r\n            new Promise(function (resolve_1, reject_1) { require(['fuzzysearch'], resolve_1, reject_1); }),\r\n            new Promise(function (resolve_2, reject_2) { require(['leven'], resolve_2, reject_2); }),\r\n            new Promise(function (resolve_3, reject_3) { require(['composer/formatting'], resolve_3, reject_3); }),\r\n            $.getJSON(base + \"/emoji/table.json?\" + buster),\r\n        ]).then(function (_a) {\r\n            var fuzzy = _a[0], leven = _a[1], formatting = _a[2], tableData = _a[3];\r\n            exports.table = tableData;\r\n            var all = Object.keys(exports.table).map(function (name) {\r\n                var emoji = exports.table[name];\r\n                return {\r\n                    name: name,\r\n                    aliases: emoji.aliases,\r\n                    keywords: emoji.keywords,\r\n                    character: emoji.character,\r\n                    image: emoji.image,\r\n                    pack: emoji.pack,\r\n                };\r\n            });\r\n            function fuzzyFind(term, arr) {\r\n                var l = arr.length;\r\n                for (var i = 0; i < l; i += 1) {\r\n                    if (fuzzy(term, arr[i])) {\r\n                        return arr[i];\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            function fuzzySearch(term) {\r\n                function score(match, weight) {\r\n                    var weighted = weight * (1 + leven(term, match));\r\n                    return match.startsWith(term) ? weighted - 2 : weighted;\r\n                }\r\n                return all.filter(function (obj) {\r\n                    if (fuzzy(term, obj.name)) {\r\n                        obj.score = score(obj.name, 1);\r\n                        return true;\r\n                    }\r\n                    var aliasMatch = fuzzyFind(term, obj.aliases);\r\n                    if (aliasMatch) {\r\n                        obj.score = score(aliasMatch, 3);\r\n                        return true;\r\n                    }\r\n                    var keywordMatch = fuzzyFind(term, obj.keywords);\r\n                    if (keywordMatch) {\r\n                        obj.score = score(keywordMatch, 7);\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }).sort(function (a, b) { return a.score - b.score; }).sort(function (a, b) {\r\n                    var aPrefixed = +a.name.startsWith(term);\r\n                    var bPrefixed = +b.name.startsWith(term);\r\n                    return bPrefixed - aPrefixed;\r\n                });\r\n            }\r\n            exports.search = fuzzySearch;\r\n            formatting.addButtonDispatch('emoji-add-emoji', function (textarea) {\r\n                new Promise(function (resolve_4, reject_4) { require(['emoji-dialog'], resolve_4, reject_4); }).then(function (_a) {\r\n                    var toggleForInsert = _a.toggleForInsert;\r\n                    return toggleForInsert(textarea);\r\n                });\r\n            });\r\n            if (callback) {\r\n                setTimeout(callback, 0);\r\n            }\r\n        }).catch(function (err) {\r\n            var e = Error('[[emoji:meta-load-failed]]');\r\n            console.error(e);\r\n            window.app.alertError(e);\r\n            throw err;\r\n        });\r\n    }\r\n    exports.init = init;\r\n});\r\n//# sourceMappingURL=emoji.js.map","define('leven', function () {\n  /*\n  The MIT License (MIT)\n\n  Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n  */\n\n  'use strict';\n  var arr = [];\n  var charCodeCache = [];\n\n  return function (a, b) {\n    if (a === b) {\n      return 0;\n    }\n\n    var swap = a;\n\n    // Swapping the strings if `a` is longer than `b` so we know which one is the\n    // shortest & which one is the longest\n    if (a.length > b.length) {\n      a = b;\n      b = swap;\n    }\n\n    var aLen = a.length;\n    var bLen = b.length;\n\n    // Performing suffix trimming:\n    // We can linearly drop suffix common to both strings since they\n    // don't increase distance at all\n    // Note: `~-` is the bitwise way to perform a `- 1` operation\n    while (aLen > 0 && (a.charCodeAt(~-aLen) === b.charCodeAt(~-bLen))) {\n      aLen--;\n      bLen--;\n    }\n\n    // Performing prefix trimming\n    // We can linearly drop prefix common to both strings since they\n    // don't increase distance at all\n    var start = 0;\n\n    while (start < aLen && (a.charCodeAt(start) === b.charCodeAt(start))) {\n      start++;\n    }\n\n    aLen -= start;\n    bLen -= start;\n\n    if (aLen === 0) {\n      return bLen;\n    }\n\n    var bCharCode;\n    var ret;\n    var tmp;\n    var tmp2;\n    var i = 0;\n    var j = 0;\n\n    while (i < aLen) {\n      charCodeCache[i] = a.charCodeAt(start + i);\n      arr[i] = ++i;\n    }\n\n    while (j < bLen) {\n      bCharCode = b.charCodeAt(start + j);\n      tmp = j++;\n      ret = j;\n\n      for (i = 0; i < aLen; i++) {\n        tmp2 = bCharCode === charCodeCache[i] ? tmp : tmp + 1;\n        tmp = arr[i];\n        ret = arr[i] = tmp > ret ? tmp2 > ret ? ret + 1 : tmp2 : tmp2 > tmp ? tmp + 1 : tmp2;\n      }\n    }\n\n    return ret;\n  };\n});\n\ndefine('fuzzysearch', function () {\n  /*\n  The MIT License (MIT)\n\n  Copyright  2015 Nicolas Bevacqua\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy of\n  this software and associated documentation files (the \"Software\"), to deal in\n  the Software without restriction, including without limitation the rights to\n  use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n  the Software, and to permit persons to whom the Software is furnished to do so,\n  subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in all\n  copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n  FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n  COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n  IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n  CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n  */\n\n  'use strict';\n\n  function fuzzysearch (needle, haystack) {\n    var hlen = haystack.length;\n    var nlen = needle.length;\n    if (nlen > hlen) {\n      return false;\n    }\n    if (nlen === hlen) {\n      return needle === haystack;\n    }\n    outer: for (var i = 0, j = 0; i < nlen; i++) {\n      var nch = needle.charCodeAt(i);\n      while (j < hlen) {\n        if (haystack.charCodeAt(j++) === nch) {\n          continue outer;\n        }\n      }\n      return false;\n    }\n    return true;\n  }\n\n  return fuzzysearch;\n});\n\nrequire(['emoji'], function (emoji) {\n  $(window).on('composer:autocomplete:init chat:autocomplete:init', function (e, data) {\n    emoji.init();\n    data.strategies.push(emoji.strategy);\n  });\n});\n"]}