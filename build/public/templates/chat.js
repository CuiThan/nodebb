
(function (factory) {
  if (typeof module === 'object' && module.exports) {
    module.exports = factory();
  } else if (typeof define === 'function' && define.amd) {
    define(factory);
  }
})(function () {
  function compiled(helpers, context, guard, iter, helper) {
	  return '<div id="chat-modal" class="chat-modal hide" tabindex="-1" role="dialog" aria-labelledby="Chat" aria-hidden="true" data-backdrop="none" data-name="' + helpers.__escape(guard(context && context['roomName'])) + '">\r\n\t<div class="modal-dialog">\r\n\t\t<div class="modal-content">\r\n\t\t\t<div class="modal-header">\r\n\t\t\t\t<button id="chat-close-btn" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fa fa-times"></i></span></button>\r\n\t\t\t\t<button type="button" class="close hidden-xs hidden-sm" data-action="maximize"><span aria-hidden="true"><i class="fa fa-expand"></i></span><span class="sr-only">[[modules:chat.maximize]]</span></button>\r\n\r\n\t\t\t\t<div class="dropdown pull-right">\r\n\t\t\t\t\t<button class="close" data-toggle="dropdown" component="chat/controlsToggle"><i class="fa fa-gear"></i></button>\r\n\t\t\t\t\t<ul class="dropdown-menu dropdown-menu-right pull-right" component="chat/controls">\r\n\t\t\t\t\t\t' + (guard(context && context['users'] && context['users']['length']) ? '\r\n\t\t\t\t\t\t<li class="dropdown-header">[[modules:chat.in-room]]</li>\r\n\t\t\t\t\t\t' + compiled.blocks['users'](helpers, context, guard, iter, helper) + '\r\n\t\t\t\t\t\t<li role="separator" class="divider"></li>\r\n\t\t\t\t\t\t' : '') + '\r\n\t\t\t\t\t\t<li class="dropdown-header">[[modules:chat.options]]</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a href="#" data-action="members"><i class="fa fa-fw fa-plus"></i> [[modules:chat.add-users-to-room]]</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a href="#" data-action="rename"><i class="fa fa-fw fa-edit"></i> [[modules:chat.rename-room]]</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a href="#" data-action="leave"><i class="fa fa-fw fa-sign-out"></i> [[modules:chat.leave]]</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<h4 component="chat/room/name">' + (guard(context && context['roomName']) ? helpers.__escape(guard(context && context['roomName'])) : helpers.__escape(guard(context && context['usernames']))) + '</h4>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="modal-body">\r\n\t\t\t\t<ul class="chat-content" component="chat/messages">\r\n\t\t\t\t\t' + compiled.blocks['messages'](helpers, context, guard, iter, helper) + '\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t<div component="chat/composer">\r\n\t\t\t\t\t<textarea component="chat/input" placeholder="[[modules:chat.placeholder]]" class="form-control chat-input mousetrap" rows="1"></textarea>\r\n\t\t\t\t\t<button class="btn btn-primary" type="button" data-action="send"><i class="fa fa-fw fa-2x fa-paper-plane"></i></button>\r\n\t\t\t\t\t<span component="chat/message/remaining">' + helpers.__escape(guard(context && context['maximumChatMessageLength'])) + '</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>';
	}
	
	compiled.blocks = {
	  'messages': function messages(helpers, context, guard, iter, helper) {
	    return iter(guard(context && context['messages']), function each(key1, index, length) {
	      var key = key1;
	      return '\r\n<li component="chat/message" class="chat-message clear' + (guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['deleted']) ? ' deleted' : '') + '" data-index="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['index'])) + '" data-mid="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['messageId'])) + '" data-uid="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromuid'])) + '" data-self="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['self'])) + '" data-break="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['newSet'])) + '" data-timestamp="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['timestamp'])) + '">\r\n\t<div class="message-header">\r\n\t\t<a class="chat-avatar" href="' + helpers.__escape(guard(context && context['config'] && context['config']['relative_path'])) + '/user/' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['userslug'])) + '">\r\n\t\t\t' + (guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['picture']) ? '\r\n\t\t\t<img class="user-avatar" src="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['picture'])) + '">\r\n\t\t\t' : '\r\n\t\t\t<div class="user-icon" style="background-color: ' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['icon:bgColor'])) + ';">' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['icon:text'])) + '</div>\r\n\t\t\t') + '\r\n\t\t</a>\r\n\t\t<strong><span class="chat-user"><a href="' + helpers.__escape(guard(context && context['config'] && context['config']['relative_path'])) + '/user/' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['userslug'])) + '">' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['username'])) + '</a></span></strong>\r\n\t\t' + (guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['banned']) ? '\r\n\t\t<span class="label label-danger">[[user:banned]]</span>\r\n\t\t' : '') + '\r\n\t\t' + (guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['fromUser'] && context['messages'][key1]['fromUser']['deleted']) ? '\r\n\t\t<span class="label label-danger">[[user:deleted]]</span>\r\n\t\t' : '') + '\r\n\t\t<span class="chat-timestamp timeago" title="' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['timestampISO'])) + '"></span>\r\n\t</div>\r\n\t<div component="chat/message/body" class="message-body">\r\n\t\t' + (guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['edited']) ? '\r\n\t\t<small class="text-muted pull-right" title="[[global:edited]] ' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['editedISO'])) + '"><i class="fa fa-edit"></i></span></small>\r\n\t\t' : '') + '\r\n\r\n\t\t' + (!guard(context && context['config'] && context['config']['disableChatMessageEditing']) ? '\r\n\t\t' + (guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['self']) ? '\r\n\t\t<div class="pull-right btn-group controls">\r\n\t\t\t<button class="btn btn-xs btn-link" data-action="edit"><i class="fa fa-pencil"></i></button>\r\n\t\t\t<button class="btn btn-xs btn-link" data-action="delete"><i class="fa fa-times"></i></button>\r\n\t\t\t<button class="btn btn-xs btn-link" data-action="restore"><i class="fa fa-repeat"></i></button>\r\n\t\t</div>\r\n\t\t' : '') + '\r\n\t\t' : '') + '\r\n\r\n\t\t' + helpers.__escape(guard(context && context['messages'] && context['messages'][key1] && context['messages'][key1]['content'])) + '\r\n\t</div>\r\n</li>\r\n';
	    });
	  },
	  'users': function users(helpers, context, guard, iter, helper) {
	    return iter(guard(context && context['users']), function each(key1, index, length) {
	      var key = key1;
	      return '\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<a href="' + helpers.__escape(guard(context && context['config'] && context['config']['relative_path'])) + '/uid/' + helpers.__escape(guard(context && context['users'] && context['users'][key1] && context['users'][key1]['uid'])) + '">\r\n\t\t\t\t\t\t\t\t' + (guard(context && context['users'] && context['users'][key1] && context['users'][key1]['picture']) ? '\r\n\t\t\t\t\t\t\t\t<img class="avatar avatar-sm" component="user/picture" src="' + helpers.__escape(guard(context && context['users'] && context['users'][key1] && context['users'][key1]['picture'])) + '" itemprop="image" />\r\n\t\t\t\t\t\t\t\t' : '\r\n\t\t\t\t\t\t\t\t<div class="avatar avatar-sm" component="user/picture" style="background-color: ' + helpers.__escape(guard(context && context['users'] && context['users'][key1] && context['users'][key1]['icon:bgColor'])) + ';">' + helpers.__escape(guard(context && context['users'] && context['users'][key1] && context['users'][key1]['icon:text'])) + '</div>') + helpers.__escape(guard(context && context['users'] && context['users'][key1] && context['users'][key1]['username'])) + '\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t';
	    });
	  }
	};

  return compiled;
});
  